/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/player.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./instruments.yaml":
/*!**************************!*\
  !*** ./instruments.yaml ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

const doc = [({"midi.piano1":({"index":0, "duration":"short", "category":["MIDI", "Piano", "Grand Piano"]}), "midi.chrom1":({"index":8, "duration":"constant", "category":["MIDI", "Bells", "Celesta"]}), "midi.organ1":({"index":16, "duration":"instant", "category":["MIDI", "Organ", "Drawbar Organ"]}), "midi.guitar1":({"index":24, "duration":"short", "category":["MIDI", "Guitar", "Nylon Guitar"]}), "midi.bass1":({"index":32, "duration":"instant", "category":["MIDI", "Bass", "Acoustic Bass"]}), "midi.strings1":({"index":40, "duration":"mini", "category":["MIDI", "Strings", "Violin"]}), "midi.ensemble1":({"index":48, "duration":"mid", "category":["MIDI", "Ensemble", "String Ensemble 1"]}), "midi.brass1":({"index":56, "duration":"mini", "category":["MIDI", "Brass", "Trumpet"]}), "midi.reed1":({"index":64, "duration":"mini", "category":["MIDI", "Reed", "Soprano Sax"]}), "midi.pipe1":({"index":72, "duration":"mini", "category":["MIDI", "Pipe", "Piccolo"]}), "midi.lead1":({"index":80, "duration":"mini", "category":["MIDI", "Lead", "Square Lead"]}), "midi.pad1":({"index":88, "duration":"long", "category":["MIDI", "Pads", "New Age Pad"]}), "midi.fx1":({"index":96, "duration":"mega", "category":["MIDI", "Synth", "Rain"]}), "midi.world1":({"index":104, "duration":"extended", "category":["MIDI", "World", "Sitar"]}), "midi.percus1":({"index":112, "duration":"long", "category":["MIDI", "Drums", "Tinkle Bell"]}), "midi.se1":({"index":120, "duration":"mini", "category":["MIDI", "Effects", "Fret Noise"]}), "square":({"index":128, "duration":"infinite", "category":["Chiptune", "Square Wave"]})})];
module.exports = doc.length <= 1 ? doc[0] : doc;

/***/ }),

/***/ "./node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js":
/*!******************************************************************!*\
  !*** ./node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// nb. This is for IE10 and lower _only_.
var supportCustomEvent = window.CustomEvent;
if (!supportCustomEvent || typeof supportCustomEvent === 'object') {
  supportCustomEvent = function CustomEvent(event, x) {
    x = x || {};
    var ev = document.createEvent('CustomEvent');
    ev.initCustomEvent(event, !!x.bubbles, !!x.cancelable, x.detail || null);
    return ev;
  };
  supportCustomEvent.prototype = window.Event.prototype;
}

/**
 * @param {Element} el to check for stacking context
 * @return {boolean} whether this el or its parents creates a stacking context
 */
function createsStackingContext(el) {
  while (el && el !== document.body) {
    var s = window.getComputedStyle(el);
    var invalid = function(k, ok) {
      return !(s[k] === undefined || s[k] === ok);
    };
    
    if (s.opacity < 1 ||
        invalid('zIndex', 'auto') ||
        invalid('transform', 'none') ||
        invalid('mixBlendMode', 'normal') ||
        invalid('filter', 'none') ||
        invalid('perspective', 'none') ||
        s['isolation'] === 'isolate' ||
        s.position === 'fixed' ||
        s.webkitOverflowScrolling === 'touch') {
      return true;
    }
    el = el.parentElement;
  }
  return false;
}

/**
 * Finds the nearest <dialog> from the passed element.
 *
 * @param {Element} el to search from
 * @return {HTMLDialogElement} dialog found
 */
function findNearestDialog(el) {
  while (el) {
    if (el.localName === 'dialog') {
      return /** @type {HTMLDialogElement} */ (el);
    }
    el = el.parentElement;
  }
  return null;
}

/**
 * Blur the specified element, as long as it's not the HTML body element.
 * This works around an IE9/10 bug - blurring the body causes Windows to
 * blur the whole application.
 *
 * @param {Element} el to blur
 */
function safeBlur(el) {
  if (el && el.blur && el !== document.body) {
    el.blur();
  }
}

/**
 * @param {!NodeList} nodeList to search
 * @param {Node} node to find
 * @return {boolean} whether node is inside nodeList
 */
function inNodeList(nodeList, node) {
  for (var i = 0; i < nodeList.length; ++i) {
    if (nodeList[i] === node) {
      return true;
    }
  }
  return false;
}

/**
 * @param {HTMLFormElement} el to check
 * @return {boolean} whether this form has method="dialog"
 */
function isFormMethodDialog(el) {
  if (!el || !el.hasAttribute('method')) {
    return false;
  }
  return el.getAttribute('method').toLowerCase() === 'dialog';
}

/**
 * @param {!HTMLDialogElement} dialog to upgrade
 * @constructor
 */
function dialogPolyfillInfo(dialog) {
  this.dialog_ = dialog;
  this.replacedStyleTop_ = false;
  this.openAsModal_ = false;

  // Set a11y role. Browsers that support dialog implicitly know this already.
  if (!dialog.hasAttribute('role')) {
    dialog.setAttribute('role', 'dialog');
  }

  dialog.show = this.show.bind(this);
  dialog.showModal = this.showModal.bind(this);
  dialog.close = this.close.bind(this);

  if (!('returnValue' in dialog)) {
    dialog.returnValue = '';
  }

  if ('MutationObserver' in window) {
    var mo = new MutationObserver(this.maybeHideModal.bind(this));
    mo.observe(dialog, {attributes: true, attributeFilter: ['open']});
  } else {
    // IE10 and below support. Note that DOMNodeRemoved etc fire _before_ removal. They also
    // seem to fire even if the element was removed as part of a parent removal. Use the removed
    // events to force downgrade (useful if removed/immediately added).
    var removed = false;
    var cb = function() {
      removed ? this.downgradeModal() : this.maybeHideModal();
      removed = false;
    }.bind(this);
    var timeout;
    var delayModel = function(ev) {
      if (ev.target !== dialog) { return; }  // not for a child element
      var cand = 'DOMNodeRemoved';
      removed |= (ev.type.substr(0, cand.length) === cand);
      window.clearTimeout(timeout);
      timeout = window.setTimeout(cb, 0);
    };
    ['DOMAttrModified', 'DOMNodeRemoved', 'DOMNodeRemovedFromDocument'].forEach(function(name) {
      dialog.addEventListener(name, delayModel);
    });
  }
  // Note that the DOM is observed inside DialogManager while any dialog
  // is being displayed as a modal, to catch modal removal from the DOM.

  Object.defineProperty(dialog, 'open', {
    set: this.setOpen.bind(this),
    get: dialog.hasAttribute.bind(dialog, 'open')
  });

  this.backdrop_ = document.createElement('div');
  this.backdrop_.className = 'backdrop';
  this.backdrop_.addEventListener('click', this.backdropClick_.bind(this));
}

dialogPolyfillInfo.prototype = {

  get dialog() {
    return this.dialog_;
  },

  /**
   * Maybe remove this dialog from the modal top layer. This is called when
   * a modal dialog may no longer be tenable, e.g., when the dialog is no
   * longer open or is no longer part of the DOM.
   */
  maybeHideModal: function() {
    if (this.dialog_.hasAttribute('open') && document.body.contains(this.dialog_)) { return; }
    this.downgradeModal();
  },

  /**
   * Remove this dialog from the modal top layer, leaving it as a non-modal.
   */
  downgradeModal: function() {
    if (!this.openAsModal_) { return; }
    this.openAsModal_ = false;
    this.dialog_.style.zIndex = '';

    // This won't match the native <dialog> exactly because if the user set top on a centered
    // polyfill dialog, that top gets thrown away when the dialog is closed. Not sure it's
    // possible to polyfill this perfectly.
    if (this.replacedStyleTop_) {
      this.dialog_.style.top = '';
      this.replacedStyleTop_ = false;
    }

    // Clear the backdrop and remove from the manager.
    this.backdrop_.parentNode && this.backdrop_.parentNode.removeChild(this.backdrop_);
    dialogPolyfill.dm.removeDialog(this);
  },

  /**
   * @param {boolean} value whether to open or close this dialog
   */
  setOpen: function(value) {
    if (value) {
      this.dialog_.hasAttribute('open') || this.dialog_.setAttribute('open', '');
    } else {
      this.dialog_.removeAttribute('open');
      this.maybeHideModal();  // nb. redundant with MutationObserver
    }
  },

  /**
   * Handles clicks on the fake .backdrop element, redirecting them as if
   * they were on the dialog itself.
   *
   * @param {!Event} e to redirect
   */
  backdropClick_: function(e) {
    if (!this.dialog_.hasAttribute('tabindex')) {
      // Clicking on the backdrop should move the implicit cursor, even if dialog cannot be
      // focused. Create a fake thing to focus on. If the backdrop was _before_ the dialog, this
      // would not be needed - clicks would move the implicit cursor there.
      var fake = document.createElement('div');
      this.dialog_.insertBefore(fake, this.dialog_.firstChild);
      fake.tabIndex = -1;
      fake.focus();
      this.dialog_.removeChild(fake);
    } else {
      this.dialog_.focus();
    }

    var redirectedEvent = document.createEvent('MouseEvents');
    redirectedEvent.initMouseEvent(e.type, e.bubbles, e.cancelable, window,
        e.detail, e.screenX, e.screenY, e.clientX, e.clientY, e.ctrlKey,
        e.altKey, e.shiftKey, e.metaKey, e.button, e.relatedTarget);
    this.dialog_.dispatchEvent(redirectedEvent);
    e.stopPropagation();
  },

  /**
   * Focuses on the first focusable element within the dialog. This will always blur the current
   * focus, even if nothing within the dialog is found.
   */
  focus_: function() {
    // Find element with `autofocus` attribute, or fall back to the first form/tabindex control.
    var target = this.dialog_.querySelector('[autofocus]:not([disabled])');
    if (!target && this.dialog_.tabIndex >= 0) {
      target = this.dialog_;
    }
    if (!target) {
      // Note that this is 'any focusable area'. This list is probably not exhaustive, but the
      // alternative involves stepping through and trying to focus everything.
      var opts = ['button', 'input', 'keygen', 'select', 'textarea'];
      var query = opts.map(function(el) {
        return el + ':not([disabled])';
      });
      // TODO(samthor): tabindex values that are not numeric are not focusable.
      query.push('[tabindex]:not([disabled]):not([tabindex=""])');  // tabindex != "", not disabled
      target = this.dialog_.querySelector(query.join(', '));
    }
    safeBlur(document.activeElement);
    target && target.focus();
  },

  /**
   * Sets the zIndex for the backdrop and dialog.
   *
   * @param {number} dialogZ
   * @param {number} backdropZ
   */
  updateZIndex: function(dialogZ, backdropZ) {
    if (dialogZ < backdropZ) {
      throw new Error('dialogZ should never be < backdropZ');
    }
    this.dialog_.style.zIndex = dialogZ;
    this.backdrop_.style.zIndex = backdropZ;
  },

  /**
   * Shows the dialog. If the dialog is already open, this does nothing.
   */
  show: function() {
    if (!this.dialog_.open) {
      this.setOpen(true);
      this.focus_();
    }
  },

  /**
   * Show this dialog modally.
   */
  showModal: function() {
    if (this.dialog_.hasAttribute('open')) {
      throw new Error('Failed to execute \'showModal\' on dialog: The element is already open, and therefore cannot be opened modally.');
    }
    if (!document.body.contains(this.dialog_)) {
      throw new Error('Failed to execute \'showModal\' on dialog: The element is not in a Document.');
    }
    if (!dialogPolyfill.dm.pushDialog(this)) {
      throw new Error('Failed to execute \'showModal\' on dialog: There are too many open modal dialogs.');
    }

    if (createsStackingContext(this.dialog_.parentElement)) {
      console.warn('A dialog is being shown inside a stacking context. ' +
          'This may cause it to be unusable. For more information, see this link: ' +
          'https://github.com/GoogleChrome/dialog-polyfill/#stacking-context');
    }

    this.setOpen(true);
    this.openAsModal_ = true;

    // Optionally center vertically, relative to the current viewport.
    if (dialogPolyfill.needsCentering(this.dialog_)) {
      dialogPolyfill.reposition(this.dialog_);
      this.replacedStyleTop_ = true;
    } else {
      this.replacedStyleTop_ = false;
    }

    // Insert backdrop.
    this.dialog_.parentNode.insertBefore(this.backdrop_, this.dialog_.nextSibling);

    // Focus on whatever inside the dialog.
    this.focus_();
  },

  /**
   * Closes this HTMLDialogElement. This is optional vs clearing the open
   * attribute, however this fires a 'close' event.
   *
   * @param {string=} opt_returnValue to use as the returnValue
   */
  close: function(opt_returnValue) {
    if (!this.dialog_.hasAttribute('open')) {
      throw new Error('Failed to execute \'close\' on dialog: The element does not have an \'open\' attribute, and therefore cannot be closed.');
    }
    this.setOpen(false);

    // Leave returnValue untouched in case it was set directly on the element
    if (opt_returnValue !== undefined) {
      this.dialog_.returnValue = opt_returnValue;
    }

    // Triggering "close" event for any attached listeners on the <dialog>.
    var closeEvent = new supportCustomEvent('close', {
      bubbles: false,
      cancelable: false
    });
    this.dialog_.dispatchEvent(closeEvent);
  }

};

var dialogPolyfill = {};

dialogPolyfill.reposition = function(element) {
  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
  var topValue = scrollTop + (window.innerHeight - element.offsetHeight) / 2;
  element.style.top = Math.max(scrollTop, topValue) + 'px';
};

dialogPolyfill.isInlinePositionSetByStylesheet = function(element) {
  for (var i = 0; i < document.styleSheets.length; ++i) {
    var styleSheet = document.styleSheets[i];
    var cssRules = null;
    // Some browsers throw on cssRules.
    try {
      cssRules = styleSheet.cssRules;
    } catch (e) {}
    if (!cssRules) { continue; }
    for (var j = 0; j < cssRules.length; ++j) {
      var rule = cssRules[j];
      var selectedNodes = null;
      // Ignore errors on invalid selector texts.
      try {
        selectedNodes = document.querySelectorAll(rule.selectorText);
      } catch(e) {}
      if (!selectedNodes || !inNodeList(selectedNodes, element)) {
        continue;
      }
      var cssTop = rule.style.getPropertyValue('top');
      var cssBottom = rule.style.getPropertyValue('bottom');
      if ((cssTop && cssTop !== 'auto') || (cssBottom && cssBottom !== 'auto')) {
        return true;
      }
    }
  }
  return false;
};

dialogPolyfill.needsCentering = function(dialog) {
  var computedStyle = window.getComputedStyle(dialog);
  if (computedStyle.position !== 'absolute') {
    return false;
  }

  // We must determine whether the top/bottom specified value is non-auto.  In
  // WebKit/Blink, checking computedStyle.top == 'auto' is sufficient, but
  // Firefox returns the used value. So we do this crazy thing instead: check
  // the inline style and then go through CSS rules.
  if ((dialog.style.top !== 'auto' && dialog.style.top !== '') ||
      (dialog.style.bottom !== 'auto' && dialog.style.bottom !== '')) {
    return false;
  }
  return !dialogPolyfill.isInlinePositionSetByStylesheet(dialog);
};

/**
 * @param {!Element} element to force upgrade
 */
dialogPolyfill.forceRegisterDialog = function(element) {
  if (window.HTMLDialogElement || element.showModal) {
    console.warn('This browser already supports <dialog>, the polyfill ' +
        'may not work correctly', element);
  }
  if (element.localName !== 'dialog') {
    throw new Error('Failed to register dialog: The element is not a dialog.');
  }
  new dialogPolyfillInfo(/** @type {!HTMLDialogElement} */ (element));
};

/**
 * @param {!Element} element to upgrade, if necessary
 */
dialogPolyfill.registerDialog = function(element) {
  if (!element.showModal) {
    dialogPolyfill.forceRegisterDialog(element);
  }
};

/**
 * @constructor
 */
dialogPolyfill.DialogManager = function() {
  /** @type {!Array<!dialogPolyfillInfo>} */
  this.pendingDialogStack = [];

  var checkDOM = this.checkDOM_.bind(this);

  // The overlay is used to simulate how a modal dialog blocks the document.
  // The blocking dialog is positioned on top of the overlay, and the rest of
  // the dialogs on the pending dialog stack are positioned below it. In the
  // actual implementation, the modal dialog stacking is controlled by the
  // top layer, where z-index has no effect.
  this.overlay = document.createElement('div');
  this.overlay.className = '_dialog_overlay';
  this.overlay.addEventListener('click', function(e) {
    this.forwardTab_ = undefined;
    e.stopPropagation();
    checkDOM([]);  // sanity-check DOM
  }.bind(this));

  this.handleKey_ = this.handleKey_.bind(this);
  this.handleFocus_ = this.handleFocus_.bind(this);

  this.zIndexLow_ = 100000;
  this.zIndexHigh_ = 100000 + 150;

  this.forwardTab_ = undefined;

  if ('MutationObserver' in window) {
    this.mo_ = new MutationObserver(function(records) {
      var removed = [];
      records.forEach(function(rec) {
        for (var i = 0, c; c = rec.removedNodes[i]; ++i) {
          if (!(c instanceof Element)) {
            continue;
          } else if (c.localName === 'dialog') {
            removed.push(c);
          }
          removed = removed.concat(c.querySelectorAll('dialog'));
        }
      });
      removed.length && checkDOM(removed);
    });
  }
};

/**
 * Called on the first modal dialog being shown. Adds the overlay and related
 * handlers.
 */
dialogPolyfill.DialogManager.prototype.blockDocument = function() {
  document.documentElement.addEventListener('focus', this.handleFocus_, true);
  document.addEventListener('keydown', this.handleKey_);
  this.mo_ && this.mo_.observe(document, {childList: true, subtree: true});
};

/**
 * Called on the first modal dialog being removed, i.e., when no more modal
 * dialogs are visible.
 */
dialogPolyfill.DialogManager.prototype.unblockDocument = function() {
  document.documentElement.removeEventListener('focus', this.handleFocus_, true);
  document.removeEventListener('keydown', this.handleKey_);
  this.mo_ && this.mo_.disconnect();
};

/**
 * Updates the stacking of all known dialogs.
 */
dialogPolyfill.DialogManager.prototype.updateStacking = function() {
  var zIndex = this.zIndexHigh_;

  for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {
    dpi.updateZIndex(--zIndex, --zIndex);
    if (i === 0) {
      this.overlay.style.zIndex = --zIndex;
    }
  }

  // Make the overlay a sibling of the dialog itself.
  var last = this.pendingDialogStack[0];
  if (last) {
    var p = last.dialog.parentNode || document.body;
    p.appendChild(this.overlay);
  } else if (this.overlay.parentNode) {
    this.overlay.parentNode.removeChild(this.overlay);
  }
};

/**
 * @param {Element} candidate to check if contained or is the top-most modal dialog
 * @return {boolean} whether candidate is contained in top dialog
 */
dialogPolyfill.DialogManager.prototype.containedByTopDialog_ = function(candidate) {
  while (candidate = findNearestDialog(candidate)) {
    for (var i = 0, dpi; dpi = this.pendingDialogStack[i]; ++i) {
      if (dpi.dialog === candidate) {
        return i === 0;  // only valid if top-most
      }
    }
    candidate = candidate.parentElement;
  }
  return false;
};

dialogPolyfill.DialogManager.prototype.handleFocus_ = function(event) {
  if (this.containedByTopDialog_(event.target)) { return; }

  if (document.activeElement === document.documentElement) { return; }

  event.preventDefault();
  event.stopPropagation();
  safeBlur(/** @type {Element} */ (event.target));

  if (this.forwardTab_ === undefined) { return; }  // move focus only from a tab key

  var dpi = this.pendingDialogStack[0];
  var dialog = dpi.dialog;
  var position = dialog.compareDocumentPosition(event.target);
  if (position & Node.DOCUMENT_POSITION_PRECEDING) {
    if (this.forwardTab_) {
      // forward
      dpi.focus_();
    } else if (event.target !== document.documentElement) {
      // backwards if we're not already focused on <html>
      document.documentElement.focus();
    }
  }

  return false;
};

dialogPolyfill.DialogManager.prototype.handleKey_ = function(event) {
  this.forwardTab_ = undefined;
  if (event.keyCode === 27) {
    event.preventDefault();
    event.stopPropagation();
    var cancelEvent = new supportCustomEvent('cancel', {
      bubbles: false,
      cancelable: true
    });
    var dpi = this.pendingDialogStack[0];
    if (dpi && dpi.dialog.dispatchEvent(cancelEvent)) {
      dpi.dialog.close();
    }
  } else if (event.keyCode === 9) {
    this.forwardTab_ = !event.shiftKey;
  }
};

/**
 * Finds and downgrades any known modal dialogs that are no longer displayed. Dialogs that are
 * removed and immediately readded don't stay modal, they become normal.
 *
 * @param {!Array<!HTMLDialogElement>} removed that have definitely been removed
 */
dialogPolyfill.DialogManager.prototype.checkDOM_ = function(removed) {
  // This operates on a clone because it may cause it to change. Each change also calls
  // updateStacking, which only actually needs to happen once. But who removes many modal dialogs
  // at a time?!
  var clone = this.pendingDialogStack.slice();
  clone.forEach(function(dpi) {
    if (removed.indexOf(dpi.dialog) !== -1) {
      dpi.downgradeModal();
    } else {
      dpi.maybeHideModal();
    }
  });
};

/**
 * @param {!dialogPolyfillInfo} dpi
 * @return {boolean} whether the dialog was allowed
 */
dialogPolyfill.DialogManager.prototype.pushDialog = function(dpi) {
  var allowed = (this.zIndexHigh_ - this.zIndexLow_) / 2 - 1;
  if (this.pendingDialogStack.length >= allowed) {
    return false;
  }
  if (this.pendingDialogStack.unshift(dpi) === 1) {
    this.blockDocument();
  }
  this.updateStacking();
  return true;
};

/**
 * @param {!dialogPolyfillInfo} dpi
 */
dialogPolyfill.DialogManager.prototype.removeDialog = function(dpi) {
  var index = this.pendingDialogStack.indexOf(dpi);
  if (index === -1) { return; }

  this.pendingDialogStack.splice(index, 1);
  if (this.pendingDialogStack.length === 0) {
    this.unblockDocument();
  }
  this.updateStacking();
};

dialogPolyfill.dm = new dialogPolyfill.DialogManager();
dialogPolyfill.formSubmitter = null;
dialogPolyfill.useValue = null;

/**
 * Installs global handlers, such as click listers and native method overrides. These are needed
 * even if a no dialog is registered, as they deal with <form method="dialog">.
 */
if (window.HTMLDialogElement === undefined) {

  /**
   * If HTMLFormElement translates method="DIALOG" into 'get', then replace the descriptor with
   * one that returns the correct value.
   */
  var testForm = document.createElement('form');
  testForm.setAttribute('method', 'dialog');
  if (testForm.method !== 'dialog') {
    var methodDescriptor = Object.getOwnPropertyDescriptor(HTMLFormElement.prototype, 'method');
    if (methodDescriptor) {
      // nb. Some older iOS and older PhantomJS fail to return the descriptor. Don't do anything
      // and don't bother to update the element.
      var realGet = methodDescriptor.get;
      methodDescriptor.get = function() {
        if (isFormMethodDialog(this)) {
          return 'dialog';
        }
        return realGet.call(this);
      };
      var realSet = methodDescriptor.set;
      methodDescriptor.set = function(v) {
        if (typeof v === 'string' && v.toLowerCase() === 'dialog') {
          return this.setAttribute('method', v);
        }
        return realSet.call(this, v);
      };
      Object.defineProperty(HTMLFormElement.prototype, 'method', methodDescriptor);
    }
  }

  /**
   * Global 'click' handler, to capture the <input type="submit"> or <button> element which has
   * submitted a <form method="dialog">. Needed as Safari and others don't report this inside
   * document.activeElement.
   */
  document.addEventListener('click', function(ev) {
    dialogPolyfill.formSubmitter = null;
    dialogPolyfill.useValue = null;
    if (ev.defaultPrevented) { return; }  // e.g. a submit which prevents default submission

    var target = /** @type {Element} */ (ev.target);
    if (!target || !isFormMethodDialog(target.form)) { return; }

    var valid = (target.type === 'submit' && ['button', 'input'].indexOf(target.localName) > -1);
    if (!valid) {
      if (!(target.localName === 'input' && target.type === 'image')) { return; }
      // this is a <input type="image">, which can submit forms
      dialogPolyfill.useValue = ev.offsetX + ',' + ev.offsetY;
    }

    var dialog = findNearestDialog(target);
    if (!dialog) { return; }

    dialogPolyfill.formSubmitter = target;

  }, false);

  /**
   * Replace the native HTMLFormElement.submit() method, as it won't fire the
   * submit event and give us a chance to respond.
   */
  var nativeFormSubmit = HTMLFormElement.prototype.submit;
  var replacementFormSubmit = function () {
    if (!isFormMethodDialog(this)) {
      return nativeFormSubmit.call(this);
    }
    var dialog = findNearestDialog(this);
    dialog && dialog.close();
  };
  HTMLFormElement.prototype.submit = replacementFormSubmit;

  /**
   * Global form 'dialog' method handler. Closes a dialog correctly on submit
   * and possibly sets its return value.
   */
  document.addEventListener('submit', function(ev) {
    var form = /** @type {HTMLFormElement} */ (ev.target);
    if (!isFormMethodDialog(form)) { return; }
    ev.preventDefault();

    var dialog = findNearestDialog(form);
    if (!dialog) { return; }

    // Forms can only be submitted via .submit() or a click (?), but anyway: sanity-check that
    // the submitter is correct before using its value as .returnValue.
    var s = dialogPolyfill.formSubmitter;
    if (s && s.form === form) {
      dialog.close(dialogPolyfill.useValue || s.value);
    } else {
      dialog.close();
    }
    dialogPolyfill.formSubmitter = null;

  }, true);
}

/* harmony default export */ __webpack_exports__["default"] = (dialogPolyfill);


/***/ }),

/***/ "./node_modules/tone/build/Tone.js":
/*!*****************************************!*\
  !*** ./node_modules/tone/build/Tone.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=155)}([function(t,e,i){(function(n){var o,s;
/**
 *  Tone.js
 *  @author Yotam Mann
 *  @license http://opensource.org/licenses/MIT MIT License
 *  @copyright 2014-2019 Yotam Mann
 */o=[i(153)],void 0===(s=function(t){"use strict";var e=function(){if(!(this instanceof e))throw new Error("constructor needs to be called with the 'new' keyword")};return e.prototype.toString=function(){for(var t in e){var i=t[0].match(/^[A-Z]$/),n=e[t]===this.constructor;if(e.isFunction(e[t])&&i&&n)return t}return"Tone"},e.prototype.dispose=function(){return this},e.prototype.set=function(t,i,n){if(e.isObject(t))n=i;else if(e.isString(t)){var o={};o[t]=i,t=o}t:for(var s in t){i=t[s];var r=this;if(-1!==s.indexOf(".")){for(var a=s.split("."),l=0;l<a.length-1;l++)if((r=r[a[l]])instanceof e){a.splice(0,l+1);var h=a.join(".");r.set(h,i);continue t}s=a[a.length-1]}var u=r[s];e.isUndef(u)||(e.Signal&&u instanceof e.Signal||e.Param&&u instanceof e.Param?u.value!==i&&(e.isUndef(n)?u.value=i:u.rampTo(i,n)):u instanceof AudioParam?u.value!==i&&(u.value=i):e.TimeBase&&u instanceof e.TimeBase?r[s]=i:u instanceof e?u.set(i):u!==i&&(r[s]=i))}return this},e.prototype.get=function(t){e.isUndef(t)?t=this._collectDefaults(this.constructor):e.isString(t)&&(t=[t]);for(var i={},n=0;n<t.length;n++){var o=t[n],s=this,r=i;if(-1!==o.indexOf(".")){for(var a=o.split("."),l=0;l<a.length-1;l++){var h=a[l];r[h]=r[h]||{},r=r[h],s=s[h]}o=a[a.length-1]}var u=s[o];e.isObject(t[o])?r[o]=u.get():e.Signal&&u instanceof e.Signal?r[o]=u.value:e.Param&&u instanceof e.Param?r[o]=u.value:u instanceof AudioParam?r[o]=u.value:u instanceof e?r[o]=u.get():!e.isFunction(u)&&e.isDefined(u)&&(r[o]=u)}return i},e.prototype._collectDefaults=function(t){var i=[];if(e.isDefined(t.defaults)&&(i=Object.keys(t.defaults)),e.isDefined(t._super))for(var n=this._collectDefaults(t._super),o=0;o<n.length;o++)-1===i.indexOf(n[o])&&i.push(n[o]);return i},e.defaults=function(t,i,n){var o={};if(1===t.length&&e.isObject(t[0]))o=t[0];else for(var s=0;s<i.length;s++)o[i[s]]=t[s];return e.isDefined(n.defaults)?e.defaultArg(o,n.defaults):e.isObject(n)?e.defaultArg(o,n):o},e.defaultArg=function(t,i){if(e.isObject(t)&&e.isObject(i)){var n={};for(var o in t)n[o]=e.defaultArg(i[o],t[o]);for(var s in i)n[s]=e.defaultArg(t[s],i[s]);return n}return e.isUndef(t)?i:t},e.prototype.log=function(){if(this.debug||this.toString()===e.global.TONE_DEBUG_CLASS){var t=Array.from(arguments);t.unshift(this.toString()+":"),console.log.apply(void 0,t)}},e.prototype.assert=function(t,e){if(!t)throw new Error(e)},e.connectSeries=function(){for(var t=arguments[0],i=1;i<arguments.length;i++){var n=arguments[i];t.connect(n),t=n}return e},e.isUndef=function(t){return void 0===t},e.isDefined=function(t){return!e.isUndef(t)},e.isFunction=function(t){return"function"==typeof t},e.isNumber=function(t){return"number"==typeof t},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},e.isBoolean=function(t){return"boolean"==typeof t},e.isArray=function(t){return Array.isArray(t)},e.isString=function(t){return"string"==typeof t},e.isNote=function(t){return e.isString(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)},e.noOp=function(){},e.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},e.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},e.State={Started:"started",Stopped:"stopped",Paused:"paused"},e.global=e.isUndef(n)?window:n,e.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},e.dbToGain=function(t){return Math.pow(10,t/20)},e.gainToDb=function(t){return Math.log(t)/Math.LN10*20},e.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},e.prototype.now=function(){return e.context.now()},e.now=function(){return e.context.now()},e.prototype.immediate=function(){return e.context.currentTime},e.immediate=function(){return e.context.currentTime},e.extend=function(t,i){function n(){}e.isUndef(i)&&(i=e),n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t,t._super=i},e._audioContext=null,e.start=function(){return e.context.resume()},Object.defineProperty(e,"context",{get:function(){return e._audioContext},set:function(t){t.isContext?e._audioContext=t:e._audioContext=new e.Context(t),e.Context.emit("init",e._audioContext)}}),Object.defineProperty(e.prototype,"context",{get:function(){return e.context}}),e.setContext=function(t){e.context=t},Object.defineProperty(e.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(e.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(e,"supported",{get:function(){var t=e.global.hasOwnProperty("AudioContext")||e.global.hasOwnProperty("webkitAudioContext"),i=e.global.hasOwnProperty("Promise");return t&&i}}),Object.defineProperty(e,"initialized",{get:function(){return Boolean(e.context)}}),e.getContext=function(t){if(e.initialized)t(e.context);else{var i=function(){t(e.context),e.Context.off("init",i)};e.Context.on("init",i)}return e},e.version=t,e}.apply(e,o))||(t.exports=s)}).call(this,i(154))},function(t,e,i){var n,o;n=[i(0),i(7),i(4),i(14),i(97),i(3)],void 0===(o=function(t){"use strict";return t.Signal=function(){var e=t.defaults(arguments,["value","units"],t.Signal);t.Param.call(this,e),this._constantSource=this.context.createConstantSource(),this._constantSource.start(0),this._param=this._constantSource.offset,this.value=e.value,this.output=this._constantSource,this.input=this._param=this.output.offset},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.disconnect=t.SignalBase.prototype.disconnect,t.Signal.prototype.getValueAtTime=function(e){return this._param.getValueAtTime?this._param.getValueAtTime(e):t.Param.prototype.getValueAtTime.call(this,e)},t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._constantSource.disconnect(),this._constantSource=null,this},t.Signal}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(20)],void 0===(o=function(t){return t.AudioNode=function(){t.call(this);var e=t.defaults(arguments,["context"],{context:t.context});this._context=e.context},t.extend(t.AudioNode),Object.defineProperty(t.AudioNode.prototype,"context",{get:function(){return this._context}}),t.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(e))},Object.defineProperty(t.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}}),Object.defineProperty(t.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}}),Object.defineProperty(t.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}}),Object.defineProperty(t.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?t.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(t.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?t.isArray(this.output)?this.output.length:1:0}}),t.AudioNode.prototype.connect=function(e,i,n){return t.isArray(this.output)?(i=t.defaultArg(i,0),this.output[i].connect(e,0,n)):this.output.connect(e,i,n),this},t.AudioNode.prototype.disconnect=function(e,i,n){t.isArray(this.output)?t.isNumber(e)?this.output[e].disconnect():(i=t.defaultArg(i,0),this.output[i].disconnect(e,0,n)):this.output.disconnect.apply(this.output,arguments)},t.AudioNode.prototype.chain=function(){for(var t=this,e=0;e<arguments.length;e++){var i=arguments[e];t.connect(i),t=i}return this},t.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},t.global.AudioNode&&(AudioNode.prototype.chain=t.AudioNode.prototype.chain,AudioNode.prototype.fan=t.AudioNode.prototype.fan),t.AudioNode.prototype.dispose=function(){return t.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),t.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},t.AudioNode}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(14),i(4),i(2)],void 0===(o=function(t){"use strict";return t.Gain=function(){var e=t.defaults(arguments,["gain","units"],t.Gain);t.AudioNode.call(this,e),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain,t.AudioNode),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.Gain}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(65),i(46),i(45),i(20)],void 0===(o=function(t){return t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},t.prototype.toSeconds=function(e){return t.isNumber(e)?e:t.isUndef(e)?this.now():t.isString(e)||t.isObject(e)?new t.Time(e).toSeconds():e instanceof t.TimeBase?e.toSeconds():void 0},t.prototype.toFrequency=function(e){return t.isNumber(e)?e:t.isString(e)||t.isUndef(e)||t.isObject(e)?new t.Frequency(e).valueOf():e instanceof t.TimeBase?e.toFrequency():void 0},t.prototype.toTicks=function(e){return t.isNumber(e)||t.isString(e)||t.isObject(e)?new t.TransportTime(e).toTicks():t.isUndef(e)?t.Transport.ticks:e instanceof t.TimeBase?e.toTicks():void 0},t}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(14),i(3),i(36)],void 0===(o=function(t){"use strict";return t.Multiply=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new t.Gain,this._param=this.input[1]=this.output.gain,this.value=t.defaultArg(e,0),this.proxy=!1},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},t.Multiply}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(16),i(27),i(40),i(4),i(33),i(1),i(2)],void 0===(o=function(t){"use strict";return t.Source=function(e){e=t.defaultArg(e,t.Source.defaults),t.AudioNode.call(this),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new t.TimelineState(t.State.Stopped),this._state.memory=100,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=e.mute},t.extend(t.Source,t.AudioNode),t.Source.defaults={volume:0,mute:!1},Object.defineProperty(t.Source.prototype,"state",{get:function(){return this._synced?t.Transport.state===t.State.Started?this._state.getValueAtTime(t.Transport.seconds):t.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(t.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.Source.prototype._start=t.noOp,t.Source.prototype.restart=t.noOp,t.Source.prototype._stop=t.noOp,t.Source.prototype.start=function(e,i,n){if(e=t.isUndef(e)&&this._synced?t.Transport.seconds:this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started)this._state.cancel(e),this._state.setStateAtTime(t.State.Started,e),this.restart(e,i,n);else if(this._state.setStateAtTime(t.State.Started,e),this._synced){var o=this._state.get(e);o.offset=t.defaultArg(i,0),o.duration=n;var s=t.Transport.schedule(function(t){this._start(t,i,n)}.bind(this),e);this._scheduled.push(s),t.Transport.state===t.State.Started&&this._syncedStart(this.now(),t.Transport.seconds)}else this._start.apply(this,arguments);return this},t.Source.prototype.stop=function(e){if(e=t.isUndef(e)&&this._synced?t.Transport.seconds:this.toSeconds(e),this._synced){var i=t.Transport.schedule(this._stop.bind(this),e);this._scheduled.push(i)}else this._stop.apply(this,arguments);return this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this},t.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(e,i){if(i>0){var n=this._state.get(i);if(n&&n.state===t.State.Started&&n.time!==i){var o,s=i-this.toSeconds(n.time);n.duration&&(o=this.toSeconds(n.duration)-s),this._start(e,this.toSeconds(n.offset)+s,o)}}}.bind(this),this._syncedStop=function(e){var i=t.Transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(i)===t.State.Started&&this._stop(e)}.bind(this),t.Transport.on("start loopStart",this._syncedStart),t.Transport.on("stop pause loopEnd",this._syncedStop),this},t.Source.prototype.unsync=function(){this._synced&&(t.Transport.off("stop pause loopEnd",this._syncedStop),t.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var e=0;e<this._scheduled.length;e++){var i=this._scheduled[e];t.Transport.clear(i)}return this._scheduled=[],this._state.cancel(0),this},t.Source.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},t.Source}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(36),i(98)],void 0===(o=function(t){"use strict";return t.WaveShaper=function(e,i){t.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(e)?this.curve=e:isFinite(e)||t.isUndef(e)?this._curve=new Float32Array(t.defaultArg(e,1024)):t.isFunction(e)&&(this._curve=new Float32Array(t.defaultArg(i,1024)),this.setMap(e))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=new Array(this._curve.length),i=0,n=this._curve.length;i<n;i++){var o=i/(n-1)*2-1;e[i]=t(o,i)}return this.curve=e,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(!["none","2x","4x"].includes(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(23),i(2)],void 0===(o=function(t){"use strict";return t.Effect=function(){var e=t.defaults(arguments,["wet"],t.Effect);t.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this.effectSend=new t.Gain,this.effectReturn=new t.Gain,this.input.connect(this._dryWet.a),this.input.connect(this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.Effect,t.AudioNode),t.Effect.defaults={wet:1},t.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},t.Effect.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},t.Effect}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(2)],void 0===(o=function(t){"use strict";return t.Filter=function(){var e=t.defaults(arguments,["frequency","type","rolloff"],t.Filter);t.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(0,t.Type.Cents),this.gain=new t.Signal({value:e.gain,convert:!0,type:t.Type.Decibels}),this.Q=new t.Signal(e.Q),this._type=e.type,this._rolloff=e.rolloff,this.rolloff=e.rolloff,this._readOnly(["detune","frequency","gain","Q"])},t.extend(t.Filter,t.AudioNode),t.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(t.Filter.prototype,"type",{get:function(){return this._type},set:function(t){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var e=0;e<this._filters.length;e++)this._filters[e].type=t}}),Object.defineProperty(t.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(e){e=parseInt(e,10);var i=[-12,-24,-48,-96].indexOf(e);if(-1===i)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");i+=1,this._rolloff=e,this.input.disconnect();for(var n=0;n<this._filters.length;n++)this._filters[n].disconnect(),this._filters[n]=null;this._filters=new Array(i);for(var o=0;o<i;o++){var s=this.context.createBiquadFilter();s.type=this._type,this.frequency.connect(s.frequency),this.detune.connect(s.detune),this.Q.connect(s.Q),this.gain.connect(s.gain),this._filters[o]=s}var r=[this.input].concat(this._filters).concat([this.output]);t.connectSeries.apply(t,r)}}),t.Filter.prototype.getFrequencyResponse=function(e){e=t.defaultArg(e,128);for(var i=new Float32Array(e).map(function(){return 1}),n=new Float32Array(e),o=0;o<e;o++){var s=19980*Math.pow(o/e,2)+20;n[o]=s}var r=new Float32Array(e),a=new Float32Array(e);return this._filters.forEach(function(){var t=this.context.createBiquadFilter();t.type=this._type,t.Q.value=this.Q.value,t.frequency.value=this.frequency.value,t.gain.value=this.gain.value,t.getFrequencyResponse(n,r,a),r.forEach(function(t,e){i[e]*=t})}.bind(this)),i},t.Filter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);for(var e=0;e<this._filters.length;e++)this._filters[e].disconnect(),this._filters[e]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},t.Filter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(2)],void 0===(o=function(t){"use strict";return t.Merge=function(){t.AudioNode.call(this),this.createInsOuts(2,0),this.left=this.input[0]=new t.Gain,this.right=this.input[1]=new t.Gain,this._merger=this.output=this.context.createChannelMerger(2),this.left.connect(this._merger,0,0),this.right.connect(this._merger,0,1),this.left.channelCount=1,this.right.channelCount=1,this.left.channelCountMode="explicit",this.right.channelCountMode="explicit"},t.extend(t.Merge,t.AudioNode),t.Merge.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.left.dispose(),this.left=null,this.right.dispose(),this.right=null,this._merger.disconnect(),this._merger=null,this},t.Merge}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(35),i(4),i(81)],void 0===(o=function(t){"use strict";return t.Buffer=function(){var e=t.defaults(arguments,["url","onload","onerror"],t.Buffer);t.call(this),this._buffer=null,this._reversed=e.reverse,this._xhr=null,this.onload=t.noOp,e.url instanceof AudioBuffer||e.url instanceof t.Buffer?(this.set(e.url),this.loaded||(this.onload=e.onload)):t.isString(e.url)&&this.load(e.url).then(e.onload).catch(e.onerror)},t.extend(t.Buffer),t.Buffer.defaults={url:void 0,reverse:!1,onload:t.noOp,onerror:t.noOp},t.Buffer.prototype.set=function(e){return e instanceof t.Buffer?e.loaded?this._buffer=e.get():e.onload=function(){this.set(e),this.onload(this)}.bind(this):this._buffer=e,this},t.Buffer.prototype.get=function(){return this._buffer},t.Buffer.prototype.load=function(e,i,n){return new Promise(function(o,s){this._xhr=t.Buffer.load(e,function(t){this._xhr=null,this.set(t),o(this),this.onload(this),i&&i(this)}.bind(this),function(t){this._xhr=null,s(t),n&&n(t)}.bind(this))}.bind(this))},t.Buffer.prototype.dispose=function(){return t.prototype.dispose.call(this),this._buffer=null,this._xhr&&(t.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(t.Buffer.prototype,"loaded",{get:function(){return this.length>0}}),Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(t.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(t.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),t.Buffer.prototype.fromArray=function(t){var e=t[0].length>0,i=e?t.length:1,n=e?t[0].length:t.length,o=this.context.createBuffer(i,n,this.context.sampleRate);e||1!==i||(t=[t]);for(var s=0;s<i;s++)o.copyToChannel(t[s],s);return this._buffer=o,this},t.Buffer.prototype.toMono=function(e){if(t.isNumber(e))this.fromArray(this.toArray(e));else{for(var i=new Float32Array(this.length),n=this.numberOfChannels,o=0;o<n;o++)for(var s=this.toArray(o),r=0;r<s.length;r++)i[r]+=s[r];i=i.map(function(t){return t/n}),this.fromArray(i)}return this},t.Buffer.prototype.toArray=function(e){if(t.isNumber(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);for(var i=[],n=0;n<this.numberOfChannels;n++)i[n]=this.getChannelData(n);return i},t.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},t.Buffer.prototype.slice=function(e,i){i=t.defaultArg(i,this.duration);for(var n=Math.floor(this.context.sampleRate*this.toSeconds(e)),o=Math.floor(this.context.sampleRate*this.toSeconds(i)),s=[],r=0;r<this.numberOfChannels;r++)s[r]=this.toArray(r).slice(n,o);return(new t.Buffer).fromArray(s)},t.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),t.Emitter.mixin(t.Buffer),t.Buffer._downloadQueue=[],t.Buffer.baseUrl="",t.Buffer.fromArray=function(e){return(new t.Buffer).fromArray(e)},t.Buffer.fromUrl=function(e){var i=new t.Buffer;return i.load(e).then(function(){return i})},t.Buffer._removeFromDownloadQueue=function(e){var i=t.Buffer._downloadQueue.indexOf(e);-1!==i&&t.Buffer._downloadQueue.splice(i,1)},t.Buffer.load=function(e,i,n){i=t.defaultArg(i,t.noOp);var o=e.match(/\[(.+\|?)+\]$/);if(o){for(var s=o[1].split("|"),r=s[0],a=0;a<s.length;a++)if(t.Buffer.supportsType(s[a])){r=s[a];break}e=e.replace(o[0],r)}function l(e){if(t.Buffer._removeFromDownloadQueue(u),t.Buffer.emit("error",e),!n)throw e;n(e)}function h(){for(var e=0,i=0;i<t.Buffer._downloadQueue.length;i++)e+=t.Buffer._downloadQueue[i].progress;t.Buffer.emit("progress",e/t.Buffer._downloadQueue.length)}var u=new XMLHttpRequest;return u.open("GET",t.Buffer.baseUrl+e,!0),u.responseType="arraybuffer",u.progress=0,t.Buffer._downloadQueue.push(u),u.addEventListener("load",function(){200===u.status?t.context.decodeAudioData(u.response).then(function(e){u.progress=1,h(),i(e),t.Buffer._removeFromDownloadQueue(u),0===t.Buffer._downloadQueue.length&&t.Buffer.emit("load")}).catch(function(){t.Buffer._removeFromDownloadQueue(u),l("Tone.Buffer: could not decode audio data: "+e)}):l("Tone.Buffer: could not locate file: "+e)}),u.addEventListener("error",l),u.addEventListener("progress",function(t){t.lengthComputable&&(u.progress=t.loaded/t.total*.95,h())}),u.send(),u},t.Buffer.cancelDownloads=function(){return t.Buffer._downloadQueue.slice().forEach(function(e){t.Buffer._removeFromDownloadQueue(e),e.abort()}),t.Buffer},t.Buffer.supportsType=function(t){var e=t.split(".");return e=e[e.length-1],""!==document.createElement("audio").canPlayType("audio/"+e)},t.loaded=function(){var e,i;function n(){t.Buffer.off("load",e),t.Buffer.off("error",i)}return new Promise(function(n,o){e=function(){n()},i=function(){o()},t.Buffer.on("load",e),t.Buffer.on("error",i)}).then(n).catch(function(t){throw n(),new Error(t)})},t.Buffer}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(17),i(26),i(2),i(1),i(22),i(4),i(28)],void 0===(o=function(t){"use strict";return t.LFO=function(){var e=t.defaults(arguments,["frequency","min","max"],t.LFO);t.AudioNode.call(this),this._oscillator=new t.Oscillator({frequency:e.frequency,type:e.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=t.Type.NormalRange,this.amplitude.value=e.amplitude,this._stoppedSignal=new t.Signal(0,t.Type.AudioRange),this._zeros=new t.Zero,this._stoppedValue=0,this._a2g=new t.AudioToGain,this._scaler=this.output=new t.Scale(e.min,e.max),this._units=t.Type.Default,this.units=e.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=e.phase},t.extend(t.LFO,t.AudioNode),t.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:t.Type.Default},t.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},t.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},t.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},t.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(t.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(t.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(t.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(t.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(t.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,i=this.max;this._units=t,this.min=e,this.max=i}}),Object.defineProperty(t.LFO.prototype,"mute",{get:function(){return this._oscillator.mute},set:function(t){this._oscillator.mute=t}}),Object.defineProperty(t.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),t.LFO.prototype.connect=function(e){return e.constructor!==t.Signal&&e.constructor!==t.Param||(this.convert=e.convert,this.units=e.units),t.SignalBase.prototype.connect.apply(this,arguments),this},t.LFO.prototype._fromUnits=t.Param.prototype._fromUnits,t.LFO.prototype._toUnits=t.Param.prototype._toUnits,t.LFO.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},t.LFO}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(29),i(94),i(1),i(3)],void 0===(o=function(t){"use strict";return t.Subtract=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new t.Gain,this._neg=new t.Negate,this._param=this.input[1]=new t.Signal(e),this._param.chain(this._neg,this._sum),this.proxy=!1},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},t.Subtract}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(4),i(2),i(24)],void 0===(o=function(t){"use strict";return t.Param=function(){var e=t.defaults(arguments,["param","units","convert"],t.Param);t.AudioNode.call(this,e),this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this._events=new t.Timeline(1e3),t.isDefined(e.value)&&this._param&&this.setValueAtTime(e.value,0)},t.extend(t.Param,t.AudioNode),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t),this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}}),Object.defineProperty(t.Param.prototype,"minValue",{get:function(){return this.units===t.Type.Time||this.units===t.Type.Frequency||this.units===t.Type.NormalRange||this.units===t.Type.Positive||this.units===t.Type.BPM?0:this.units===t.Type.AudioRange?-1:this.units===t.Type.Decibels?-1/0:this._param.minValue}}),Object.defineProperty(t.Param.prototype,"maxValue",{get:function(){return this.units===t.Type.NormalRange||this.units===t.Type.AudioRange?1:this._param.maxValue}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!t.isUndef(this.convert)||this.overridden)return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return t.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!t.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return t.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"},t.Param.prototype.setValueAtTime=function(e,i){return i=this.toSeconds(i),e=this._fromUnits(e),this._events.add({type:t.Param.AutomationType.SetValue,value:e,time:i}),this.log(t.Param.AutomationType.SetValue,e,i),this._param.setValueAtTime(e,i),this},t.Param.prototype.getValueAtTime=function(e){e=this.toSeconds(e);var i=this._events.getAfter(e),n=this._events.get(e),o=t.defaultArg(this._initialValue,this._param.defaultValue),s=o;if(null===n)s=o;else if(n.type===t.Param.AutomationType.Target){var r,a=this._events.getBefore(n.time);r=null===a?o:a.value,s=this._exponentialApproach(n.time,r,n.value,n.constant,e)}else s=null===i?n.value:i.type===t.Param.AutomationType.Linear?this._linearInterpolate(n.time,n.value,i.time,i.value,e):i.type===t.Param.AutomationType.Exponential?this._exponentialInterpolate(n.time,n.value,i.time,i.value,e):n.value;return s},t.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===e&&(e=this._minOutput),this.setValueAtTime(this._toUnits(e),t),this},t.Param.prototype.linearRampToValueAtTime=function(e,i){return e=this._fromUnits(e),i=this.toSeconds(i),this._events.add({type:t.Param.AutomationType.Linear,value:e,time:i}),this.log(t.Param.AutomationType.Linear,e,i),this._param.linearRampToValueAtTime(e,i),this},t.Param.prototype.exponentialRampToValueAtTime=function(e,i){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),i=this.toSeconds(i),this._events.add({type:t.Param.AutomationType.Exponential,time:i,value:e}),this.log(t.Param.AutomationType.Exponential,e,i),this._param.exponentialRampToValueAtTime(e,i),this},t.Param.prototype.exponentialRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this},t.Param.prototype.linearRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this},t.Param.prototype.targetRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this},t.Param.prototype.exponentialApproachValueAtTime=function(t,e,i){var n=Math.log(this.toSeconds(i)+1)/Math.log(200);return e=this.toSeconds(e),this.setTargetAtTime(t,e,n)},t.Param.prototype.setTargetAtTime=function(e,i,n){if(e=this._fromUnits(e),n<=0)throw new Error("timeConstant must be greater than 0");return i=this.toSeconds(i),this._events.add({type:t.Param.AutomationType.Target,value:e,time:i,constant:n}),this.log(t.Param.AutomationType.Target,e,i,n),this._param.setTargetAtTime(e,i,n),this},t.Param.prototype.setValueCurveAtTime=function(e,i,n,o){o=t.defaultArg(o,1),n=this.toSeconds(n),i=this.toSeconds(i),this.setValueAtTime(e[0]*o,i);for(var s=n/(e.length-1),r=1;r<e.length;r++)this.linearRampToValueAtTime(e[r]*o,i+r*s);return this},t.Param.prototype.cancelScheduledValues=function(e){return e=this.toSeconds(e),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(t.Param.AutomationType.Cancel,e),this},t.Param.prototype.cancelAndHoldAtTime=function(e){var i=this.getValueAtTime(e);this.log("cancelAndHoldAtTime",e,"value="+i),this._param.cancelScheduledValues(e);var n=this._events.get(e),o=this._events.getAfter(e);return n&&n.time===e?o?this._events.cancel(o.time):this._events.cancel(e+this.sampleTime):o&&(this._events.cancel(o.time),o.type===t.Param.AutomationType.Linear?this.linearRampToValueAtTime(i,e):o.type===t.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(i,e)),this._events.add({type:t.Param.AutomationType.SetValue,value:i,time:e}),this._param.setValueAtTime(i,e),this},t.Param.prototype.rampTo=function(e,i,n){return i=t.defaultArg(i,.1),this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels?this.exponentialRampTo(e,i,n):this.linearRampTo(e,i,n),this},t.Param.prototype._exponentialApproach=function(t,e,i,n,o){return i+(e-i)*Math.exp(-(o-t)/n)},t.Param.prototype._linearInterpolate=function(t,e,i,n,o){return e+(o-t)/(i-t)*(n-e)},t.Param.prototype._exponentialInterpolate=function(t,e,i,n,o){return e*Math.pow(n/e,(o-t)/(i-t))},t.Param.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this},t.Param}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(19),i(10),i(23)],void 0===(o=function(t){"use strict";return t.StereoEffect=function(){t.AudioNode.call(this);var e=t.defaults(arguments,["wet"],t.Effect);this.createInsOuts(1,1),this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this._split=new t.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new t.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,this.input.connect(this._split),this.input.connect(this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.StereoEffect,t.Effect),t.StereoEffect.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},t.StereoEffect}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(86),i(4),i(24),i(35),i(3),i(84),i(83),i(55)],void 0===(o=function(t){"use strict";t.Transport=function(){t.Emitter.call(this),t.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=e.defaults.PPQ,this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=t.Type.BPM,this.bpm.value=e.defaults.bpm,this._readOnly("bpm"),this._timeSignature=e.defaults.timeSignature,this._scheduledEvents={},this._timeline=new t.Timeline,this._repeatedEvents=new t.IntervalTimeline,this._syncedSignals=[],this._swingTicks=e.defaults.PPQ/2,this._swingAmount=0,this.context.transport=this}.bind(this))},t.extend(t.Transport,t.Emitter),t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},t.Transport.prototype.isTransport=!0,t.Transport.prototype._processTick=function(e,i){if(this._swingAmount>0&&i%this._ppq!=0&&i%(2*this._swingTicks)!=0){var n=i%(2*this._swingTicks)/(2*this._swingTicks),o=Math.sin(n*Math.PI)*this._swingAmount;e+=t.Ticks(2*this._swingTicks/3).toSeconds()*o}this.loop&&i>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),i=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._timeline.forEachAtTime(i,function(t){t.invoke(e)})},t.Transport.prototype.schedule=function(e,i){var n=new t.TransportEvent(this,{time:t.TransportTime(i),callback:e});return this._addEvent(n,this._timeline)},t.Transport.prototype.scheduleRepeat=function(e,i,n,o){var s=new t.TransportRepeatEvent(this,{callback:e,interval:t.Time(i),time:t.TransportTime(n),duration:t.Time(t.defaultArg(o,1/0))});return this._addEvent(s,this._repeatedEvents)},t.Transport.prototype.scheduleOnce=function(e,i){var n=new t.TransportEvent(this,{time:t.TransportTime(i),callback:e,once:!0});return this._addEvent(n,this._timeline)},t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this},t.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},t.Transport.prototype.cancel=function(e){return e=t.defaultArg(e,0),e=this.toTicks(e),this._timeline.forEachFrom(e,function(t){this.clear(t.id)}.bind(this)),this._repeatedEvents.forEachFrom(e,function(t){this.clear(t.id)}.bind(this)),this},t.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(e,i){i=t.Ticks(i).toSeconds(),this.emit("start",e,i)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),t.Transport.prototype.start=function(e,i){return t.isDefined(i)&&(i=this.toTicks(i)),this._clock.start(e,i),this},t.Transport.prototype.stop=function(t){return this._clock.stop(t),this},t.Transport.prototype.pause=function(t){return this._clock.pause(t),this},t.Transport.prototype.toggle=function(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!==t.State.Started?this.start(e):this.stop(e),this},Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(e){t.isArray(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}}),Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return t.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return t.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),t.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return t.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"position",{get:function(){var e=this.now(),i=this._clock.getTicksAtTime(e);return t.Ticks(i).toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now(),i=this.bpm.timeToTicks(t,e);this.ticks=i}}),Object.defineProperty(t.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}}),Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(e){if(this._clock.ticks!==e){var i=this.now();this.state===t.State.Started?(this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this.seconds)):this._clock.setTicksAtTime(e,i)}}}),t.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))},t.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)},Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},t.Transport.prototype.nextSubdivision=function(e){if(e=this.toTicks(e),this.state!==t.State.Started)return 0;var i=this.now(),n=e-this.getTicksAtTime(i)%e;return this._clock.nextTickTime(n,i)},t.Transport.prototype.syncSignal=function(e,i){if(!i){var n=this.now();i=0!==e.getValueAtTime(n)?e.getValueAtTime(n)/this.bpm.getValueAtTime(n):0}var o=new t.Gain(i);return this.bpm.chain(o,e._param),this._syncedSignals.push({ratio:o,signal:e,initial:e.value}),e.value=0,this},t.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var i=this._syncedSignals[e];i.signal===t&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this},t.Transport.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var e=t.Transport;return t.Transport=new e,t.Context.on("init",function(i){i.transport&&i.transport.isTransport?t.Transport=i.transport:t.Transport=new e}),t.Context.on("close",function(t){t.transport&&t.transport.isTransport&&t.transport.dispose()}),t.Transport}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(6),i(16),i(82)],void 0===(o=function(t){"use strict";return t.Oscillator=function(){var e=t.defaults(arguments,["frequency","type"],t.Oscillator);t.Source.call(this,e),this._oscillator=null,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._wave=null,this._partials=e.partials,this._partialCount=e.partialCount,this._phase=e.phase,this._type=e.type,e.partialCount&&e.type!==t.Oscillator.Type.Custom&&(this._type=this.baseType+e.partialCount.toString()),this.phase=this._phase,this._readOnly(["frequency","detune"])},t.extend(t.Oscillator,t.Source),t.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0},t.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},t.Oscillator.prototype._start=function(e){this.log("start",e),this._oscillator=new t.OscillatorNode,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),e=this.toSeconds(e),this._oscillator.start(e)},t.Oscillator.prototype._stop=function(t){return this.log("stop",t),this._oscillator&&(t=this.toSeconds(t),this._oscillator.stop(t)),this},t.Oscillator.prototype.restart=function(t){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(t)),this},t.Oscillator.prototype.syncFrequency=function(){return t.Transport.syncSignal(this.frequency),this},t.Oscillator.prototype.unsyncFrequency=function(){return t.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(t.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=this._getRealImaginary(t,this._phase),i=this.context.createPeriodicWave(e[0],e[1]);this._wave=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),this._type=t}}),Object.defineProperty(t.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(e){this.partialCount&&this._type!==t.Oscillator.Type.Custom&&e!==t.Oscillator.Type.Custom?this.type=e+this.partialCount:this.type=e}}),Object.defineProperty(t.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(e){var i=this._type,n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);n&&(i=n[1]),this._type!==t.Oscillator.Type.Custom&&(this.type=0===e?i:i+e.toString())}}),t.Oscillator.prototype.get=function(){const e=t.prototype.get.apply(this,arguments);return e.type!==t.Oscillator.Type.Custom&&delete e.partials,e},t.Oscillator.prototype._getRealImaginary=function(e,i){var n=2048,o=new Float32Array(n),s=new Float32Array(n),r=1;if(e===t.Oscillator.Type.Custom)r=this._partials.length+1,this._partialCount=this._partials.length,n=r;else{var a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);a?(r=parseInt(a[2])+1,this._partialCount=parseInt(a[2]),e=a[1],n=r=Math.max(r,2)):this._partialCount=0,this._partials=[]}for(var l=1;l<n;++l){var h,u=2/(l*Math.PI);switch(e){case t.Oscillator.Type.Sine:h=l<=r?1:0,this._partials[l-1]=h;break;case t.Oscillator.Type.Square:h=1&l?2*u:0,this._partials[l-1]=h;break;case t.Oscillator.Type.Sawtooth:h=u*(1&l?1:-1),this._partials[l-1]=h;break;case t.Oscillator.Type.Triangle:h=1&l?u*u*2*(l-1>>1&1?-1:1):0,this._partials[l-1]=h;break;case t.Oscillator.Type.Custom:h=this._partials[l-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+e)}0!==h?(o[l]=-h*Math.sin(i*l),s[l]=h*Math.cos(i*l)):(o[l]=0,s[l]=0)}return[o,s]},t.Oscillator.prototype._inverseFFT=function(t,e,i){for(var n=0,o=t.length,s=0;s<o;s++)n+=t[s]*Math.cos(s*i)+e[s]*Math.sin(s*i);return n},t.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],i=t[1],n=0,o=2*Math.PI,s=0;s<8;s++)n=Math.max(this._inverseFFT(e,i,s/8*o),n);return-this._inverseFFT(e,i,this._phase)/n},Object.defineProperty(t.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(e){this._partials=e,this.type=t.Oscillator.Type.Custom}}),Object.defineProperty(t.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),t.Oscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},t.Oscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(14),i(2)],void 0===(o=function(t){"use strict";return t.Delay=function(){var e=t.defaults(arguments,["delayTime","maxDelay"],t.Delay);t.AudioNode.call(this,e),this._maxDelay=Math.max(this.toSeconds(e.maxDelay),this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay),this.delayTime=new t.Param({param:this._delayNode.delayTime,units:t.Type.Time,value:e.delayTime}),this._readOnly("delayTime")},t.extend(t.Delay,t.AudioNode),t.Delay.defaults={maxDelay:1,delayTime:0},Object.defineProperty(t.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}}),t.Delay.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},t.Delay}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(3),i(2)],void 0===(o=function(t){"use strict";return t.Split=function(){t.AudioNode.call(this),this.createInsOuts(0,2),this._splitter=this.input=this.context.createChannelSplitter(2),this.left=this.output[0]=new t.Gain,this.right=this.output[1]=new t.Gain,this._splitter.connect(this.left,0,0),this._splitter.connect(this.right,1,0)},t.extend(t.Split,t.AudioNode),t.Split.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left.dispose(),this.left=null,this.right.dispose(),this.right=null,this._splitter=null,this},t.Split}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(35),i(24),i(34)],void 0===(o=function(t){t.Context=function(){t.Emitter.call(this);var i=t.defaults(arguments,["context"],t.Context);if(!i.context&&(i.context=new t.global.AudioContext,!i.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=i.context;this._context.rawContext;)this._context=this._context.rawContext;for(var n in this._context)this._defineProperty(this._context,n);this._latencyHint=i.latencyHint,this._constants={},this.lookAhead=i.lookAhead,this._computedUpdateInterval=0,this._ticker=new e(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval),this._timeouts=new t.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=function(t){this.emit("statechange",t)}.bind(this)},t.extend(t.Context,t.Emitter),t.Emitter.mixin(t.Context),t.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},t.Context.prototype.isContext=!0,t.Context.prototype._defineProperty=function(e,i){t.isUndef(this[i])&&Object.defineProperty(this,i,{get:function(){return"function"==typeof e[i]?e[i].bind(e):e[i]},set:function(t){e[i]=t}})},t.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},Object.defineProperty(t.Context.prototype,"destination",{get:function(){return this.master?this.master:this._context.destination}}),t.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()},t.Context.prototype.close=function(){var e=Promise.resolve();return this!==t.global.TONE_AUDIO_CONTEXT&&(e=this.rawContext.close()),e.then(function(){t.Context.emit("close",this)}.bind(this))},t.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0),n=0;n<i.length;n++)i[n]=t;var o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=e,o.loop=!0,o.start(0),this._constants[t]=o,o},t.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},t.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var i=this.now();return this._timeouts.add({callback:t,time:i+e,id:this._timeoutIds}),this._timeoutIds},t.Context.prototype.clearTimeout=function(t){return this._timeouts.forEach(function(e){e.id===t&&this.remove(e)}),this},Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(t.Context.prototype,"rawContext",{get:function(){return this._context}}),Object.defineProperty(t.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(e){var i=e;if(this._latencyHint=e,t.isString(e))switch(e){case"interactive":i=.1,this._context.latencyHint=e;break;case"playback":i=.8,this._context.latencyHint=e;break;case"balanced":i=.25,this._context.latencyHint=e;break;case"fastest":this._context.latencyHint="interactive",i=.01}this.lookAhead=i,this.updateInterval=i/3}}),t.Context.prototype.dispose=function(){return this.close().then(function(){for(var e in t.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[e].disconnect();this._constants=null}.bind(this))};var e=function(e,i,n){this._type=i,this._updateInterval=n,this._callback=t.defaultArg(e,t.noOp),this._createClock()};if(e.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},e.prototype._createWorker=function(){t.global.URL=t.global.URL||t.global.webkitURL;var e=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),i=URL.createObjectURL(e),n=new Worker(i);n.onmessage=this._callback.bind(this),this._worker=n},e.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},e.prototype._createClock=function(){if(this._type===e.Type.Worker)try{this._createWorker()}catch(t){this._type=e.Type.Timeout,this._createClock()}else this._type===e.Type.Timeout&&this._createTimeout()},Object.defineProperty(e.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===e.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),e.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},e.prototype.dispose=function(){this._disposeClock(),this._callback=null},t.getContext(function(){var e=AudioNode.prototype.connect,i=AudioNode.prototype.disconnect;function n(i,n,o){if(i.input)return o=t.defaultArg(o,0),t.isArray(i.input)?this.connect(i.input[o]):this.connect(i.input,n,o);try{return i instanceof AudioNode?(e.call(this,i,n,o),i):(e.call(this,i,n),i)}catch(t){throw new Error("error connecting to node: "+i+"\n"+t)}}AudioNode.prototype.connect!==n&&(AudioNode.prototype.connect=n,AudioNode.prototype.disconnect=function(e,n,o){if(e&&e.input&&t.isArray(e.input))o=t.defaultArg(o,0),this.disconnect(e.input[o],n,0);else if(e&&e.input)this.disconnect(e.input,n,o);else try{e instanceof AudioParam?i.call(this,e,n):i.apply(this,arguments)}catch(t){throw new Error("error disconnecting node: "+e+"\n"+t)}})}),t.supported&&!t.initialized){if(t.global.TONE_AUDIO_CONTEXT||(t.global.TONE_AUDIO_CONTEXT=new t.Context),t.context=t.global.TONE_AUDIO_CONTEXT,!t.global.TONE_SILENCE_VERSION_LOGGING){var i="v";"dev"===t.version&&(i="");var n=" * Tone.js "+i+t.version+" * ";console.log("%c"+n,"background: #000; color: #fff")}}else t.supported||console.warn("This browser does not support Tone.js");return t.Context}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(4),i(40)],void 0===(o=function(t){"use strict";return t.Instrument=function(e){e=t.defaultArg(e,t.Instrument.defaults),t.AudioNode.call(this),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._scheduledEvents=[]},t.extend(t.Instrument,t.AudioNode),t.Instrument.defaults={volume:0},t.Instrument.prototype.triggerAttack=t.noOp,t.Instrument.prototype.triggerRelease=t.noOp,t.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this},t.Instrument.prototype._syncMethod=function(e,i){var n=this["_original_"+e]=this[e];this[e]=function(){var e=Array.prototype.slice.call(arguments),o=e[i],s=t.Transport.schedule(function(t){e[i]=t,n.apply(this,e)}.bind(this),o);this._scheduledEvents.push(s)}.bind(this)},t.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach(function(e){t.Transport.clear(e)}),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this},t.Instrument.prototype.triggerAttackRelease=function(t,e,i,n){return i=this.toSeconds(i),e=this.toSeconds(e),this.triggerAttack(t,i,n),this.triggerRelease(i+e),this},t.Instrument.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this},t.Instrument}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7),i(1)],void 0===(o=function(t){"use strict";return t.AudioToGain=function(){t.SignalBase.call(this),this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(13),i(93),i(3),i(2)],void 0===(o=function(t){"use strict";return t.CrossFade=function(e){t.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new t.Gain,this.b=this.input[1]=new t.Gain,this.fade=new t.Signal(t.defaultArg(e,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._one=this.context.getConstant(1),this._invert=new t.Subtract,this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this._one.connect(this._invert,0,0),this.fade.connect(this._invert,0,1),this._invert.chain(this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade,t.AudioNode),t.CrossFade.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},t.CrossFade}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){"use strict";return t.Timeline=function(){var e=t.defaults(arguments,["memory"],t.Timeline);t.call(this),this._timeline=[],this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.add=function(e){if(t.isUndef(e.time))throw new Error("Tone.Timeline: events must have a time attribute");e.time=e.time.valueOf();var i=this._search(e.time);if(this._timeline.splice(i+1,0,e),this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},t.Timeline.prototype.remove=function(t){var e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this},t.Timeline.prototype.get=function(e,i){i=t.defaultArg(i,"time");var n=this._search(e,i);return-1!==n?this._timeline[n]:null},t.Timeline.prototype.peek=function(){return this._timeline[0]},t.Timeline.prototype.shift=function(){return this._timeline.shift()},t.Timeline.prototype.getAfter=function(e,i){i=t.defaultArg(i,"time");var n=this._search(e,i);return n+1<this._timeline.length?this._timeline[n+1]:null},t.Timeline.prototype.getBefore=function(e,i){i=t.defaultArg(i,"time");var n=this._timeline.length;if(n>0&&this._timeline[n-1][i]<e)return this._timeline[n-1];var o=this._search(e,i);return o-1>=0?this._timeline[o-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var i=e;i>=0&&this._timeline[i].time===t;i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this},t.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null},t.Timeline.prototype._search=function(e,i){if(0===this._timeline.length)return-1;i=t.defaultArg(i,"time");var n=0,o=this._timeline.length,s=o;if(o>0&&this._timeline[o-1][i]<=e)return o-1;for(;n<s;){var r=Math.floor(n+(s-n)/2),a=this._timeline[r],l=this._timeline[r+1];if(a[i]===e){for(var h=r;h<this._timeline.length;h++){this._timeline[h][i]===e&&(r=h)}return r}if(a[i]<e&&l[i]>e)return r;a[i]>e?s=r:n=r+1}return-1},t.Timeline.prototype._iterate=function(e,i,n){i=t.defaultArg(i,0),n=t.defaultArg(n,this._timeline.length-1),this._timeline.slice(i,n+1).forEach(function(t){e.call(this,t)}.bind(this))},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){var i=this._search(t);return-1!==i&&this._iterate(e,0,i),this},t.Timeline.prototype.forEachAfter=function(t,e){var i=this._search(t);return this._iterate(e,i+1),this},t.Timeline.prototype.forEachBetween=function(t,e,i){var n=this._search(t),o=this._search(e);return-1!==n&&-1!==o?(this._timeline[n].time!==t&&(n+=1),this._timeline[o].time===e&&(o-=1),this._iterate(i,n,o)):-1===n&&this._iterate(i,0,o),this},t.Timeline.prototype.forEachFrom=function(t,e){for(var i=this._search(t);i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){var i=this._search(t);return-1!==i&&this._iterate(function(i){i.time===t&&e.call(this,i)},0,i),this},t.Timeline.prototype.dispose=function(){return t.prototype.dispose.call(this),this._timeline=null,this},t.Timeline}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(21),i(1)],void 0===(o=function(t){"use strict";return t.Monophonic=function(e){e=t.defaultArg(e,t.Monophonic.defaults),t.Instrument.call(this,e),this.portamento=e.portamento},t.extend(t.Monophonic,t.Instrument),t.Monophonic.defaults={portamento:0},t.Monophonic.prototype.triggerAttack=function(t,e,i){return this.log("triggerAttack",t,e,i),e=this.toSeconds(e),this._triggerEnvelopeAttack(e,i),this.setNote(t,e),this},t.Monophonic.prototype.triggerRelease=function(t){return this.log("triggerRelease",t),t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},t.Monophonic.prototype._triggerEnvelopeAttack=function(){},t.Monophonic.prototype._triggerEnvelopeRelease=function(){},t.Monophonic.prototype.getLevelAtTime=function(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)},t.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0&&this.getLevelAtTime(e)>.05){var i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,i,e)}else this.frequency.setValueAtTime(t,e);return this},t.Monophonic}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(29),i(5),i(1)],void 0===(o=function(t){"use strict";return t.Scale=function(e,i){t.SignalBase.call(this),this._outputMin=t.defaultArg(e,0),this._outputMax=t.defaultArg(i,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(3),i(2)],void 0===(o=function(t){"use strict";return t.Volume=function(){var e=t.defaults(arguments,["volume"],t.Volume);t.AudioNode.call(this,e),this.output=this.input=new t.Gain(e.volume,t.Type.Decibels),this._unmutedVolume=e.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=e.mute},t.extend(t.Volume,t.AudioNode),t.Volume.defaults={volume:0,mute:!1},Object.defineProperty(t.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),t.Volume.prototype.dispose=function(){return this.input.dispose(),t.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},t.Volume}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(3),i(36)],void 0===(o=function(t){return t.Zero=function(){t.SignalBase.call(this),this._gain=this.input=this.output=new t.Gain,this.context.getConstant(0).connect(this._gain)},t.extend(t.Zero,t.SignalBase),t.Zero.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},t.Zero}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(3)],void 0===(o=function(t){"use strict";return t.Add=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new t.Gain,this._param=this.input[1]=new t.Signal(e),this._param.connect(this._sum),this.proxy=!1},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},t.Add}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(47),i(3)],void 0===(o=function(t){"use strict";return t.AmplitudeEnvelope=function(){t.Envelope.apply(this,arguments),this.input=this.output=new t.Gain,this._sig.connect(this.output.gain)},t.extend(t.AmplitudeEnvelope,t.Envelope),t.AmplitudeEnvelope.prototype.dispose=function(){return t.Envelope.prototype.dispose.call(this),this},t.AmplitudeEnvelope}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(11),i(6),i(3),i(2),i(63)],void 0===(o=function(t){return t.BufferSource=function(){var e=t.defaults(arguments,["buffer","onload"],t.BufferSource);t.AudioNode.call(this,e),this.onended=e.onended,this._startTime=-1,this._sourceStarted=!1,this._sourceStopped=!1,this._stopTime=-1,this._gainNode=this.output=new t.Gain(0),this._source=this.context.createBufferSource(),this._source.connect(this._gainNode),this._source.onended=this._onended.bind(this),this._buffer=new t.Buffer(e.buffer,e.onload),this.playbackRate=new t.Param({param:this._source.playbackRate,units:t.Type.Positive,value:e.playbackRate}),this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut,this.curve=e.curve,this._onendedTimeout=-1,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd},t.extend(t.BufferSource,t.AudioNode),t.BufferSource.defaults={onended:t.noOp,onload:t.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(t.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),t.BufferSource.prototype.getStateAtTime=function(e){return e=this.toSeconds(e),-1!==this._startTime&&this._startTime<=e&&(-1===this._stopTime||e<this._stopTime)&&!this._sourceStopped?t.State.Started:t.State.Stopped},t.BufferSource.prototype.start=function(e,i,n,o){this.log("start",e,i,n,o),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),e=this.toSeconds(e),i=this.loop?t.defaultArg(i,this.loopStart):t.defaultArg(i,0),i=this.toSeconds(i),i=Math.max(i,0),o=t.defaultArg(o,1);var s=this.toSeconds(this.fadeIn);if(s>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(o,e+s):this._gainNode.gain.exponentialApproachValueAtTime(o,e,s)):this._gainNode.gain.setValueAtTime(o,e),this._startTime=e,t.isDefined(n)){var r=this.toSeconds(n);r=Math.max(r,0),this.stop(e+r)}if(this.loop){var a=this.loopEnd||this.buffer.duration,l=this.loopStart;i>=a&&(i=(i-l)%(a-l)+l)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,i<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(e,i)),this},t.BufferSource.prototype.stop=function(e){this.log("stop",e),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),e=this.toSeconds(e),-1!==this._stopTime&&this.cancelStop();var i=this.toSeconds(this.fadeOut);return this._stopTime=e+i,i>0?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,i,e):this._gainNode.gain.targetRampTo(0,i,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),t.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=t.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this},t.BufferSource.prototype.cancelStop=function(){if(-1!==this._startTime&&!this._sourceStopped){var t=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime),this.context.clearTimeout(this._onendedTimeout),this._stopTime=-1}return this},t.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=!0;var t="exponential"===this.curve?2*this.fadeOut:0;this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+t),this.onended(this)}},Object.defineProperty(t.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(t.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(t.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(t.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t,this.cancelStop()}}),t.BufferSource.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,t.context.clearTimeout(this._onendedTimeout),this},t.BufferSource}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(1),i(5),i(3)],void 0===(o=function(t){"use strict";return t.FeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.Effect.call(this,e),this._feedbackGain=new t.Gain(e.feedback,t.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},t.extend(t.FeedbackEffect,t.Effect),t.FeedbackEffect.defaults={feedback:.125},t.FeedbackEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},t.FeedbackEffect}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(24),i(4)],void 0===(o=function(t){"use strict";return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},t.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);for(var i=this._search(e);i>=0;i--){var n=this._timeline[i];if(n.state===t)return n}},t.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);var i=this._search(e);if(-1!==i)for(var n=i;n<this._timeline.length;n++){var o=this._timeline[n];if(o.state===t)return o}},t.TimelineState}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(66)],void 0===(o=function(t){if(t.supported){!t.global.hasOwnProperty("AudioContext")&&t.global.hasOwnProperty("webkitAudioContext")&&(t.global.AudioContext=t.global.webkitAudioContext),AudioContext.prototype.close||(AudioContext.prototype.close=function(){return t.isFunction(this.suspend)&&this.suspend(),Promise.resolve()}),AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),e=this.createBufferSource();return e.buffer=t,e.connect(this.destination),e.start(0),Promise.resolve()}),!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var e=!1,i=new OfflineAudioContext(1,1,44100),n=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var o=i.decodeAudioData(n);o&&t.isFunction(o.then)&&(e=!0)}catch(t){e=!1}e||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(t){return new Promise(function(e,i){this._native_decodeAudioData(t,e,i)}.bind(this))})}}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){"use strict";return t.Emitter=function(){t.call(this),this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var i=t.split(/\W+/),n=0;n<i.length;n++){var o=i[n];this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(e)}return this},t.Emitter.prototype.once=function(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);return this.on(t,i),this},t.Emitter.prototype.off=function(e,i){for(var n=e.split(/\W+/),o=0;o<n.length;o++)if(e=n[o],this._events.hasOwnProperty(e))if(t.isUndef(i))this._events[e]=[];else for(var s=this._events[e],r=0;r<s.length;r++)s[r]===i&&s.splice(r,1);return this},t.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var i=this._events[t].slice(0),n=0,o=i.length;n<o;n++)i[n].apply(this,e)}return this},t.Emitter.mixin=function(e){var i=["on","once","off","emit"];e._events={};for(var n=0;n<i.length;n++){var o=i[n],s=t.Emitter.prototype[o];e[o]=s}return t.Emitter},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(2)],void 0===(o=function(t){"use strict";return t.SignalBase=function(){t.AudioNode.call(this)},t.extend(t.SignalBase,t.AudioNode),t.SignalBase.prototype.connect=function(e,i,n){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor?(e._param.cancelScheduledValues(0),e._param.setValueAtTime(0,0),e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0)),t.AudioNode.prototype.connect.call(this,e,i,n),this},t.SignalBase}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(17),i(49),i(71),i(48),i(70),i(69)],void 0===(o=function(t){"use strict";t.OmniOscillator=function(){var e=t.defaults(arguments,["frequency","type"],t.OmniOscillator);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=e.type,this._readOnly(["frequency","detune"]),this.set(e)},t.extend(t.OmniOscillator,t.Source),t.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var e="PulseOscillator",i="PWMOscillator",n="Oscillator",o="FMOscillator",s="AMOscillator",r="FatOscillator";t.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},t.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},t.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)},Object.defineProperty(t.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===o?t="fm":this._sourceType===s?t="am":this._sourceType===r&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(o),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(s),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(r),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(i):"pulse"===t?this._createNewOscillator(e):(this._createNewOscillator(n),this._oscillator.type=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),Object.defineProperty(t.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(t){this._oscillator.partialCount=t}}),t.OmniOscillator.prototype.set=function(e,i){return"type"===e?this.type=i:t.isObject(e)&&e.hasOwnProperty("type")&&(this.type=e.type),t.prototype.set.apply(this,arguments),this},t.OmniOscillator.prototype.get=function(t){var e=this._oscillator.get(t);return e.type=this.type,e},t.OmniOscillator.prototype._createNewOscillator=function(e){if(e!==this._sourceType){this._sourceType=e;var i=t[e],n=this.now();if(null!==this._oscillator){var o=this._oscillator;o.stop(n),this.context.setTimeout(function(){o.dispose(),o=null},this.blockTime)}this._oscillator=new i,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===t.State.Started&&this._oscillator.start(n)}},Object.defineProperty(t.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});var a={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};return Object.defineProperty(t.OmniOscillator.prototype,"sourceType",{get:function(){return a[this._sourceType]},set:function(t){var e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),t===a.FMOscillator?this.type="fm"+e:t===a.AMOscillator?this.type="am"+e:t===a.FatOscillator?this.type="fat"+e:t===a.Oscillator?this.type=e:t===a.PulseOscillator?this.type="pulse":t===a.PWMOscillator&&(this.type="pwm")}}),Object.defineProperty(t.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(t){this.sourceType!==a.PulseOscillator&&this.sourceType!==a.PWMOscillator&&(this._oscillator.baseType=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"width",{get:function(){if(this._sourceType===e)return this._oscillator.width}}),Object.defineProperty(t.OmniOscillator.prototype,"count",{get:function(){if(this._sourceType===r)return this._oscillator.count},set:function(t){this._sourceType===r&&(this._oscillator.count=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"spread",{get:function(){if(this._sourceType===r)return this._oscillator.spread},set:function(t){this._sourceType===r&&(this._oscillator.spread=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationType",{get:function(){if(this._sourceType===o||this._sourceType===s)return this._oscillator.modulationType},set:function(t){this._sourceType!==o&&this._sourceType!==s||(this._oscillator.modulationType=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationIndex",{get:function(){if(this._sourceType===o)return this._oscillator.modulationIndex}}),Object.defineProperty(t.OmniOscillator.prototype,"harmonicity",{get:function(){if(this._sourceType===o||this._sourceType===s)return this._oscillator.harmonicity}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationFrequency",{get:function(){if(this._sourceType===i)return this._oscillator.modulationFrequency}}),t.OmniOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},t.OmniOscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(30),i(37),i(1),i(25)],void 0===(o=function(t){"use strict";return t.Synth=function(e){e=t.defaultArg(e,t.Synth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","frequency","detune","envelope"])},t.extend(t.Synth,t.Monophonic),t.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},t.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},t.Synth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},t.Synth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},t.Synth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(11),i(31)],void 0===(o=function(t){"use strict";t.Noise=function(){var e=t.defaults(arguments,["type"],t.Noise);t.Source.call(this,e),this._source=null,this._type=e.type,this._playbackRate=e.playbackRate},t.extend(t.Noise,t.Source),t.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(t.Noise.prototype,"type",{get:function(){return this._type},set:function(i){if(this._type!==i){if(!(i in e))throw new TypeError("Tone.Noise: invalid type: "+i);if(this._type=i,this.state===t.State.Started){var n=this.now();this._stop(n),this._start(n)}}}}),Object.defineProperty(t.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),t.Noise.prototype._start=function(i){var n=e[this._type];this._source=new t.BufferSource(n).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(i),Math.random()*(n.duration-.001))},t.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},t.Noise.prototype.restart=function(t){return this._stop(t),this._start(t),this},t.Noise.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var e={},i={};return Object.defineProperty(e,"pink",{get:function(){if(!i.pink){for(var e=[],n=0;n<2;n++){var o,s,r,a,l,h,u,c=new Float32Array(220500);e[n]=c,o=s=r=a=l=h=u=0;for(var p=0;p<220500;p++){var f=2*Math.random()-1;o=.99886*o+.0555179*f,s=.99332*s+.0750759*f,r=.969*r+.153852*f,a=.8665*a+.3104856*f,l=.55*l+.5329522*f,h=-.7616*h-.016898*f,c[p]=o+s+r+a+l+h+u+.5362*f,c[p]*=.11,u=.115926*f}}i.pink=(new t.Buffer).fromArray(e)}return i.pink}}),Object.defineProperty(e,"brown",{get:function(){if(!i.brown){for(var e=[],n=0;n<2;n++){var o=new Float32Array(220500);e[n]=o;for(var s=0,r=0;r<220500;r++){var a=2*Math.random()-1;o[r]=(s+.02*a)/1.02,s=o[r],o[r]*=3.5}}i.brown=(new t.Buffer).fromArray(e)}return i.brown}}),Object.defineProperty(e,"white",{get:function(){if(!i.white){for(var e=[],n=0;n<2;n++){var o=new Float32Array(220500);e[n]=o;for(var s=0;s<220500;s++)o[s]=2*Math.random()-1}i.white=(new t.Buffer).fromArray(e)}return i.white}}),t.Noise}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(27),i(20),i(2)],void 0===(o=function(t){"use strict";t.Master=function(){t.AudioNode.call(this),t.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new t.Volume,this.volume=this._volume.volume,this._readOnly("volume"),this.input.chain(this.output,this.context.destination),this.context.master=this}.bind(this))},t.extend(t.Master,t.AudioNode),t.Master.defaults={volume:0,mute:!1},t.Master.prototype.isMaster=!0,Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},t.Master.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},t.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};var e=t.Master;return t.Master=new e,t.Context.on("init",function(i){i.master&&i.master.isMaster?t.Master=i.master:t.Master=new e}),t.Context.on("close",function(t){t.master&&t.master.isMaster&&t.master.dispose()}),t.Master}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(89),i(47)],void 0===(o=function(t){"use strict";return t.FrequencyEnvelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);e=t.defaultArg(e,t.FrequencyEnvelope.defaults),t.ScaledEnvelope.call(this,e),this._octaves=e.octaves,this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this.exponent=e.exponent},t.extend(t.FrequencyEnvelope,t.Envelope),t.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1},Object.defineProperty(t.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(t.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(t.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.FrequencyEnvelope.prototype.dispose=function(){return t.ScaledEnvelope.prototype.dispose.call(this),this},t.FrequencyEnvelope}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(26),i(61)],void 0===(o=function(t){return t.ScaleExp=function(e,i,n){t.SignalBase.call(this),this._scale=this.output=new t.Scale(e,i),this._exp=this.input=new t.Pow(t.defaultArg(n,2)),this._exp.connect(this._scale)},t.extend(t.ScaleExp,t.SignalBase),Object.defineProperty(t.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(t.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),t.ScaleExp.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaleExp}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(14),i(2)],void 0===(o=function(t){"use strict";return t.Compressor=function(){var e=t.defaults(arguments,["threshold","ratio"],t.Compressor);t.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new t.Param({param:this._compressor.threshold,units:t.Type.Decibels,convert:!1}),this.attack=new t.Param(this._compressor.attack,t.Type.Time),this.release=new t.Param(this._compressor.release,t.Type.Time),this.knee=new t.Param({param:this._compressor.knee,units:t.Type.Decibels,convert:!1}),this.ratio=new t.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(e)},t.extend(t.Compressor,t.AudioNode),t.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},t.Compressor.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},t.Compressor}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(2),i(96)],void 0===(o=function(t){"use strict";return t.Analyser=function(){var e=t.defaults(arguments,["type","size"],t.Analyser);t.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=e.type,this._buffer=null,this.size=e.size,this.type=e.type},t.extend(t.Analyser,t.AudioNode),t.Analyser.defaults={size:1024,type:"fft",smoothing:.8},t.Analyser.Type={Waveform:"waveform",FFT:"fft"},t.Analyser.prototype.getValue=function(){return this._type===t.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===t.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(t.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(t.Analyser.prototype,"type",{get:function(){return this._type},set:function(e){if(e!==t.Analyser.Type.Waveform&&e!==t.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+e);this._type=e}}),Object.defineProperty(t.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),t.Analyser.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},t.Analyser}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(65)],void 0===(o=function(t){return t.TransportTime=function(e,i){if(!(this instanceof t.TransportTime))return new t.TransportTime(e,i);t.Time.call(this,e,i)},t.extend(t.TransportTime,t.Time),t.TransportTime.prototype._now=function(){return t.Transport.seconds},t.TransportTime}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(64)],void 0===(o=function(t){t.Frequency=function(e,i){if(!(this instanceof t.Frequency))return new t.Frequency(e,i);t.TimeBase.call(this,e,i)},t.extend(t.Frequency,t.TimeBase),t.Frequency.prototype._expressions=Object.assign({},t.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(e){return"midi"===this._defaultUnits?e:t.Frequency.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(i,n){var o=e[i.toLowerCase()]+12*(parseInt(n)+1);return"midi"===this._defaultUnits?o:t.Frequency.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,i){var n=1;return t&&"0"!==t&&(n*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n*=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n*=this._beatsToUnits(parseFloat(i)/4)),n}}}),t.Frequency.prototype.transpose=function(e){return new this.constructor(this.valueOf()*t.intervalToFrequencyRatio(e))},t.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))},t.Frequency.prototype.toMidi=function(){return t.Frequency.ftom(this.valueOf())},t.Frequency.prototype.toNote=function(){var e=this.toFrequency(),n=Math.log2(e/t.Frequency.A4),o=Math.round(12*n)+57,s=Math.floor(o/12);return s<0&&(o+=-12*s),i[o%12]+s.toString()},t.Frequency.prototype.toSeconds=function(){return 1/t.TimeBase.prototype.toSeconds.call(this)},t.Frequency.prototype.toFrequency=function(){return t.TimeBase.prototype.toFrequency.call(this)},t.Frequency.prototype.toTicks=function(){var e=this._beatsToUnits(1),i=this.valueOf()/e;return Math.floor(i*t.Transport.PPQ)},t.Frequency.prototype._noArg=function(){return 0},t.Frequency.prototype._frequencyToUnits=function(t){return t},t.Frequency.prototype._ticksToUnits=function(e){return 1/(60*e/(t.Transport.bpm.value*t.Transport.PPQ))},t.Frequency.prototype._beatsToUnits=function(e){return 1/t.TimeBase.prototype._beatsToUnits.call(this,e)},t.Frequency.prototype._secondsToUnits=function(t){return 1/t},t.Frequency.prototype._defaultUnits="hz";var e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return t.Frequency.A4=440,t.Frequency.mtof=function(e){return t.Frequency.A4*Math.pow(2,(e-69)/12)},t.Frequency.ftom=function(e){return 69+Math.round(12*Math.log2(e/t.Frequency.A4))},t.Frequency}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(61),i(4),i(2)],void 0===(o=function(t){"use strict";return t.Envelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.AudioNode.call(this),this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new t.Signal(0),this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve},t.extend(t.Envelope,t.AudioNode),t.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"},Object.defineProperty(t.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),t.Envelope.prototype._getCurve=function(e,i){if(t.isString(e))return e;if(t.isArray(e)){for(var n in t.Envelope.Type)if(t.Envelope.Type[n][i]===e)return n;return e}},t.Envelope.prototype._setCurve=function(e,i,n){if(t.Envelope.Type.hasOwnProperty(n)){var o=t.Envelope.Type[n];t.isObject(o)?this[e]=o[i]:this[e]=o}else{if(!t.isArray(n))throw new Error("Tone.Envelope: invalid curve: "+n);this[e]=n}},Object.defineProperty(t.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(t){this._setCurve("_attackCurve","In",t)}}),Object.defineProperty(t.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(t){this._setCurve("_releaseCurve","Out",t)}}),Object.defineProperty(t.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(t){if(!["linear","exponential"].includes(t))throw new Error("Tone.Envelope: invalid curve: "+t);this._decayCurve=t}}),t.Envelope.prototype.triggerAttack=function(e,i){this.log("triggerAttack",e,i),e=this.toSeconds(e);var n=this.toSeconds(this.attack),o=this.toSeconds(this.decay);i=t.defaultArg(i,1);var s=this.getValueAtTime(e);s>0&&(n=(1-s)/(1/n));if("linear"===this._attackCurve)this._sig.linearRampTo(i,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(i,n,e);else if(n>0){this._sig.cancelAndHoldAtTime(e);for(var r=this._attackCurve,a=1;a<r.length;a++)if(r[a-1]<=s&&s<=r[a]){(r=this._attackCurve.slice(a))[0]=s;break}this._sig.setValueCurveAtTime(r,e,n,i)}if(o){var l=i*this.sustain,h=e+n;this.log("decay",h),"linear"===this._decayCurve?this._sig.linearRampTo(l,o,h+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(l,h,o)}return this},t.Envelope.prototype.triggerRelease=function(e){this.log("triggerRelease",e),e=this.toSeconds(e);var i=this.getValueAtTime(e);if(i>0){var n=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampTo(0,n,e);else if("exponential"===this._releaseCurve)this._sig.targetRampTo(0,n,e);else{var o=this._releaseCurve;t.isArray(o)&&(this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(o,e,n,i))}}return this},t.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},t.Envelope.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this},t.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},t.Envelope.prototype.connect=t.SignalBase.prototype.connect,function(){var e,i,n=[];for(e=0;e<128;e++)n[e]=Math.sin(e/127*(Math.PI/2));var o=[];for(e=0;e<127;e++){i=e/127;var s=Math.sin(i*(2*Math.PI)*6.4-Math.PI/2)+1;o[e]=s/10+.83*i}o[127]=1;var r=[];for(e=0;e<128;e++)r[e]=Math.ceil(e/127*5)/5;var a=[];for(e=0;e<128;e++)i=e/127,a[e]=.5*(1-Math.cos(Math.PI*i));var l,h=[];for(e=0;e<128;e++){i=e/127;var u=4*Math.pow(i,3)+.2,c=Math.cos(u*Math.PI*2*i);h[e]=Math.abs(c*(1-i))}function p(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=1-t[i];return e}t.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:p(h),Out:h},cosine:{In:n,Out:(l=n,l.slice(0).reverse())},step:{In:r,Out:p(r)},ripple:{In:o,Out:p(o)},sine:{In:a,Out:p(a)}}}(),t.Envelope.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},t.Envelope}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(17),i(5),i(3)],void 0===(o=function(t){"use strict";return t.FMOscillator=function(){var e=t.defaults(arguments,["frequency","type","modulationType"],t.FMOscillator);t.Source.call(this,e),this._carrier=new t.Oscillator(e.frequency,e.type),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=e.detune,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulator=new t.Oscillator(e.frequency,e.modulationType),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=e.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},t.extend(t.FMOscillator,t.Source),t.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1},t.FMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},t.FMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},t.FMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(t.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(t.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(t.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(t.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(t.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(t.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),t.FMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},t.FMOscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(17),i(1),i(7),i(3)],void 0===(o=function(t){"use strict";return t.PulseOscillator=function(){var e=t.defaults(arguments,["frequency","width"],t.Oscillator);t.Source.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._widthGate=new t.Gain(0),this._sawtooth=new t.Oscillator({frequency:e.frequency,detune:e.detune,type:"sawtooth",phase:e.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new t.WaveShaper(function(t){return t<0?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},t.extend(t.PulseOscillator,t.Source),t.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},t.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},t.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},t.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)},Object.defineProperty(t.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(t.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(t.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}}),Object.defineProperty(t.PulseOscillator.prototype,"partials",{get:function(){return[]}}),t.PulseOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},t.PulseOscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(16),i(4),i(33)],void 0===(o=function(t){"use strict";return t.Event=function(){var e=t.defaults(arguments,["callback","value"],t.Event);t.call(this),this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._state=new t.TimelineState(t.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate},t.extend(t.Event),t.Event.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},t.Event.prototype._rescheduleEvents=function(e){return e=t.defaultArg(e,-1),this._state.forEachFrom(e,function(e){var i;if(e.state===t.State.Started){t.isDefined(e.id)&&t.Transport.clear(e.id);var n=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){i=1/0,t.isNumber(this._loop)&&(i=this._loop*this._getLoopDuration());var o=this._state.getAfter(n);null!==o&&(i=Math.min(i,o.time-n)),i!==1/0&&(this._state.setStateAtTime(t.State.Stopped,n+i+1),i=t.Ticks(i));var s=t.Ticks(this._getLoopDuration());e.id=t.Transport.scheduleRepeat(this._tick.bind(this),s,t.Ticks(n),i)}else e.id=t.Transport.schedule(this._tick.bind(this),t.Ticks(n))}}.bind(this)),this},Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(t.Transport.ticks)}}),Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(t.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(t.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),t.Event.prototype.start=function(e){return e=this.toTicks(e),this._state.getValueAtTime(e)===t.State.Stopped&&(this._state.add({state:t.State.Started,time:e,id:void 0}),this._rescheduleEvents(e)),this},t.Event.prototype.stop=function(e){if(this.cancel(e),e=this.toTicks(e),this._state.getValueAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var i=this._state.getBefore(e),n=e;null!==i&&(n=i.time),this._rescheduleEvents(n)}return this},t.Event.prototype.cancel=function(e){return e=t.defaultArg(e,-1/0),e=this.toTicks(e),this._state.forEachFrom(e,function(e){t.Transport.clear(e.id)}),this._state.cancel(e),this},t.Event.prototype._tick=function(e){var i=t.Transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(i)===t.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var n=.02;t.isBoolean(this.humanize)||(n=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*n}this.callback(e,this.value)}},t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return t.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return t.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks,i=this._state.get(e);if(null!==i&&i.state===t.State.Started){var n=this._getLoopDuration();return(e-i.time)%n/n}return 0}return 0}}),t.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},t.Event}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(13),i(29),i(10),i(3),i(2)],void 0===(o=function(t){"use strict";return t.MidSideMerge=function(){t.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new t.Gain,this._left=new t.Add,this._timesTwoLeft=new t.Multiply(Math.SQRT1_2),this.side=this.input[1]=new t.Gain,this._right=new t.Subtract,this._timesTwoRight=new t.Multiply(Math.SQRT1_2),this._merge=this.output=new t.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._timesTwoLeft),this._right.connect(this._timesTwoRight),this._timesTwoLeft.connect(this._merge,0,0),this._timesTwoRight.connect(this._merge,0,1)},t.extend(t.MidSideMerge,t.AudioNode),t.MidSideMerge.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this},t.MidSideMerge}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(29),i(13),i(1),i(19),i(2)],void 0===(o=function(t){"use strict";return t.MidSideSplit=function(){t.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new t.Split,this._midAdd=new t.Add,this.mid=this.output[0]=new t.Multiply(Math.SQRT1_2),this._sideSubtract=new t.Subtract,this.side=this.output[1]=new t.Multiply(Math.SQRT1_2),this._split.connect(this._midAdd,0,0),this._split.connect(this._midAdd,1,1),this._split.connect(this._sideSubtract,0,0),this._split.connect(this._sideSubtract,1,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)},t.extend(t.MidSideSplit,t.AudioNode),t.MidSideSplit.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this},t.MidSideSplit}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(9),i(2),i(58)],void 0===(o=function(t){"use strict";return t.LowpassCombFilter=function(){var e=t.defaults(arguments,["delayTime","resonance","dampening"],t.LowpassCombFilter);t.AudioNode.call(this),this._combFilter=this.output=new t.FeedbackCombFilter(e.delayTime,e.resonance),this.delayTime=this._combFilter.delayTime,this._lowpass=this.input=new t.Filter({frequency:e.dampening,type:"lowpass",Q:0,rolloff:-12}),this.dampening=this._lowpass.frequency,this.resonance=this._combFilter.resonance,this._lowpass.connect(this._combFilter),this._readOnly(["dampening","resonance","delayTime"])},t.extend(t.LowpassCombFilter,t.AudioNode),t.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},t.LowpassCombFilter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this},t.LowpassCombFilter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(45)],void 0===(o=function(t){return t.Ticks=function(e,i){if(!(this instanceof t.Ticks))return new t.Ticks(e,i);t.TransportTime.call(this,e,i)},t.extend(t.Ticks,t.TransportTime),t.Ticks.prototype._defaultUnits="i",t.Ticks.prototype._now=function(){return t.Transport.ticks},t.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t},t.Ticks.prototype._secondsToUnits=function(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())},t.Ticks.prototype._ticksToUnits=function(t){return t},t.Ticks.prototype.toTicks=function(){return this.valueOf()},t.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())},t.Ticks}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(54)],void 0===(o=function(t){return t.TransportEvent=function(e,i){i=t.defaultArg(i,t.TransportEvent.defaults),t.call(this),this.Transport=e,this.id=t.TransportEvent._eventId++,this.time=t.Ticks(i.time),this.callback=i.callback,this._once=i.once},t.extend(t.TransportEvent),t.TransportEvent.defaults={once:!1,callback:t.noOp},t.TransportEvent._eventId=0,t.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},t.TransportEvent.prototype.dispose=function(){return t.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this},t.TransportEvent}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(85),i(33),i(24),i(14)],void 0===(o=function(t){"use strict";return t.TickSource=function(){var e=t.defaults(arguments,["frequency"],t.TickSource);this.frequency=new t.TickSignal(e.frequency),this._readOnly("frequency"),this._state=new t.TimelineState(t.State.Stopped),this._state.setStateAtTime(t.State.Stopped,0),this._tickOffset=new t.Timeline,this.setTicksAtTime(0,0)},t.extend(t.TickSource),t.TickSource.defaults={frequency:1},Object.defineProperty(t.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.TickSource.prototype.start=function(e,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)!==t.State.Started&&(this._state.setStateAtTime(t.State.Started,e),t.isDefined(i)&&this.setTicksAtTime(i,e)),this},t.TickSource.prototype.stop=function(e){if(e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Stopped){var i=this._state.get(e);i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this.setTicksAtTime(0,e),this},t.TickSource.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.TickSource.prototype.cancel=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this},t.TickSource.prototype.getTicksAtTime=function(e){e=this.toSeconds(e);var i=this._state.getLastState(t.State.Stopped,e),n={state:t.State.Paused,time:e};this._state.add(n);var o=i,s=0;return this._state.forEachBetween(i.time,e+this.sampleTime,function(e){var i=o.time,n=this._tickOffset.get(e.time);n.time>=o.time&&(s=n.ticks,i=n.time),o.state===t.State.Started&&e.state!==t.State.Started&&(s+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(i)),o=e}.bind(this)),this._state.remove(n),s},Object.defineProperty(t.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}}),Object.defineProperty(t.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}}),t.TickSource.prototype.getSecondsAtTime=function(e){e=this.toSeconds(e);var i=this._state.getLastState(t.State.Stopped,e),n={state:t.State.Paused,time:e};this._state.add(n);var o=i,s=0;return this._state.forEachBetween(i.time,e+this.sampleTime,function(e){var i=o.time,n=this._tickOffset.get(e.time);n.time>=o.time&&(s=n.seconds,i=n.time),o.state===t.State.Started&&e.state!==t.State.Started&&(s+=e.time-i),o=e}.bind(this)),this._state.remove(n),s},t.TickSource.prototype.setTicksAtTime=function(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)}),this},t.TickSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},t.TickSource.prototype.getTimeOfTick=function(e,i){i=t.defaultArg(i,this.now());var n=this._tickOffset.get(i),o=this._state.get(i),s=Math.max(n.time,o.time),r=this.frequency.getTicksAtTime(s)+e-n.ticks;return this.frequency.getTimeOfTick(r)},t.TickSource.prototype.forEachTickBetween=function(e,i,n){var o=this._state.get(e);if(this._state.forEachBetween(e,i,function(i){o.state===t.State.Started&&i.state!==t.State.Started&&this.forEachTickBetween(Math.max(o.time,e),i.time-this.sampleTime,n),o=i}.bind(this)),e=Math.max(o.time,e),o.state===t.State.Started&&this._state){var s=this.frequency.getTicksAtTime(e),r=(s-this.frequency.getTicksAtTime(o.time))%1;0!==r&&(r=1-r);for(var a=this.frequency.getTimeOfTick(s+r),l=null;a<i&&this._state;){try{n(a,Math.round(this.getTicksAtTime(a)))}catch(t){l=t;break}this._state&&(a+=this.frequency.getDurationOfTicks(1,a))}}if(l)throw l;return this},t.TickSource.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this},t.TickSource}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(90),i(13),i(1),i(4),i(18),i(2)],void 0===(o=function(t){"use strict";return t.Follower=function(){var e=t.defaults(arguments,["smoothing"],t.Follower);t.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new t.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=0,this._sub=new t.Subtract,this._delay=new t.Delay(this.blockTime),this._smoothing=e.smoothing,this.input.connect(this._delay,this._sub),this.input.connect(this._sub,0,1),this._sub.chain(this._abs,this._filter,this.output),this.smoothing=e.smoothing},t.extend(t.Follower,t.AudioNode),t.Follower.defaults={smoothing:.05},Object.defineProperty(t.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(e){this._smoothing=e,this._filter.frequency.value=.5*t.Time(e).toFrequency()}}),t.Follower.prototype.connect=t.SignalBase.prototype.connect,t.Follower.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this},t.Follower}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(42),i(1),i(14),i(18),i(3),i(2)],void 0===(o=function(t){"use strict";return t.FeedbackCombFilter=function(){var e=t.defaults(arguments,["delayTime","resonance"],t.FeedbackCombFilter);t.AudioNode.call(this),this._delay=this.input=this.output=new t.Delay(e.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new t.Gain(e.resonance,t.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},t.extend(t.FeedbackCombFilter,t.AudioNode),t.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},t.FeedbackCombFilter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},t.FeedbackCombFilter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(9),i(1),i(3),i(2)],void 0===(o=function(t){"use strict";return t.MultibandSplit=function(){var e=t.defaults(arguments,["lowFrequency","highFrequency"],t.MultibandSplit);t.AudioNode.call(this),this.input=new t.Gain,this.output=new Array(3),this.low=this.output[0]=new t.Filter(0,"lowpass"),this._lowMidFilter=new t.Filter(0,"highpass"),this.mid=this.output[1]=new t.Filter(0,"lowpass"),this.high=this.output[2]=new t.Filter(0,"highpass"),this.lowFrequency=new t.Signal(e.lowFrequency,t.Type.Frequency),this.highFrequency=new t.Signal(e.highFrequency,t.Type.Frequency),this.Q=new t.Signal(e.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandSplit,t.AudioNode),t.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},t.MultibandSplit.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},t.MultibandSplit}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(23),i(10),i(19),i(92),i(1),i(22),i(28),i(2)],void 0===(o=function(t){"use strict";return t.Panner=function(e){t.AudioNode.call(this),this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan,this.pan.value=t.defaultArg(e,0),this._readOnly("pan")},t.extend(t.Panner,t.AudioNode),t.Panner.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this},t.Panner}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7)],void 0===(o=function(t){"use strict";return t.Pow=function(e){t.SignalBase.call(this),this._exp=t.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(20),i(66)],void 0===(o=function(t){return t.OfflineContext=function(e,i,n){var o=new OfflineAudioContext(e,i*n,n);t.Context.call(this,{context:o,clockSource:"offline",lookAhead:0,updateInterval:128/n}),this._duration=i,this._currentTime=0},t.extend(t.OfflineContext,t.Context),t.OfflineContext.prototype.now=function(){return this._currentTime},t.OfflineContext.prototype.resume=function(){return Promise.resolve()},t.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=this.blockTime;return this._context.startRendering()},t.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()},t.OfflineContext}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(62)],void 0===(o=function(t){if(t.supported){var e=navigator.userAgent.toLowerCase();e.includes("safari")&&!e.includes("chrome")&&e.includes("mobile")&&(t.OfflineContext.prototype.createBufferSource=function(){var t=this._context.createBufferSource(),e=t.start;return t.start=function(i){this.setTimeout(function(){e.call(t,i)}.bind(this),0)}.bind(this),t})}}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){return t.TimeBase=function(e,i){if(!(this instanceof t.TimeBase))return new t.TimeBase(e,i);if(this._val=e,this._units=i,t.isUndef(this._units)&&t.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(e&&e.constructor===this.constructor)this._val=e._val,this._units=e._units;else if(e instanceof t.TimeBase)switch(this._defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}},t.extend(t.TimeBase),t.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){t=parseInt(t);var i="."===e?1.5:1;return 1===t?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/t)*i}},t:{regexp:/^(\d+)t$/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,i){var n=0;return t&&"0"!==t&&(n+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n+=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n+=this._beatsToUnits(parseFloat(i)/4)),n}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}},t.TimeBase.prototype._defaultUnits="s",t.TimeBase.prototype._getBpm=function(){return t.Transport?t.Transport.bpm.value:120},t.TimeBase.prototype._getTimeSignature=function(){return t.Transport?t.Transport.timeSignature:4},t.TimeBase.prototype._getPPQ=function(){return t.Transport?t.Transport.PPQ:192},t.TimeBase.prototype._now=function(){return this.now()},t.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},t.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t},t.TimeBase.prototype._secondsToUnits=function(t){return t},t.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())},t.TimeBase.prototype._noArg=function(){return this._now()},t.TimeBase.prototype.valueOf=function(){if(t.isUndef(this._val))return this._noArg();if(t.isString(this._val)&&t.isUndef(this._units)){for(var e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(t.isObject(this._val)){var i=0;for(var n in this._val){var o=this._val[n];i+=new this.constructor(n).valueOf()*o}return i}if(t.isDefined(this._units)){var s=this._expressions[this._units],r=this._val.toString().trim().match(s.regexp);return r?s.method.apply(this,r.slice(1)):s.method.call(this,parseFloat(this._val))}return this._val},t.TimeBase.prototype.toSeconds=function(){return this.valueOf()},t.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()},t.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},t.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},t.TimeBase.prototype.dispose=function(){this._val=null,this._units=null},t.TimeBase}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(64),i(46)],void 0===(o=function(t){return t.Time=function(e,i){if(!(this instanceof t.Time))return new t.Time(e,i);t.TimeBase.call(this,e,i)},t.extend(t.Time,t.TimeBase),t.Time.prototype._expressions=Object.assign({},t.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(e){if(t.Transport){var i=new this.constructor(e);return this._secondsToUnits(t.Transport.nextSubdivision(i))}return 0}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}}),t.Time.prototype.quantize=function(e,i){i=t.defaultArg(i,1);var n=new this.constructor(e),o=this.valueOf();return o+(Math.round(o/n)*n-o)*i},t.Time.prototype.toNotation=function(){for(var e=this.toSeconds(),i=["1m"],n=1;n<8;n++){var o=Math.pow(2,n);i.push(o+"n."),i.push(o+"n"),i.push(o+"t")}i.push("0");var s=i[0],r=t.Time(i[0]).toSeconds();return i.forEach(function(i){var n=t.Time(i).toSeconds();Math.abs(n-e)<Math.abs(r-e)&&(s=i,r=n)}),s},t.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;e=parseFloat(e.toFixed(4));var i=Math.floor(e/this._getTimeSignature()),n=e%1*4;return e=Math.floor(e)%this._getTimeSignature(),(n=n.toString()).length>3&&(n=parseFloat(parseFloat(n).toFixed(3))),[i,e,n].join(":")},t.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())},t.Time.prototype.toSeconds=function(){return this.valueOf()},t.Time.prototype.toMidi=function(){return t.Frequency.ftom(this.toFrequency())},t.Time}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){if(t.supported){!t.global.hasOwnProperty("OfflineAudioContext")&&t.global.hasOwnProperty("webkitOfflineAudioContext")&&(t.global.OfflineAudioContext=t.global.webkitOfflineAudioContext);var e=new OfflineAudioContext(1,1,44100).startRendering();e&&t.isFunction(e.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(t){this.oncomplete=function(e){t(e.renderedBuffer)},this._native_startRendering()}.bind(this))})}}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(11),i(6),i(56),i(31)],void 0===(o=function(t){"use strict";return t.Player=function(e){var i;e instanceof t.Buffer&&e.loaded?(e=e.get(),i=t.Player.defaults):i=t.defaults(arguments,["url","onload"],t.Player),t.Source.call(this,i),this.autostart=i.autostart,this._buffer=new t.Buffer({url:i.url,onload:this._onload.bind(this,i.onload),reverse:i.reverse}),e instanceof AudioBuffer&&this._buffer.set(e),this._loop=i.loop,this._loopStart=i.loopStart,this._loopEnd=i.loopEnd,this._playbackRate=i.playbackRate,this._activeSources=[],this.fadeIn=i.fadeIn,this.fadeOut=i.fadeOut},t.extend(t.Player,t.Source),t.Player.defaults={onload:t.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0},t.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},t.Player.prototype._onload=function(e){(e=t.defaultArg(e,t.noOp))(this),this.autostart&&this.start()},t.Player.prototype._onSourceEnd=function(e){var i=this._activeSources.indexOf(e);this._activeSources.splice(i,1),0!==this._activeSources.length||this._synced||this._state.setStateAtTime(t.State.Stopped,t.now())},t.Player.prototype._start=function(e,i,n){i=this._loop?t.defaultArg(i,this._loopStart):t.defaultArg(i,0),i=this.toSeconds(i);var o=t.defaultArg(n,Math.max(this._buffer.duration-i,0));o=this.toSeconds(o),o/=this._playbackRate,e=this.toSeconds(e);var s=new t.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);return this._loop||this._synced||this._state.setStateAtTime(t.State.Stopped,e+o),this._activeSources.push(s),this._loop&&t.isUndef(n)?s.start(e,i):s.start(e,i,o-this.toSeconds(this.fadeOut)),this},t.Player.prototype._stop=function(t){return t=this.toSeconds(t),this._activeSources.forEach(function(e){e.stop(t)}),this},t.Player.prototype.restart=function(t,e,i){return this._stop(t),this._start(t,e,i),this},t.Player.prototype.seek=function(e,i){return i=this.toSeconds(i),this._state.getValueAtTime(i)===t.State.Started&&(e=this.toSeconds(e),this._stop(i),this._start(i,e)),this},t.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._activeSources.forEach(function(e){e.loopStart=t})}}),Object.defineProperty(t.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._activeSources.forEach(function(e){e.loopEnd=t})}}),Object.defineProperty(t.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(t.Player.prototype,"loop",{get:function(){return this._loop},set:function(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(function(t){t.loop=e}),e)){var i=this._state.getNextState(t.State.Stopped,this.now());i&&this._state.cancel(i.time)}}}),Object.defineProperty(t.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){this._playbackRate=e;var i=this.now(),n=this._state.getNextState(t.State.Stopped,i);n&&this._state.cancel(n.time),this._activeSources.forEach(function(t){t.cancelStop(),t.playbackRate.setValueAtTime(e,i)})}}),Object.defineProperty(t.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(t.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),t.Player.prototype.dispose=function(){return this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,t.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this},t.Player}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(30),i(41),i(37),i(1),i(9),i(25)],void 0===(o=function(t){"use strict";return t.MonoSynth=function(e){e=t.defaultArg(e,t.MonoSynth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new t.Filter(e.filter),this.filter.frequency.value=5e3,this.filterEnvelope=new t.FrequencyEnvelope(e.filterEnvelope),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},t.extend(t.MonoSynth,t.Monophonic),t.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},t.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},t.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},t.MonoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},t.MonoSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(17),i(5),i(3)],void 0===(o=function(t){"use strict";return t.FatOscillator=function(){var e=t.defaults(arguments,["frequency","type","spread"],t.FatOscillator);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._oscillators=[],this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,this._readOnly(["frequency","detune"])},t.extend(t.FatOscillator,t.Source),t.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0},t.FatOscillator.prototype._start=function(t){t=this.toSeconds(t),this._forEach(function(e){e.start(t)})},t.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._forEach(function(e){e.stop(t)})},t.FatOscillator.prototype.restart=function(t){t=this.toSeconds(t),this._forEach(function(e){e.restart(t)})},t.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(t.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._forEach(function(e){e.type=t})}}),Object.defineProperty(t.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,this._oscillators.length>1){var e=-t/2,i=t/(this._oscillators.length-1);this._forEach(function(t,n){t.detune.value=e+i*n})}}}),Object.defineProperty(t.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(e){if(e=Math.max(e,1),this._oscillators.length!==e){this._forEach(function(t){t.dispose()}),this._oscillators=[];for(var i=0;i<e;i++){var n=new t.Oscillator;this.type===t.Oscillator.Type.Custom?n.partials=this._partials:n.type=this._type,n.partialCount=this._partialCount,n.phase=this._phase+i/e*360,n.volume.value=-6-1.1*e,this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.connect(this.output),this._oscillators[i]=n}this.spread=this._spread,this.state===t.State.Started&&this._forEach(function(t){t.start()})}}}),Object.defineProperty(t.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t,this._forEach(function(e){e.phase=t})}}),Object.defineProperty(t.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(t){this._forEach(function(e){e.baseType=t}),this._type=this._oscillators[0].type}}),Object.defineProperty(t.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(e){this._partials=e,this._type=t.Oscillator.Type.Custom,this._forEach(function(t){t.partials=e})}}),Object.defineProperty(t.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(t){this._partialCount=t,this._forEach(function(e){e.partialCount=t}),this._type=this._oscillators[0].type}}),t.FatOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach(function(t){t.dispose()}),this._oscillators=null,this._partials=null,this},t.FatOscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(17),i(5),i(3),i(22)],void 0===(o=function(t){"use strict";return t.AMOscillator=function(){var e=t.defaults(arguments,["frequency","type","modulationType"],t.AMOscillator);t.Source.call(this,e),this._carrier=new t.Oscillator(e.frequency,e.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=e.detune,this._modulator=new t.Oscillator(e.frequency,e.modulationType),this._modulationScale=new t.AudioToGain,this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=e.phase,this._readOnly(["frequency","detune","harmonicity"])},t.extend(t.AMOscillator,t.Oscillator),t.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1},t.AMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},t.AMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},t.AMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(t.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(t.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(t.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(t.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(t.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(t.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),t.AMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},t.AMOscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(49),i(17),i(5)],void 0===(o=function(t){"use strict";return t.PWMOscillator=function(){var e=t.defaults(arguments,["frequency","modulationFrequency"],t.PWMOscillator);t.Source.call(this,e),this._pulse=new t.PulseOscillator(e.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new t.Oscillator({frequency:e.frequency,detune:e.detune,phase:e.phase}),this._scale=new t.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},t.extend(t.PWMOscillator,t.Source),t.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},t.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},t.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},t.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._pulse.restart(t)},Object.defineProperty(t.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(t.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}}),Object.defineProperty(t.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(t.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),t.PWMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},t.PWMOscillator}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(50),i(4),i(16)],void 0===(o=function(t){"use strict";return t.Part=function(){var e=t.defaults(arguments,["callback","events"],t.Part);t.Event.call(this,e),this._events=[];for(var i=0;i<e.events.length;i++)Array.isArray(e.events[i])?this.add(e.events[i][0],e.events[i][1]):this.add(e.events[i])},t.extend(t.Part,t.Event),t.Part.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},t.Part.prototype.start=function(e,i){var n=this.toTicks(e);return this._state.getValueAtTime(n)!==t.State.Started&&(i=this._loop?t.defaultArg(i,this._loopStart):t.defaultArg(i,0),i=this.toTicks(i),this._state.add({state:t.State.Started,time:n,offset:i}),this._forEach(function(t){this._startNote(t,n,i)})),this},t.Part.prototype._startNote=function(e,i,n){i-=n,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<n&&(i+=this._getLoopDuration()),e.start(t.Ticks(i))):e.startOffset<this._loopStart&&e.startOffset>=n&&(e.loop=!1,e.start(t.Ticks(i))):e.startOffset>=n&&e.start(t.Ticks(i))},Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),t.Part.prototype.stop=function(e){var i=this.toTicks(e);return this._state.cancel(i),this._state.setStateAtTime(t.State.Stopped,i),this._forEach(function(t){t.stop(e)}),this},t.Part.prototype.at=function(e,i){e=t.TransportTime(e);for(var n=t.Ticks(1).toSeconds(),o=0;o<this._events.length;o++){var s=this._events[o];if(Math.abs(e.toTicks()-s.startOffset)<n)return t.isDefined(i)&&(s.value=i),s}return t.isDefined(i)?(this.add(e,i),this._events[this._events.length-1]):null},t.Part.prototype.add=function(e,i){var n;return e.hasOwnProperty("time")&&(e=(i=e).time),e=this.toTicks(e),i instanceof t.Event?(n=i).callback=this._tick.bind(this):n=new t.Event({callback:this._tick.bind(this),value:i}),n.startOffset=e,n.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(n),this._restartEvent(n),this},t.Part.prototype._restartEvent=function(e){this._state.forEach(function(i){i.state===t.State.Started?this._startNote(e,i.time,i.offset):e.stop(t.Ticks(i.time))}.bind(this))},t.Part.prototype.remove=function(e,i){e.hasOwnProperty("time")&&(e=(i=e).time),e=this.toTicks(e);for(var n=this._events.length-1;n>=0;n--){var o=this._events[n];o.startOffset===e&&(t.isUndef(i)||t.isDefined(i)&&o.value===i)&&(this._events.splice(n,1),o.dispose())}return this},t.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},t.Part.prototype.cancel=function(t){return this._forEach(function(e){e.cancel(t)}),this._state.cancel(this.toTicks(t)),this},t.Part.prototype._forEach=function(e,i){if(this._events){i=t.defaultArg(i,this);for(var n=this._events.length-1;n>=0;n--){var o=this._events[n];o instanceof t.Part?o._forEach(e,i):e.call(i,o)}}return this},t.Part.prototype._setAll=function(t,e){this._forEach(function(i){i[t]=e})},t.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},t.Part.prototype._testLoopBoundries=function(e){e.startOffset<this._loopStart||e.startOffset>=this._loopEnd?e.cancel(0):e.state===t.State.Stopped&&this._restartEvent(e)},Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach(function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return t.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(function(e){e.loopEnd=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return t.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}}),t.Part.prototype.dispose=function(){return t.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this},t.Part}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(50)],void 0===(o=function(t){return t.Loop=function(){var e=t.defaults(arguments,["callback","interval"],t.Loop);t.call(this),this._event=new t.Event({callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations},t.extend(t.Loop),t.Loop.defaults={interval:"4n",callback:t.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},t.Loop.prototype.start=function(t){return this._event.start(t),this},t.Loop.prototype.stop=function(t){return this._event.stop(t),this},t.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},t.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(t.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(t.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(t.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(t.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(t.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(t.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(t.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(t.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0||t}}),t.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},t.Loop}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(15),i(32)],void 0===(o=function(t){"use strict";return t.StereoXFeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackLR=new t.Gain,this._feedbackRL=new t.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},t.extend(t.StereoXFeedbackEffect,t.StereoEffect),t.StereoXFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},t.StereoXFeedbackEffect}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(52),i(51)],void 0===(o=function(t){"use strict";return t.MidSideEffect=function(){t.Effect.apply(this,arguments),this._midSideSplit=new t.MidSideSplit,this._midSideMerge=new t.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},t.extend(t.MidSideEffect,t.Effect),t.MidSideEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},t.MidSideEffect}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(11),i(8)],void 0===(o=function(t){"use strict";return t.Convolver=function(){var e=t.defaults(arguments,["url","onload"],t.Convolver);t.Effect.call(this,e),this._convolver=this.context.createConvolver(),this._buffer=new t.Buffer(e.url,function(t){this.buffer=t.get(),e.onload()}.bind(this)),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.connectEffect(this._convolver)},t.extend(t.Convolver,t.Effect),t.Convolver.defaults={onload:t.noOp,normalize:!0},Object.defineProperty(t.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(t){this._buffer.set(t),this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver)),this._convolver.buffer=this._buffer.get()}}),Object.defineProperty(t.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(t){this._convolver.normalize=t}}),t.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},t.Convolver.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this},t.Convolver}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7),i(5),i(13)],void 0===(o=function(t){"use strict";return t.Modulo=function(e){t.SignalBase.call(this),this.createInsOuts(1,0),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(e),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(e)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){return Math.floor((e+1e-4)/t)})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),t.Modulo.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(16),i(11),i(62),i(40)],void 0===(o=function(t){return t.Offline=function(e,i){var n=t.context.sampleRate,o=t.context,s=new t.OfflineContext(2,i,n);t.context=s;var r=e(t.Transport),a=null;return a=r&&t.isFunction(r.then)?r.then(function(){return s.render()}):s.render(),t.context=o,a.then(function(e){return new t.Buffer(e)})},t.Offline}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(11)],void 0===(o=function(t){return t.Buffers=function(e){var i=Array.prototype.slice.call(arguments);i.shift();var n=t.defaults(i,["onload","baseUrl"],t.Buffers);for(var o in t.call(this),this._buffers={},this.baseUrl=n.baseUrl,this._loadingCount=0,e)this._loadingCount++,this.add(o,e[o],this._bufferLoaded.bind(this,n.onload))},t.extend(t.Buffers),t.Buffers.defaults={onload:t.noOp,baseUrl:""},t.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},t.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},t.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(t.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var i=this.get(e);t=t&&i.loaded}return t}}),t.Buffers.prototype.add=function(e,i,n){return n=t.defaultArg(n,t.noOp),i instanceof t.Buffer?(this._buffers[e]=i,n(this)):i instanceof AudioBuffer?(this._buffers[e]=new t.Buffer(i),n(this)):t.isString(i)&&(this._buffers[e]=new t.Buffer(this.baseUrl+i,n)),this},t.Buffers.prototype.dispose=function(){for(var e in t.prototype.dispose.call(this),this._buffers)this._buffers[e].dispose();return this._buffers=null,this},t.Buffers}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){"use strict";return t.CtrlPattern=function(){var e=t.defaults(arguments,["values","type"],t.CtrlPattern);t.call(this),this.values=e.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=e.type},t.extend(t.CtrlPattern),t.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},t.CtrlPattern.defaults={type:t.CtrlPattern.Type.Up,values:[]},Object.defineProperty(t.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var e=this.values[this.index];return this.type===t.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),e=this.values[this._shuffled[this.index]]),e}}}),Object.defineProperty(t.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._shuffled=null,this._type===t.CtrlPattern.Type.Up||this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.RandomOnce||this._type===t.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==t.CtrlPattern.Type.Down&&this._type!==t.CtrlPattern.Type.DownUp&&this._type!==t.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.AlternateUp?this._direction=t.CtrlPattern.Type.Up:this._type!==t.CtrlPattern.Type.DownUp&&this._type!==t.CtrlPattern.Type.AlternateDown||(this._direction=t.CtrlPattern.Type.Down),this._type===t.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===t.CtrlPattern.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),t.CtrlPattern.prototype.next=function(){var e=this.type;return e===t.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):e===t.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):e===t.CtrlPattern.Type.UpDown||e===t.CtrlPattern.Type.DownUp?(this._direction===t.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=t.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=t.CtrlPattern.Type.Down)):e===t.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):e===t.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):e===t.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):e===t.CtrlPattern.Type.AlternateUp?(this._direction===t.CtrlPattern.Type.Up?(this.index+=2,this._direction=t.CtrlPattern.Type.Down):(this.index-=1,this._direction=t.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=t.CtrlPattern.Type.Up)):e===t.CtrlPattern.Type.AlternateDown&&(this._direction===t.CtrlPattern.Type.Up?(this.index+=1,this._direction=t.CtrlPattern.Type.Down):(this.index-=2,this._direction=t.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=t.CtrlPattern.Type.Down)),this.value},t.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;t.length>0;){var i=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(i[0])}},t.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},t.CtrlPattern}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){t.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(t,e,i){var n=this.getChannelData(e);i=i||0;for(var o=0;o<n.length;o++)n[o+i]=t[o]},AudioBuffer.prototype.copyFromChannel=function(t,e,i){var n=this.getChannelData(e);i=i||0;for(var o=0;o<t.length;o++)t[o]=n[o+i]}))}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(11),i(6),i(3),i(2)],void 0===(o=function(t){return t.OscillatorNode=function(){var e=t.defaults(arguments,["frequency","type"],t.OscillatorNode);t.AudioNode.call(this,e),this.onended=e.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new t.Gain(0),this._oscillator=this.context.createOscillator(),this._oscillator.connect(this._gainNode),this.type=e.type,this.frequency=new t.Param({param:this._oscillator.frequency,units:t.Type.Frequency,value:e.frequency}),this.detune=new t.Param({param:this._oscillator.detune,units:t.Type.Cents,value:e.detune}),this._gain=1},t.extend(t.OscillatorNode,t.AudioNode),t.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:t.noOp},Object.defineProperty(t.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),t.OscillatorNode.prototype.getStateAtTime=function(e){return e=this.toSeconds(e),-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?t.State.Started:t.State.Stopped},t.OscillatorNode.prototype.start=function(t){if(this.log("start",t),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(t),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this},t.OscillatorNode.prototype.setPeriodicWave=function(t){return this._oscillator.setPeriodicWave(t),this},t.OscillatorNode.prototype.stop=function(t){return this.log("stop",t),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(t),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now()),this.onended()}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this},t.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this},Object.defineProperty(t.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}}),t.OscillatorNode.prototype.dispose=function(){return this.context.clearTimeout(this._timeout),t.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this},t.OscillatorNode}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(55),i(54)],void 0===(o=function(t){return t.TransportRepeatEvent=function(e,i){t.TransportEvent.call(this,e,i),i=t.defaultArg(i,t.TransportRepeatEvent.defaults),this.duration=t.Ticks(i.duration),this._interval=t.Ticks(i.interval),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},t.extend(t.TransportRepeatEvent,t.TransportEvent),t.TransportRepeatEvent.defaults={duration:1/0,interval:1},t.TransportRepeatEvent.prototype.invoke=function(e){this._createEvents(e),t.TransportEvent.prototype.invoke.call(this,e)},t.TransportRepeatEvent.prototype._createEvents=function(e){var i=this.Transport.getTicksAtTime(e);i>=this.time&&i>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),t.Ticks(this._nextTick)))},t.TransportRepeatEvent.prototype._restart=function(e){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this._nextTick=this.time;var i=this.Transport.getTicksAtTime(e);i>this.time&&(this._nextTick=this.time+Math.ceil((i-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),t.Ticks(this._nextTick)),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),t.Ticks(this._nextTick))},t.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,t.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this},t.TransportRepeatEvent}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(4)],void 0===(o=function(t){"use strict";t.IntervalTimeline=function(){t.call(this),this._root=null,this._length=0},t.extend(t.IntervalTimeline),t.IntervalTimeline.prototype.add=function(i){if(t.isUndef(i.time)||t.isUndef(i.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");i.time=i.time.valueOf();var n=new e(i.time,i.time+i.duration,i);for(null===this._root?this._root=n:this._root.insert(n),this._length++;null!==n;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this},t.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var i=0;i<e.length;i++){var n=e[i];if(n.event===t){this._removeNode(n),this._length--;break}}}return this},Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),t.IntervalTimeline.prototype.cancel=function(t){return this.forEachFrom(t,function(t){this.remove(t)}.bind(this)),this},t.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},t.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,i;if(t.getBalance()>0)if(null===t.left.right)(e=t.left).right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent=e.parent,e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(i)}t.dispose()},t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,i=t.isLeftChild(),n=t.right;t.right=n.left,n.left=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,i=t.isLeftChild(),n=t.left;t.left=n.right,n.right=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},t.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var i=e[0],n=1;n<e.length;n++)e[n].low>i.low&&(i=e[n]);return i.event}}return null},t.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse(function(t){e.push(t)});for(var i=0;i<e.length;i++){var n=e[i].event;n&&t(n)}}return this},t.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var i=[];this._root.search(t,i);for(var n=i.length-1;n>=0;n--){var o=i[n].event;o&&e(o)}}return this},t.IntervalTimeline.prototype.forEachFrom=function(t,e){if(null!==this._root){var i=[];this._root.searchAfter(t,i);for(var n=i.length-1;n>=0;n--){e(i[n].event)}}return this},t.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse(function(e){t.push(e)});for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var e=function(t,e,i){this.event=i,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return e.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},e.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},e.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},e.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},e.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},e.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},e.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},e.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),e.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},t.IntervalTimeline}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1)],void 0===(o=function(t){function e(t){return function(e,i){i=this.toSeconds(i),t.apply(this,arguments);var n=this._events.get(i),o=this._events.previousEvent(n),s=this._getTicksUntilEvent(o,i);return n.ticks=Math.max(s,0),this}}return t.TickSignal=function(e){e=t.defaultArg(e,1),t.Signal.call(this,{units:t.Type.Ticks,value:e}),this._events.memory=1/0,this.cancelScheduledValues(0),this._events.add({type:t.Param.AutomationType.SetValue,time:0,value:e})},t.extend(t.TickSignal,t.Signal),t.TickSignal.prototype.setValueAtTime=e(t.Signal.prototype.setValueAtTime),t.TickSignal.prototype.linearRampToValueAtTime=e(t.Signal.prototype.linearRampToValueAtTime),t.TickSignal.prototype.setTargetAtTime=function(t,e,i){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var n=this._events.get(e),o=Math.round(Math.max(1/i,1)),s=0;s<=o;s++){var r=i*s+e,a=this._exponentialApproach(n.time,n.value,t,i,r);this.linearRampToValueAtTime(this._toUnits(a),r)}return this},t.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);var i=this._events.get(e);null===i&&(i={value:this._initialValue,time:0});for(var n=Math.round(Math.max(10*(e-i.time),1)),o=(e-i.time)/n,s=0;s<=n;s++){var r=o*s+i.time,a=this._exponentialInterpolate(i.time,i.value,e,t,r);this.linearRampToValueAtTime(this._toUnits(a),r)}return this},t.TickSignal.prototype._getTicksUntilEvent=function(e,i){if(null===e)e={ticks:0,time:0};else if(t.isUndef(e.ticks)){var n=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(n,e.time)}var o=this.getValueAtTime(e.time),s=this.getValueAtTime(i);return this._events.get(i).time===i&&this._events.get(i).type===t.Param.AutomationType.SetValue&&(s=this.getValueAtTime(i-this.sampleTime)),.5*(i-e.time)*(o+s)+e.ticks},t.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)},t.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-e},t.TickSignal.prototype.getTimeOfTick=function(e){var i=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(i&&i.ticks===e)return i.time;if(i&&n&&n.type===t.Param.AutomationType.Linear&&i.value!==n.value){var o=this.getValueAtTime(i.time),s=(this.getValueAtTime(n.time)-o)/(n.time-i.time),r=Math.sqrt(Math.pow(o,2)-2*s*(i.ticks-e)),a=(-o+r)/s;return(a>0?a:(-o-r)/s)+i.time}return i?0===i.value?1/0:i.time+(e-i.ticks)/i.value:e/this._initialValue},t.TickSignal.prototype.ticksToTime=function(e,i){return i=this.toSeconds(i),new t.Time(this.getDurationOfTicks(e,i))},t.TickSignal.prototype.timeToTicks=function(e,i){i=this.toSeconds(i),e=this.toSeconds(e);var n=this.getTicksAtTime(i),o=this.getTicksAtTime(i+e);return new t.Ticks(o-n)},t.TickSignal}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(56),i(33),i(35),i(20)],void 0===(o=function(t){"use strict";return t.Clock=function(){var e=t.defaults(arguments,["callback","frequency"],t.Clock);t.Emitter.call(this),this.callback=e.callback,this._nextTick=0,this._tickSource=new t.TickSource(e.frequency),this._lastUpdate=0,this.frequency=this._tickSource.frequency,this._readOnly("frequency"),this._state=new t.TimelineState(t.State.Stopped),this._state.setStateAtTime(t.State.Stopped,0),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},t.extend(t.Clock,t.Emitter),t.Clock.defaults={callback:t.noOp,frequency:1},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.Clock.prototype.start=function(e,i){return this.context.resume(),e=this.toSeconds(e),this._state.getValueAtTime(e)!==t.State.Started&&(this._state.setStateAtTime(t.State.Started,e),this._tickSource.start(e,i),e<this._lastUpdate&&this.emit("start",e,i)),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started&&(this._state.setStateAtTime(t.State.Paused,e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this},Object.defineProperty(t.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}}),Object.defineProperty(t.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}}),t.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)},t.Clock.prototype.setTicksAtTime=function(t,e){return this._tickSource.setTicksAtTime(t,e),this},t.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)},t.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(i+t,e)},t.Clock.prototype._loop=function(){var e=this._lastUpdate,i=this.now();this._lastUpdate=i,e!==i&&(this._state.forEachBetween(e,i,function(e){switch(e.state){case t.State.Started:var i=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,i);break;case t.State.Stopped:0!==e.time&&this.emit("stop",e.time);break;case t.State.Paused:this.emit("pause",e.time)}}.bind(this)),this._tickSource.forEachTickBetween(e,i,function(t,e){this.callback(t,e)}.bind(this)))},t.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this._tickSource.dispose(),this._tickSource=null,this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(1),i(5),i(7)],void 0===(o=function(t){"use strict";return t.GreaterThanZero=function(){t.SignalBase.call(this),this._thresh=this.output=new t.WaveShaper(function(t){return t<=0?0:1},127),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(87),i(13),i(1)],void 0===(o=function(t){"use strict";return t.GreaterThan=function(e){t.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new t.Subtract(e),this.input[1]=this._param.input[1],this._gtz=this.output=new t.GreaterThanZero,this._param.connect(this._gtz),this.proxy=!1},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(47),i(26)],void 0===(o=function(t){"use strict";return t.ScaledEnvelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.Envelope.call(this,e),e=t.defaultArg(e,t.ScaledEnvelope.defaults),this._exp=this.output=new t.Pow(e.exponent),this._scale=this.output=new t.Scale(e.min,e.max),this._sig.chain(this._exp,this._scale)},t.extend(t.ScaledEnvelope,t.Envelope),t.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(t.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.ScaledEnvelope.prototype.dispose=function(){return t.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaledEnvelope}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7),i(36)],void 0===(o=function(t){"use strict";return t.Abs=function(){t.SignalBase.call(this),this._abs=this.input=this.output=new t.WaveShaper(function(t){return Math.abs(t)<.001?0:Math.abs(t)},1024)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},t.Abs}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(3),i(2)],void 0===(o=function(t){return t.Solo=function(){var e=t.defaults(arguments,["solo"],t.Solo);t.AudioNode.call(this),this.input=this.output=new t.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=e.solo},t.extend(t.Solo,t.AudioNode),t.Solo.defaults={solo:!1},Object.defineProperty(t.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(t.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),t.Solo.prototype._addSolo=function(){t.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},t.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}},t.Solo.prototype._isSoloed=function(){return!!t.isArray(this.context._currentSolo)&&(0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this))},t.Solo.prototype._noSolos=function(){return!t.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},t.Solo.prototype._soloed=function(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0},t.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,t.AudioNode.prototype.dispose.call(this),this},t.Solo}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7),i(10),i(28),i(19),i(3),i(1),i(20)],void 0===(o=function(t){if(t.supported&&!t.global.AudioContext.prototype.createStereoPanner){var e=function(e){this.context=e,this.pan=new t.Signal(0,t.Type.AudioRange);var i=new t.WaveShaper(function(e){return t.equalPowerScale((e+1)/2)},4096),n=new t.WaveShaper(function(e){return t.equalPowerScale(1-(e+1)/2)},4096),o=new t.Gain,s=new t.Gain,r=this.input=new t.Split;r._splitter.channelCountMode="explicit",(new t.Zero).fan(i,n);var a=this.output=new t.Merge;r.left.chain(o,a.left),r.right.chain(s,a.right),this.pan.chain(n,o.gain),this.pan.chain(i,s.gain)};e.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},e.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new e(this)},t.Context.prototype.createStereoPanner=function(){return new e(this)}}}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7)],void 0===(o=function(t){"use strict";return t.EqualPowerGain=function(){t.SignalBase.call(this),this._eqPower=this.input=this.output=new t.WaveShaper(function(e){return Math.abs(e)<.001?0:t.equalPowerScale(e)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(5),i(1)],void 0===(o=function(t){"use strict";return t.Negate=function(){t.SignalBase.call(this),this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(60),i(27),i(2)],void 0===(o=function(t){"use strict";return t.PanVol=function(){var e=t.defaults(arguments,["pan","volume"],t.PanVol);t.AudioNode.call(this),this._panner=this.input=new t.Panner(e.pan),this.pan=this._panner.pan,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,this._readOnly(["pan","volume"])},t.extend(t.PanVol,t.AudioNode),t.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(t.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.PanVol.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},t.PanVol}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(34)],void 0===(o=function(t){t.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var i=0;i<e.length;i++)t[i]=(e[i]-128)/128}))}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(34),i(63),i(20),i(3)],void 0===(o=function(t){if(t.supported&&!t.global.AudioContext.prototype.createConstantSource){var e=function(t){this.context=t;for(var e=t.createBuffer(1,128,t.sampleRate),i=e.getChannelData(0),n=0;n<i.length;n++)i[n]=1;this._bufferSource=t.createBufferSource(),this._bufferSource.channelCount=1,this._bufferSource.channelCountMode="explicit",this._bufferSource.buffer=e,this._bufferSource.loop=!0;var o=this._output=t.createGain();this.offset=o.gain,this._bufferSource.connect(o)};e.prototype.start=function(t){return this._bufferSource.start(t),this},e.prototype.stop=function(t){return this._bufferSource.stop(t),this},e.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},e.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new e(this)},t.Context.prototype.createConstantSource=function(){return new e(this)}}}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(34)],void 0===(o=function(t){if(t.supported&&!t.global.AudioContext.prototype._native_createWaveShaper){var e=navigator.userAgent.toLowerCase();if(e.includes("safari")&&!e.includes("chrome")){var i=function(t){for(var e in this._internalNode=this.input=this.output=t._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,e)};Object.defineProperty(i.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1),e[0]=t[0],this._internalNode.curve=e}}),i.prototype._defineProperty=function(e,i){t.isUndef(this[i])&&Object.defineProperty(this,i,{get:function(){return"function"==typeof e[i]?e[i].bind(e):e[i]},set:function(t){e[i]=t}})},t.global.AudioContext.prototype._native_createWaveShaper=t.global.AudioContext.prototype.createWaveShaper,t.global.AudioContext.prototype.createWaveShaper=function(){return new i(this)}}}}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(46)],void 0===(o=function(t){return t.Midi=function(e,i){if(!(this instanceof t.Midi))return new t.Midi(e,i);t.Frequency.call(this,e,i)},t.extend(t.Midi,t.Frequency),t.Midi.prototype._defaultUnits="midi",t.Midi.prototype._frequencyToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._frequencyToUnits.call(this,e))},t.Midi.prototype._ticksToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._ticksToUnits.call(this,e))},t.Midi.prototype._beatsToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._beatsToUnits.call(this,e))},t.Midi.prototype._secondsToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._secondsToUnits.call(this,e))},t.Midi.prototype.toMidi=function(){return this.valueOf()},t.Midi.prototype.toFrequency=function(){return t.Frequency.mtof(this.toMidi())},t.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)},t.Midi}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(27),i(2)],void 0===(o=function(t){"use strict";return t.UserMedia=function(){var e=t.defaults(arguments,["volume"],t.UserMedia);t.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=e.mute},t.extend(t.UserMedia,t.AudioNode),t.UserMedia.defaults={volume:0,mute:!1},t.UserMedia.prototype.open=function(e){return this.state===t.State.Started&&this.close(),t.UserMedia.enumerateDevices().then(function(i){var n;if(t.isNumber(e))n=i[e];else if(!(n=i.find(function(t){return t.label===e||t.deviceId===e}))&&i.length>0)n=i[0];else if(!n&&t.isDefined(e))throw new Error("Tone.UserMedia: no matching device: "+e);this._device=n;var o={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};return n&&(o.audio.deviceId=n.deviceId),navigator.mediaDevices.getUserMedia(o).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),this._mediaStream.connect(this.output)),this}.bind(this))}.bind(this))},t.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach(function(t){t.stop()}),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},t.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return"audioinput"===t.kind})})},Object.defineProperty(t.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?t.State.Started:t.State.Stopped}}),Object.defineProperty(t.UserMedia.prototype,"deviceId",{get:function(){if(this._device)return this._device.deviceId}}),Object.defineProperty(t.UserMedia.prototype,"groupId",{get:function(){if(this._device)return this._device.groupId}}),Object.defineProperty(t.UserMedia.prototype,"label",{get:function(){if(this._device)return this._device.label}}),Object.defineProperty(t.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.UserMedia.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(t.UserMedia,"supported",{get:function(){return t.isDefined(navigator.mediaDevices)&&t.isFunction(navigator.mediaDevices.getUserMedia)}}),t.UserMedia}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(67),i(27),i(2)],void 0===(o=function(t){"use strict";return t.Players=function(e){var i=Array.prototype.slice.call(arguments);i.shift();var n=t.defaults(i,["onload"],t.Players);for(var o in t.AudioNode.call(this,n),this._volume=this.output=new t.Volume(n.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=n.mute,this._players={},this._loadingCount=0,this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,e)this._loadingCount++,this.add(o,e[o],this._bufferLoaded.bind(this,n.onload))},t.extend(t.Players,t.AudioNode),t.Players.defaults={volume:0,mute:!1,onload:t.noOp,fadeIn:0,fadeOut:0},t.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(t.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(t.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=t,this._forEach(function(e){e.fadeIn=t})}}),Object.defineProperty(t.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=t,this._forEach(function(e){e.fadeOut=t})}}),Object.defineProperty(t.Players.prototype,"state",{get:function(){var e=!1;return this._forEach(function(i){e=e||i.state===t.State.Started}),e?t.State.Started:t.State.Stopped}}),t.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},t.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},t.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(t.Players.prototype,"loaded",{get:function(){var t=!0;return this._forEach(function(e){t=t&&e.loaded}),t}}),t.Players.prototype.add=function(e,i,n){return this._players[e]=new t.Player(i,n).connect(this.output),this._players[e].fadeIn=this._fadeIn,this._players[e].fadeOut=this._fadeOut,this},t.Players.prototype.stopAll=function(t){this._forEach(function(e){e.stop(t)})},t.Players.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach(function(t){t.dispose()}),this._players=null,this},t.Players}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(6),i(11),i(31)],void 0===(o=function(t){return t.GrainPlayer=function(){var e=t.defaults(arguments,["url","onload"],t.GrainPlayer);t.Source.call(this,e),this.buffer=new t.Buffer(e.url,e.onload),this._clock=new t.Clock(this._tick.bind(this),e.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse,this._clock.on("stop",this._onstop.bind(this))},t.extend(t.GrainPlayer,t.Source),t.GrainPlayer.defaults={onload:t.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},t.GrainPlayer.prototype._start=function(e,i,n){i=t.defaultArg(i,0),i=this.toSeconds(i),e=this.toSeconds(e),this._offset=i,this._clock.start(e),n&&this.stop(e+this.toSeconds(n))},t.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},t.GrainPlayer.prototype._onstop=function(t){this._activeSources.forEach(function(e){e.fadeOut=0,e.stop(t)})},t.GrainPlayer.prototype._tick=function(e){if(!this.loop&&this._offset>this.buffer.duration)this.stop(e);else{var i=this._offset<this._overlap?0:this._overlap,n=new t.BufferSource({buffer:this.buffer,fadeIn:i,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:t.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);n.start(e,this._offset),this._offset+=this.grainSize,n.stop(e+this.grainSize/this.playbackRate),this._activeSources.push(n),n.onended=function(){var t=this._activeSources.indexOf(n);-1!==t&&this._activeSources.splice(t,1)}.bind(this)}},Object.defineProperty(t.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(t.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(t.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(t.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}}),t.GrainPlayer.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,this},t.GrainPlayer}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(16),i(1),i(45)],void 0===(o=function(t){return t.TransportTimelineSignal=function(){t.Signal.apply(this,arguments),this.output=this._outputSig=new t.Signal(this._initialValue),this._lastVal=this.value,this._synced=t.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),t.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},t.extend(t.TransportTimelineSignal,t.Signal),t.TransportTimelineSignal.prototype._onTick=function(e){var i=this.getValueAtTime(t.Transport.seconds);this._lastVal!==i&&(this._lastVal=i,this._outputSig.linearRampToValueAtTime(i,e))},t.TransportTimelineSignal.prototype._anchorValue=function(e){var i=this.getValueAtTime(t.Transport.seconds);return this._lastVal=i,this._outputSig.cancelScheduledValues(e),this._outputSig.setValueAtTime(i,e),this},t.TransportTimelineSignal.prototype.getValueAtTime=function(e){return e=t.TransportTime(e),t.Signal.prototype.getValueAtTime.call(this,e)},t.TransportTimelineSignal.prototype.setValueAtTime=function(e,i){return i=t.TransportTime(i),t.Signal.prototype.setValueAtTime.call(this,e,i),this},t.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(e,i){return i=t.TransportTime(i),t.Signal.prototype.linearRampToValueAtTime.call(this,e,i),this},t.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(e,i){return i=t.TransportTime(i),t.Signal.prototype.exponentialRampToValueAtTime.call(this,e,i),this},t.TransportTimelineSignal.prototype.setTargetAtTime=function(e,i,n){return i=t.TransportTime(i),t.Signal.prototype.setTargetAtTime.call(this,e,i,n),this},t.TransportTimelineSignal.prototype.cancelScheduledValues=function(e){return e=t.TransportTime(e),t.Signal.prototype.cancelScheduledValues.call(this,e),this},t.TransportTimelineSignal.prototype.setValueCurveAtTime=function(e,i,n,o){return i=t.TransportTime(i),n=t.TransportTime(n),t.Signal.prototype.setValueCurveAtTime.call(this,e,i,n,o),this},t.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(e){return t.Signal.prototype.cancelAndHoldAtTime.call(this,t.TransportTime(e))},t.TransportTimelineSignal.prototype.dispose=function(){t.Transport.clear(this._synced),t.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),t.Signal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},t.TransportTimelineSignal}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(29),i(5)],void 0===(o=function(t){"use strict";return t.Normalize=function(e,i){t.SignalBase.call(this),this._inputMin=t.defaultArg(e,0),this._inputMax=t.defaultArg(i,1),this._sub=this.input=new t.Add(0),this._div=this.output=new t.Multiply(1),this._sub.connect(this._div),this._setRange()},t.extend(t.Normalize,t.SignalBase),Object.defineProperty(t.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(t.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),t.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},t.Normalize.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},t.Normalize}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(7),i(1)],void 0===(o=function(t){"use strict";return t.GainToAudio=function(){t.SignalBase.call(this),this._norm=this.input=this.output=new t.WaveShaper(function(t){return 2*Math.abs(t)-1})},t.extend(t.GainToAudio,t.SignalBase),t.GainToAudio.prototype.dispose=function(){return t.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.GainToAudio}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){t.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable))}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(21),i(79),i(31)],void 0===(o=function(t){return t.Sampler=function(e){var i=Array.prototype.slice.call(arguments);i.shift();var n=t.defaults(i,["onload","baseUrl"],t.Sampler);t.Instrument.call(this,n);var o={};for(var s in e)if(t.isNote(s)){o[t.Frequency(s).toMidi()]=e[s]}else{if(isNaN(parseFloat(s)))throw new Error("Tone.Sampler: url keys must be the note's pitch");o[s]=e[s]}this._buffers=new t.Buffers(o,n.onload,n.baseUrl),this._activeSources={},this.attack=n.attack,this.release=n.release,this.curve=n.curve},t.extend(t.Sampler,t.Instrument),t.Sampler.defaults={attack:0,release:.1,onload:t.noOp,baseUrl:"",curve:"exponential"},t.Sampler.prototype._findClosest=function(t){for(var e=0;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}return null},t.Sampler.prototype.triggerAttack=function(e,i,n){this.log("triggerAttack",e,i,n),Array.isArray(e)||(e=[e]);for(var o=0;o<e.length;o++){var s=t.Frequency(e[o]).toMidi(),r=this._findClosest(s);if(null!==r){var a=s-r,l=this._buffers.get(a),h=t.intervalToFrequencyRatio(r),u=new t.BufferSource({buffer:l,playbackRate:h,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);u.start(i,0,l.duration/h,n),t.isArray(this._activeSources[s])||(this._activeSources[s]=[]),this._activeSources[s].push(u),u.onended=function(){if(this._activeSources&&this._activeSources[s]){var t=this._activeSources[s].indexOf(u);-1!==t&&this._activeSources[s].splice(t,1)}}.bind(this)}}return this},t.Sampler.prototype.triggerRelease=function(e,i){this.log("triggerRelease",e,i),Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var o=t.Frequency(e[n]).toMidi();if(this._activeSources[o]&&this._activeSources[o].length){var s=this._activeSources[o].shift();i=this.toSeconds(i),s.stop(i)}}return this},t.Sampler.prototype.releaseAll=function(t){for(var e in t=this.toSeconds(t),this._activeSources)for(var i=this._activeSources[e];i.length;){i.shift().stop(t)}return this},t.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},t.Sampler.prototype.triggerAttackRelease=function(e,i,n,o){if(n=this.toSeconds(n),this.triggerAttack(e,n,o),t.isArray(i)&&t.isArray(e))for(var s=0;s<e.length;s++){var r=i[Math.min(s,i.length-1)];this.triggerRelease(e[s],n+this.toSeconds(r))}else this.triggerRelease(e,n+this.toSeconds(i));return this},t.Sampler.prototype.add=function(e,i,n){if(t.isNote(e)){var o=t.Frequency(e).toMidi();this._buffers.add(o,i,n)}else{if(isNaN(parseFloat(e)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+e);this._buffers.add(e,i,n)}},Object.defineProperty(t.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),t.Sampler.prototype.dispose=function(){for(var e in t.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[e].forEach(function(t){t.dispose()});return this._activeSources=null,this},t.Sampler}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(38),i(6)],void 0===(o=function(t){"use strict";return t.PolySynth=function(){var e=t.defaults(arguments,["polyphony","voice"],t.PolySynth);t.Instrument.call(this,e),(e=t.defaultArg(e,t.Instrument.defaults)).polyphony=Math.min(t.PolySynth.MAX_POLYPHONY,e.polyphony),this.voices=new Array(e.polyphony),this.assert(e.polyphony>0,"polyphony must be greater than 0"),this.detune=new t.Signal(e.detune,t.Type.Cents),this._readOnly("detune");for(var i=0;i<e.polyphony;i++){var n=new e.voice(arguments[2],arguments[3]);if(!(n instanceof t.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");this.voices[i]=n,n.index=i,n.connect(this.output),n.hasOwnProperty("detune")&&this.detune.connect(n.detune)}},t.extend(t.PolySynth,t.Instrument),t.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:t.Synth},t.PolySynth.prototype._getClosestVoice=function(e,i){var n=this.voices.find(function(n){if(Math.abs(n.frequency.getValueAtTime(e)-t.Frequency(i))<1e-4&&n.getLevelAtTime(e)>1e-5)return n});return n||this.voices.slice().sort(function(t,i){var n=t.getLevelAtTime(e+this.blockTime),o=i.getLevelAtTime(e+this.blockTime);return n<1e-5&&(n=0),o<1e-5&&(o=0),n-o}.bind(this))[0]},t.PolySynth.prototype.triggerAttack=function(t,e,i){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var n=this._getClosestVoice(e,t);n.triggerAttack(t,e,i),this.log("triggerAttack",n.index,t)}.bind(this)),this},t.PolySynth.prototype.triggerRelease=function(t,e){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var i=this._getClosestVoice(e,t);this.log("triggerRelease",i.index,t),i.triggerRelease(e)}.bind(this)),this},t.PolySynth.prototype.triggerAttackRelease=function(e,i,n,o){if(n=this.toSeconds(n),this.triggerAttack(e,n,o),t.isArray(i)&&t.isArray(e))for(var s=0;s<e.length;s++){var r=i[Math.min(s,i.length-1)];this.triggerRelease(e[s],n+this.toSeconds(r))}else this.triggerRelease(e,n+this.toSeconds(i));return this},t.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},t.PolySynth.prototype.set=function(t,e,i){for(var n=0;n<this.voices.length;n++)this.voices[n].set(t,e,i);return this},t.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},t.PolySynth.prototype.releaseAll=function(t){return t=this.toSeconds(t),this.voices.forEach(function(e){e.triggerRelease(t)}),this},t.PolySynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this.voices.forEach(function(t){t.dispose()}),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this},t.PolySynth.MAX_POLYPHONY=20,t.PolySynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(21),i(39),i(53)],void 0===(o=function(t){"use strict";return t.PluckSynth=function(e){e=t.defaultArg(e,t.PluckSynth.defaults),t.Instrument.call(this,e),this._noise=new t.Noise("pink"),this.attackNoise=e.attackNoise,this._lfcf=new t.LowpassCombFilter({resonance:e.resonance,dampening:e.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},t.extend(t.PluckSynth,t.Instrument),t.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7},t.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var i=1/t;return this._lfcf.delayTime.setValueAtTime(i,e),this._noise.start(e),this._noise.stop(e+i*this.attackNoise),this},t.PluckSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},t.PluckSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(30),i(41),i(39),i(1),i(9),i(21)],void 0===(o=function(t){"use strict";return t.NoiseSynth=function(e){e=t.defaultArg(e,t.NoiseSynth.defaults),t.Instrument.call(this,e),this.noise=new t.Noise(e.noise),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.noise.chain(this.envelope,this.output),this._readOnly(["noise","envelope"])},t.extend(t.NoiseSynth,t.Instrument),t.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},t.NoiseSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.envelope.attack+this.envelope.decay),this},t.NoiseSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this.noise.stop(t+this.envelope.release),this},t.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},t.NoiseSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},t.NoiseSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},t.NoiseSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(21),i(48),i(9),i(41),i(30),i(3),i(26),i(5)],void 0===(o=function(t){var e=[1,1.483,1.932,2.546,2.63,3.897];return t.MetalSynth=function(i){i=t.defaultArg(i,t.MetalSynth.defaults),t.Instrument.call(this,i),this.frequency=new t.Signal(i.frequency,t.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new t.Gain(0).connect(this.output),this._highpass=new t.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=i.octaves,this._filterFreqScaler=new t.Scale(i.resonance,7e3),this.envelope=new t.Envelope({attack:i.envelope.attack,attackCurve:"linear",decay:i.envelope.decay,sustain:0,release:i.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var n=0;n<e.length;n++){var o=new t.FMOscillator({type:"square",modulationType:"square",harmonicity:i.harmonicity,modulationIndex:i.modulationIndex});o.connect(this._highpass),this._oscillators[n]=o;var s=new t.Multiply(e[n]);this._freqMultipliers[n]=s,this.frequency.chain(s,o.frequency)}this.octaves=i.octaves},t.extend(t.MetalSynth,t.Instrument),t.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},t.MetalSynth.prototype.triggerAttack=function(e,i){return e=this.toSeconds(e),i=t.defaultArg(i,1),this.envelope.triggerAttack(e,i),this._oscillators.forEach(function(t){t.start(e)}),0===this.envelope.sustain&&this._oscillators.forEach(function(t){t.stop(e+this.envelope.attack+this.envelope.decay)}.bind(this)),this},t.MetalSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this._oscillators.forEach(function(e){e.stop(t+this.envelope.release)}.bind(this)),this},t.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},t.MetalSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},Object.defineProperty(t.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(t.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(t.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(t.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),t.MetalSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].dispose(),this._freqMultipliers[e].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},t.MetalSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(37),i(21),i(30)],void 0===(o=function(t){"use strict";return t.MembraneSynth=function(e){e=t.defaultArg(e,t.MembraneSynth.defaults),t.Instrument.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.octaves=e.octaves,this.pitchDecay=e.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},t.extend(t.MembraneSynth,t.Instrument),t.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},t.MembraneSynth.prototype.triggerAttack=function(t,e,i){e=this.toSeconds(e);var n=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(n,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,i),this.oscillator.start(e),0===this.envelope.sustain&&this.oscillator.stop(e+this.envelope.attack+this.envelope.decay),this},t.MembraneSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},t.MembraneSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},t.MembraneSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(38),i(1),i(5),i(25)],void 0===(o=function(t){"use strict";return t.FMSynth=function(e){e=t.defaultArg(e,t.FMSynth.defaults),t.Monophonic.call(this,e),this._carrier=new t.Synth(e.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(e.envelope),this._modulator=new t.Synth(e.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(e.modulation),this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope),this.frequency=new t.Signal(440,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},t.extend(t.FMSynth,t.Monophonic),t.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},t.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},t.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},t.FMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},t.FMSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(68),i(12),i(1),i(5),i(25),i(14)],void 0===(o=function(t){"use strict";return t.DuoSynth=function(e){e=t.defaultArg(e,t.DuoSynth.defaults),t.Monophonic.call(this,e),this.voice0=new t.MonoSynth(e.voice0),this.voice0.volume.value=-10,this.voice1=new t.MonoSynth(e.voice1),this.voice1.volume.value=-10,this._vibrato=new t.LFO(e.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new t.Gain(e.vibratoAmount,t.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},t.extend(t.DuoSynth,t.Monophonic),t.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},t.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e),this},t.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this},t.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2},t.DuoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},t.DuoSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(38),i(1),i(5),i(25),i(22),i(3)],void 0===(o=function(t){"use strict";return t.AMSynth=function(e){e=t.defaultArg(e,t.AMSynth.defaults),t.Monophonic.call(this,e),this._carrier=new t.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator.set(e.oscillator),this.envelope=this._carrier.envelope.set(e.envelope),this._modulator=new t.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(e.modulation),this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope),this.frequency=new t.Signal(440,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationScale=new t.AudioToGain,this._modulationNode=new t.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},t.extend(t.AMSynth,t.Monophonic),t.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},t.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},t.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},t.AMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},t.AMSynth}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(72),i(16)],void 0===(o=function(t){"use strict";return t.Sequence=function(){var e=t.defaults(arguments,["callback","events","subdivision"],t.Sequence),i=e.events;if(delete e.events,t.Part.call(this,e),this._subdivision=this.toTicks(e.subdivision),t.isUndef(e.loopEnd)&&t.isDefined(i)&&(this._loopEnd=i.length*this._subdivision),this._loop=!0,t.isDefined(i))for(var n=0;n<i.length;n++)this.add(n,i[n])},t.extend(t.Sequence,t.Part),t.Sequence.defaults={subdivision:"4n"},Object.defineProperty(t.Sequence.prototype,"subdivision",{get:function(){return t.Ticks(this._subdivision).toSeconds()}}),t.Sequence.prototype.at=function(e,i){return t.isArray(i)&&this.remove(e),t.Part.prototype.at.call(this,this._indexTime(e),i)},t.Sequence.prototype.add=function(e,i){if(null===i)return this;if(t.isArray(i)){var n=Math.round(this._subdivision/i.length);i=new t.Sequence(this._tick.bind(this),i,t.Ticks(n))}return t.Part.prototype.add.call(this,this._indexTime(e),i),this},t.Sequence.prototype.remove=function(e,i){return t.Part.prototype.remove.call(this,this._indexTime(e),i),this},t.Sequence.prototype._indexTime=function(e){return e instanceof t.TransportTime?e:t.Ticks(e*this._subdivision+this.startOffset).toSeconds()},t.Sequence.prototype.dispose=function(){return t.Part.prototype.dispose.call(this),this},t.Sequence}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(73),i(80)],void 0===(o=function(t){return t.Pattern=function(){var e=t.defaults(arguments,["callback","values","pattern"],t.Pattern);t.Loop.call(this,e),this._pattern=new t.CtrlPattern({values:e.values,type:e.pattern,index:e.index})},t.extend(t.Pattern,t.Loop),t.Pattern.defaults={pattern:t.CtrlPattern.Type.Up,callback:t.noOp,values:[]},t.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(t.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(t.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(t.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(t.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),t.Pattern.prototype.dispose=function(){t.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},t.Pattern}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(18),i(12)],void 0===(o=function(t){"use strict";return t.Vibrato=function(){var e=t.defaults(arguments,["frequency","depth"],t.Vibrato);t.Effect.call(this,e),this._delayNode=new t.Delay(0,e.maxDelay),this._lfo=new t.LFO({type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},t.extend(t.Vibrato,t.Effect),t.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(t.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.Vibrato.prototype.dispose=function(){t.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},t.Vibrato}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(12),i(15)],void 0===(o=function(t){"use strict";return t.Tremolo=function(){var e=t.defaults(arguments,["frequency","depth"],t.Tremolo);t.StereoEffect.call(this,e),this._lfoL=new t.LFO({phase:e.spread,min:1,max:0}),this._lfoR=new t.LFO({phase:e.spread,min:1,max:0}),this._amplitudeL=new t.Gain,this._amplitudeR=new t.Gain,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.depth=new t.Signal(e.depth,t.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=e.type,this.spread=e.spread},t.extend(t.Tremolo,t.StereoEffect),t.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},t.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},t.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},t.Tremolo.prototype.sync=function(e){return this._lfoL.sync(e),this._lfoR.sync(e),t.Transport.syncSignal(this.frequency),this},t.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),t.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(t.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(t.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),t.Tremolo.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},t.Tremolo}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(75),i(1),i(5),i(13)],void 0===(o=function(t){"use strict";return t.StereoWidener=function(){var e=t.defaults(arguments,["width"],t.StereoWidener);t.MidSideEffect.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._readOnly(["width"]),this._twoTimesWidthMid=new t.Multiply(2),this._twoTimesWidthSide=new t.Multiply(2),this._midMult=new t.Multiply,this._twoTimesWidthMid.connect(this._midMult,0,1),this.midSend.chain(this._midMult,this.midReturn),this._oneMinusWidth=new t.Subtract,this._oneMinusWidth.connect(this._twoTimesWidthMid),this.context.getConstant(1).connect(this._oneMinusWidth,0,0),this.width.connect(this._oneMinusWidth,0,1),this._sideMult=new t.Multiply,this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult,0,1),this.sideSend.chain(this._sideMult,this.sideReturn)},t.extend(t.StereoWidener,t.MidSideEffect),t.StereoWidener.defaults={width:.5},t.StereoWidener.prototype.dispose=function(){return t.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this},t.StereoWidener}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(15),i(32),i(3)],void 0===(o=function(t){"use strict";return t.StereoFeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackL=new t.Gain,this._feedbackR=new t.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},t.extend(t.StereoFeedbackEffect,t.StereoEffect),t.StereoFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},t.StereoFeedbackEffect}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(78),i(9),i(10),i(39),i(3),i(76)],void 0===(o=function(t){"use strict";return t.Reverb=function(){var e=t.defaults(arguments,["decay"],t.Reverb);t.Effect.call(this,e),this._convolver=this.context.createConvolver(),this.decay=e.decay,this.preDelay=e.preDelay,this.connectEffect(this._convolver)},t.extend(t.Reverb,t.Effect),t.Reverb.defaults={decay:1.5,preDelay:.01},t.Reverb.prototype.generate=function(){return t.Offline(function(){var e=new t.Noise,i=new t.Noise,n=new t.Merge;e.connect(n.left),i.connect(n.right);var o=(new t.Gain).toMaster();n.connect(o),e.start(0),i.start(0),o.gain.setValueAtTime(0,0),o.gain.linearRampToValueAtTime(1,this.preDelay),o.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay-this.preDelay)}.bind(this),this.decay).then(function(t){return this._convolver.buffer=t.get(),this}.bind(this))},t.Reverb.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this},t.Reverb}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(12),i(23),i(1),i(32),i(18)],void 0===(o=function(t){"use strict";return t.PitchShift=function(){var e=t.defaults(arguments,["pitch"],t.PitchShift);t.FeedbackEffect.call(this,e),this._frequency=new t.Signal(0),this._delayA=new t.Delay(0,1),this._lfoA=new t.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new t.Delay(0,1),this._lfoB=new t.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new t.CrossFade,this._crossFadeLFO=new t.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new t.Delay(e.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var i=this.now();this._lfoA.start(i),this._lfoB.start(i),this._crossFadeLFO.start(i),this.windowSize=this._windowSize},t.extend(t.PitchShift,t.FeedbackEffect),t.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(t.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(e){this._pitch=e;var i=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,i=t.intervalToFrequencyRatio(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,i=t.intervalToFrequencyRatio(e)-1),this._frequency.value=i*(1.2/this._windowSize)}}),Object.defineProperty(t.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),t.PitchShift.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},t.PitchShift}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(74),i(1),i(18)],void 0===(o=function(t){"use strict";return t.PingPongDelay=function(){var e=t.defaults(arguments,["delayTime","feedback"],t.PingPongDelay);t.StereoXFeedbackEffect.call(this,e),this._leftDelay=new t.Delay(0,e.maxDelayTime),this._rightDelay=new t.Delay(0,e.maxDelayTime),this._rightPreDelay=new t.Delay(0,e.maxDelayTime),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},t.extend(t.PingPongDelay,t.StereoXFeedbackEffect),t.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},t.PingPongDelay.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},t.PingPongDelay}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(12),i(9),i(15)],void 0===(o=function(t){"use strict";return t.Phaser=function(){var e=t.defaults(arguments,["frequency","octaves","baseFrequency"],t.Phaser);t.StereoEffect.call(this,e),this._lfoL=new t.LFO(e.frequency,0,1),this._lfoR=new t.LFO(e.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this.Q=new t.Signal(e.Q,t.Type.Positive),this._filtersL=this._makeFilters(e.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(e.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),this._filtersL[e.stages-1].connect(this.effectReturnL),this._filtersR[e.stages-1].connect(this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},t.extend(t.Phaser,t.StereoEffect),t.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},t.Phaser.prototype._makeFilters=function(e,i,n){for(var o=new Array(e),s=0;s<e;s++){var r=this.context.createBiquadFilter();r.type="allpass",n.connect(r.Q),i.connect(r.frequency),o[s]=r}return t.connectSeries.apply(t,o),o},Object.defineProperty(t.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(t.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),t.Phaser.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var e=0;e<this._filtersL.length;e++)this._filtersL[e].disconnect(),this._filtersL[e]=null;this._filtersL=null;for(var i=0;i<this._filtersR.length;i++)this._filtersR[i].disconnect(),this._filtersR[i]=null;return this._filtersR=null,this.frequency=null,this},t.Phaser}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(58),i(15),i(26)],void 0===(o=function(t){"use strict";var e=[.06748,.06404,.08212,.09004],i=[.773,.802,.753,.733],n=[347,113,37];return t.JCReverb=function(){var o=t.defaults(arguments,["roomSize"],t.JCReverb);t.StereoEffect.call(this,o),this.roomSize=new t.Signal(o.roomSize,t.Type.NormalRange),this._scaleRoomSize=new t.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var s=0;s<n.length;s++){var r=this.context.createBiquadFilter();r.type="allpass",r.frequency.value=n[s],this._allpassFilters.push(r)}for(var a=0;a<e.length;a++){var l=new t.FeedbackCombFilter(e[a],.1);this._scaleRoomSize.connect(l.resonance),l.resonance.value=i[a],this._allpassFilters[this._allpassFilters.length-1].connect(l),a<e.length/2?l.connect(this.effectReturnL):l.connect(this.effectReturnR),this._feedbackCombFilters.push(l)}this.roomSize.connect(this._scaleRoomSize),t.connectSeries.apply(t,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},t.extend(t.JCReverb,t.StereoEffect),t.JCReverb.defaults={roomSize:.5},t.JCReverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFilters.length;e++)this._allpassFilters[e].disconnect(),this._allpassFilters[e]=null;this._allpassFilters=null;for(var i=0;i<this._feedbackCombFilters.length;i++)this._feedbackCombFilters[i].dispose(),this._feedbackCombFilters[i]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},t.JCReverb}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(53),i(15),i(1),i(19),i(10),i(42)],void 0===(o=function(t){"use strict";var e=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],i=[225,556,441,341];return t.Freeverb=function(){var n=t.defaults(arguments,["roomSize","dampening"],t.Freeverb);t.StereoEffect.call(this,n),this.roomSize=new t.Signal(n.roomSize,t.Type.NormalRange),this.dampening=new t.Signal(n.dampening,t.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var o=0;o<i.length;o++){var s=this.context.createBiquadFilter();s.type="allpass",s.frequency.value=i[o],this._allpassFiltersL.push(s)}for(var r=0;r<i.length;r++){var a=this.context.createBiquadFilter();a.type="allpass",a.frequency.value=i[r],this._allpassFiltersR.push(a)}for(var l=0;l<e.length;l++){var h=new t.LowpassCombFilter(e[l]);l<e.length/2?this.effectSendL.chain(h,this._allpassFiltersL[0]):this.effectSendR.chain(h,this._allpassFiltersR[0]),this.roomSize.connect(h.resonance),this.dampening.connect(h.dampening),this._combFilters.push(h)}t.connectSeries.apply(t,this._allpassFiltersL),t.connectSeries.apply(t,this._allpassFiltersR),this._allpassFiltersL[this._allpassFiltersL.length-1].connect(this.effectReturnL),this._allpassFiltersR[this._allpassFiltersR.length-1].connect(this.effectReturnR),this._readOnly(["roomSize","dampening"])},t.extend(t.Freeverb,t.StereoEffect),t.Freeverb.defaults={roomSize:.7,dampening:3e3},t.Freeverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFiltersL.length;e++)this._allpassFiltersL[e].disconnect(),this._allpassFiltersL[e]=null;this._allpassFiltersL=null;for(var i=0;i<this._allpassFiltersR.length;i++)this._allpassFiltersR[i].disconnect(),this._allpassFiltersR[i]=null;this._allpassFiltersR=null;for(var n=0;n<this._combFilters.length;n++)this._combFilters[n].dispose(),this._combFilters[n]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},t.Freeverb}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(32),i(1),i(18)],void 0===(o=function(t){"use strict";return t.FeedbackDelay=function(){var e=t.defaults(arguments,["delayTime","feedback"],t.FeedbackDelay);t.FeedbackEffect.call(this,e),this._delayNode=new t.Delay(e.delayTime,e.maxDelay),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},t.extend(t.FeedbackDelay,t.FeedbackEffect),t.FeedbackDelay.defaults={delayTime:.25,maxDelay:1},t.FeedbackDelay.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},t.FeedbackDelay}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(7)],void 0===(o=function(t){"use strict";return t.Distortion=function(){var e=t.defaults(arguments,["distortion"],t.Distortion);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample},t.extend(t.Distortion,t.Effect),t.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(t.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,i=Math.PI/180;this._shaper.setMap(function(t){return Math.abs(t)<.001?0:(3+e)*t*20*i/(Math.PI+e*Math.abs(t))})}}),Object.defineProperty(t.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Distortion.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Distortion}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(12),i(15),i(18)],void 0===(o=function(t){"use strict";return t.Chorus=function(){var e=t.defaults(arguments,["frequency","delayTime","depth"],t.Chorus);t.StereoEffect.call(this,e),this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new t.LFO({frequency:e.frequency,min:0,max:1}),this._lfoR=new t.LFO({frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new t.Delay,this._delayNodeR=new t.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=e.frequency,this.type=e.type,this._readOnly(["frequency"]),this.spread=e.spread},t.extend(t.Chorus,t.StereoEffect),t.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180},Object.defineProperty(t.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(t.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(t.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(t.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),t.Chorus.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},t.Chorus}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(7)],void 0===(o=function(t){"use strict";return t.Chebyshev=function(){var e=t.defaults(arguments,["order"],t.Chebyshev);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample},t.extend(t.Chebyshev,t.Effect),t.Chebyshev.defaults={order:1,oversample:"none"},t.Chebyshev.prototype._getCoefficient=function(t,e,i){return i.hasOwnProperty(e)?i[e]:(i[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,i)-this._getCoefficient(t,e-2,i),i[e])},Object.defineProperty(t.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),i=e.length,n=0;n<i;++n){var o=2*n/i-1;e[n]=0===o?0:this._getCoefficient(o,t,{})}this._shaper.curve=e}}),Object.defineProperty(t.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Chebyshev.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Chebyshev}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(13),i(77)],void 0===(o=function(t){"use strict";return t.BitCrusher=function(){var e=t.defaults(arguments,["bits"],t.BitCrusher);t.Effect.call(this,e);var i=1/Math.pow(2,e.bits-1);this._subtract=new t.Subtract,this._modulo=new t.Modulo(i),this._bits=e.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},t.extend(t.BitCrusher,t.Effect),t.BitCrusher.defaults={bits:4},Object.defineProperty(t.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),t.BitCrusher.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},t.BitCrusher}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(57),i(42),i(8),i(9)],void 0===(o=function(t){"use strict";return t.AutoWah=function(){var e=t.defaults(arguments,["baseFrequency","octaves","sensitivity"],t.AutoWah);t.Effect.call(this,e),this.follower=new t.Follower(e.follower),this._sweepRange=new t.ScaleExp(0,1,.5),this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this._inputBoost=new t.Gain,this._bandpass=new t.Filter({rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new t.Filter(0,"peaking"),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,this._readOnly(["gain","Q"])},t.extend(t.AutoWah,t.Effect),t.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(t.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"sensitivity",{get:function(){return t.gainToDb(1/this._inputBoost.gain.value)},set:function(e){this._inputBoost.gain.value=1/t.dbToGain(e)}}),t.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},t.AutoWah.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},t.AutoWah}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(12),i(60)],void 0===(o=function(t){"use strict";return t.AutoPanner=function(){var e=t.defaults(arguments,["frequency"],t.AutoPanner);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new t.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=e.type,this._readOnly(["depth","frequency"])},t.extend(t.AutoPanner,t.Effect),t.AutoPanner.defaults={frequency:1,type:"sine",depth:1},t.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},t.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.AutoPanner.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},t.AutoPanner}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(8),i(12),i(9)],void 0===(o=function(t){"use strict";return t.AutoFilter=function(){var e=t.defaults(arguments,["frequency","baseFrequency","octaves"],t.AutoFilter);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new t.Filter(e.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=e.type,this._readOnly(["frequency","depth"]),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency},t.extend(t.AutoFilter,t.Effect),t.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},t.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},t.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(t.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(t.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),t.AutoFilter.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},t.AutoFilter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(23),i(10),i(19),i(1),i(22),i(28)],void 0===(o=function(t){"use strict";t.Listener=function(){t.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],t.getContext(function(){this.set(e.defaults),this.context.listener=this}.bind(this))},t.extend(t.Listener),t.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},t.Listener.prototype.isListener=!0,t.Listener.prototype._rampTimeConstant=.01,t.Listener.prototype.setPosition=function(t,e,i){if(this.context.rawContext.listener.positionX){var n=this.now();this.context.rawContext.listener.positionX.setTargetAtTime(t,n,this._rampTimeConstant),this.context.rawContext.listener.positionY.setTargetAtTime(e,n,this._rampTimeConstant),this.context.rawContext.listener.positionZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this.context.rawContext.listener.setPosition(t,e,i);return this._position=Array.prototype.slice.call(arguments),this},t.Listener.prototype.setOrientation=function(t,e,i,n,o,s){if(this.context.rawContext.listener.forwardX){var r=this.now();this.context.rawContext.listener.forwardX.setTargetAtTime(t,r,this._rampTimeConstant),this.context.rawContext.listener.forwardY.setTargetAtTime(e,r,this._rampTimeConstant),this.context.rawContext.listener.forwardZ.setTargetAtTime(i,r,this._rampTimeConstant),this.context.rawContext.listener.upX.setTargetAtTime(n,r,this._rampTimeConstant),this.context.rawContext.listener.upY.setTargetAtTime(o,r,this._rampTimeConstant),this.context.rawContext.listener.upZ.setTargetAtTime(s,r,this._rampTimeConstant)}else this.context.rawContext.listener.setOrientation(t,e,i,n,o,s);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(t.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(t.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(t.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(t.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(t.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(t.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(t.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(t.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(t.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),t.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var e=t.Listener;return t.Listener=new e,t.Context.on("init",function(i){i.listener&&i.listener.isListener?t.Listener=i.listener:t.Listener=new e}),t.Listener}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(24)],void 0===(o=function(t){"use strict";return t.Draw=function(){t.call(this),this._events=new t.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},t.extend(t.Draw),t.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},t.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},t.Draw.prototype._drawLoop=function(){for(var e=t.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=e;){var i=this._events.shift();e-i.time<=this.expiration&&i.callback()}this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)},t.Draw=new t.Draw,t.Draw}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(3)],void 0===(o=function(t){"use strict";var e={};return t.prototype.send=function(i,n){e.hasOwnProperty(i)||(e[i]=this.context.createGain()),n=t.defaultArg(n,0);var o=new t.Gain(n,t.Type.Decibels);return this.connect(o),o.connect(e[i]),o},t.prototype.receive=function(t,i){return e.hasOwnProperty(t)||(e[t]=this.context.createGain()),e[t].connect(this,0,i),this},t.Context.on("init",function(t){t.buses?e=t.buses:(e={},t.buses=e)}),t}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(4)],void 0===(o=function(t){"use strict";return t.CtrlRandom=function(){var e=t.defaults(arguments,["min","max"],t.CtrlRandom);t.call(this),this.min=e.min,this.max=e.max,this.integer=e.integer},t.extend(t.CtrlRandom),t.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(t.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),i=Math.random(),n=i*t+(1-i)*e;return this.integer&&(n=Math.floor(n)),n}}),t.CtrlRandom}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0)],void 0===(o=function(t){"use strict";return t.CtrlMarkov=function(e,i){t.call(this),this.values=t.defaultArg(e,{}),this.value=t.defaultArg(i,Object.keys(this.values)[0])},t.extend(t.CtrlMarkov),t.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var e=this.values[this.value];if(t.isArray(e))for(var i=this._getProbDistribution(e),n=Math.random(),o=0,s=0;s<i.length;s++){var r=i[s];if(n>o&&n<o+r){var a=e[s];t.isObject(a)?this.value=a.value:this.value=a}o+=r}else this.value=e}return this.value},t.CtrlMarkov.prototype._getProbDistribution=function(e){for(var i=[],n=0,o=!1,s=0;s<e.length;s++){var r=e[s];t.isObject(r)?(o=!0,i[s]=r.probability):i[s]=1/e.length,n+=i[s]}if(o)for(var a=0;a<i.length;a++)i[a]=i[a]/n;return i},t.CtrlMarkov.prototype.dispose=function(){this.values=null},t.CtrlMarkov}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(4)],void 0===(o=function(t){"use strict";return t.CtrlInterpolate=function(){var e=t.defaults(arguments,["values","index"],t.CtrlInterpolate);t.call(this),this.values=e.values,this.index=e.index},t.extend(t.CtrlInterpolate),t.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(t.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),i=this.values[e],n=this.values[Math.ceil(t)];return this._interpolate(t-e,i,n)}}),t.CtrlInterpolate.prototype._interpolate=function(e,i,n){if(t.isArray(i)){for(var o=[],s=0;s<i.length;s++)o[s]=this._interpolate(e,i[s],n[s]);return o}if(t.isObject(i)){var r={};for(var a in i)r[a]=this._interpolate(e,i[a],n[a]);return r}return(1-e)*(i=this._toNumber(i))+e*(n=this._toNumber(n))},t.CtrlInterpolate.prototype._toNumber=function(e){return t.isNumber(e)?e:this.toSeconds(e)},t.CtrlInterpolate.prototype.dispose=function(){this.values=null},t.CtrlInterpolate}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(44),i(2)],void 0===(o=function(t){return t.Waveform=function(){var e=t.defaults(arguments,["size"],t.Waveform);e.type=t.Analyser.Type.Waveform,t.AudioNode.call(this),this._analyser=this.input=this.output=new t.Analyser(e)},t.extend(t.Waveform,t.AudioNode),t.Waveform.defaults={size:1024},t.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(t.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),t.Waveform.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},t.Waveform}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(23),i(10),i(19),i(1),i(22),i(28),i(2)],void 0===(o=function(t){"use strict";return t.Panner3D=function(){var e=t.defaults(arguments,["positionX","positionY","positionZ"],t.Panner3D);t.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=e.panningModel,this._panner.maxDistance=e.maxDistance,this._panner.distanceModel=e.distanceModel,this._panner.coneOuterGain=e.coneOuterGain,this._panner.coneOuterAngle=e.coneOuterAngle,this._panner.coneInnerAngle=e.coneInnerAngle,this._panner.refDistance=e.refDistance,this._panner.rolloffFactor=e.rolloffFactor,this._orientation=[e.orientationX,e.orientationY,e.orientationZ],this._position=[e.positionX,e.positionY,e.positionZ],this.orientationX=e.orientationX,this.orientationY=e.orientationY,this.orientationZ=e.orientationZ,this.positionX=e.positionX,this.positionY=e.positionY,this.positionZ=e.positionZ},t.extend(t.Panner3D,t.AudioNode),t.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},t.Panner3D.prototype._rampTimeConstant=.01,t.Panner3D.prototype.setPosition=function(t,e,i){if(this._panner.positionX){var n=this.now();this._panner.positionX.setTargetAtTime(t,n,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,n,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this._panner.setPosition(t,e,i);return this._position=Array.prototype.slice.call(arguments),this},t.Panner3D.prototype.setOrientation=function(t,e,i){if(this._panner.orientationX){var n=this.now();this._panner.orientationX.setTargetAtTime(t,n,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,n,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this._panner.setOrientation(t,e,i);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(t.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(t.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(t.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(t.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(t.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(t.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),t.Panner3D._aliasProperty=function(e){Object.defineProperty(t.Panner3D.prototype,e,{set:function(t){this._panner[e]=t},get:function(){return this._panner[e]}})},t.Panner3D._aliasProperty("panningModel"),t.Panner3D._aliasProperty("refDistance"),t.Panner3D._aliasProperty("rolloffFactor"),t.Panner3D._aliasProperty("distanceModel"),t.Panner3D._aliasProperty("coneInnerAngle"),t.Panner3D._aliasProperty("coneOuterAngle"),t.Panner3D._aliasProperty("coneOuterGain"),t.Panner3D._aliasProperty("maxDistance"),t.Panner3D.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},t.Panner3D}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(59),i(43),i(2)],void 0===(o=function(t){"use strict";return t.MultibandCompressor=function(e){t.AudioNode.call(this),e=t.defaultArg(arguments,t.MultibandCompressor.defaults),this._splitter=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new t.Gain,this.low=new t.Compressor(e.low),this.mid=new t.Compressor(e.mid),this.high=new t.Compressor(e.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandCompressor,t.AudioNode),t.MultibandCompressor.defaults={low:t.Compressor.defaults,mid:t.Compressor.defaults,high:t.Compressor.defaults,lowFrequency:250,highFrequency:2e3},t.MultibandCompressor.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},t.MultibandCompressor}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(10),i(2)],void 0===(o=function(t){"use strict";return t.Mono=function(){t.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new t.Merge,this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)},t.extend(t.Mono,t.AudioNode),t.Mono.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},t.Mono}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(52),i(51),i(43),i(2)],void 0===(o=function(t){"use strict";return t.MidSideCompressor=function(e){t.AudioNode.call(this),e=t.defaultArg(e,t.MidSideCompressor.defaults),this._midSideSplit=this.input=new t.MidSideSplit,this._midSideMerge=this.output=new t.MidSideMerge,this.mid=new t.Compressor(e.mid),this.side=new t.Compressor(e.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},t.extend(t.MidSideCompressor,t.AudioNode),t.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},t.MidSideCompressor.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},t.MidSideCompressor}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(44),i(2)],void 0===(o=function(t){"use strict";return t.Meter=function(){var e=t.defaults(arguments,["smoothing"],t.Meter);t.AudioNode.call(this),this.smoothing=e.smoothing,this._rms=0,this.input=this.output=this._analyser=new t.Analyser("waveform",256)},t.extend(t.Meter,t.AudioNode),t.Meter.defaults={smoothing:.8},t.Meter.prototype.getLevel=function(){for(var e=this._analyser.getValue(),i=0,n=0;n<e.length;n++){var o=e[n];i+=o*o}var s=Math.sqrt(i/e.length);return this._rms=Math.max(s,this._rms*this.smoothing),t.gainToDb(this._rms)},t.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]},t.Meter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},t.Meter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(43),i(2)],void 0===(o=function(t){"use strict";return t.Limiter=function(){var e=t.defaults(arguments,["threshold"],t.Limiter);t.AudioNode.call(this),this._compressor=this.input=this.output=new t.Compressor({attack:.001,decay:.001,threshold:e.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},t.extend(t.Limiter,t.AudioNode),t.Limiter.defaults={threshold:-12},t.Limiter.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},t.Limiter}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(57),i(88),i(2)],void 0===(o=function(t){"use strict";return t.Gate=function(){var e=t.defaults(arguments,["threshold","smoothing"],t.Gate);t.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new t.Follower(e.smoothing),this._gt=new t.GreaterThan(t.dbToGain(e.threshold)),this.input.connect(this.output),this.input.chain(this._follower,this._gt,this.output.gain)},t.extend(t.Gate,t.AudioNode),t.Gate.defaults={smoothing:.1,threshold:-40},Object.defineProperty(t.Gate.prototype,"threshold",{get:function(){return t.gainToDb(this._gt.value)},set:function(e){this._gt.value=t.dbToGain(e)}}),Object.defineProperty(t.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(t){this._follower.smoothing=t}}),t.Gate.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},t.Gate}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(44),i(2)],void 0===(o=function(t){return t.FFT=function(){var e=t.defaults(arguments,["size"],t.FFT);e.type=t.Analyser.Type.FFT,t.AudioNode.call(this),this._analyser=this.input=this.output=new t.Analyser(e)},t.extend(t.FFT,t.AudioNode),t.FFT.defaults={size:1024},t.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(t.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),t.FFT.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},t.FFT}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(59),i(3),i(2)],void 0===(o=function(t){"use strict";return t.EQ3=function(){var e=t.defaults(arguments,["low","mid","high"],t.EQ3);t.AudioNode.call(this),this.output=new t.Gain,this._multibandSplit=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this._lowGain=new t.Gain(e.low,t.Type.Decibels),this._midGain=new t.Gain(e.mid,t.Type.Decibels),this._highGain=new t.Gain(e.high,t.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},t.extend(t.EQ3,t.AudioNode),t.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},t.EQ3.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},t.EQ3}.apply(e,n))||(t.exports=o)},function(t,e,i){var n,o;n=[i(0),i(95),i(91),i(2)],void 0===(o=function(t){return t.Channel=function(){var e=t.defaults(arguments,["volume","pan"],t.PanVol);t.AudioNode.call(this,e),this._solo=this.input=new t.Solo(e.solo),this._panVol=this.output=new t.PanVol({pan:e.pan,volume:e.volume,mute:e.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),this._readOnly(["pan","volume"])},t.extend(t.Channel,t.AudioNode),t.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1},Object.defineProperty(t.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(t){this._solo.solo=t}}),Object.defineProperty(t.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}}),Object.defineProperty(t.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(t){this._panVol.mute=t}}),t.Channel.prototype.dispose=function(){return t.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this},t.Channel}.apply(e,n))||(t.exports=o)},function(t,e){t.exports="13.4.9"},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){i(30),i(44),i(152),i(43),i(23),i(47),i(151),i(58),i(150),i(9),i(57),i(41),i(149),i(12),i(148),i(53),i(10),i(147),i(146),i(51),i(52),i(145),i(144),i(59),i(60),i(143),i(95),i(89),i(91),i(19),i(27),i(142),i(141),i(140),i(80),i(139),i(2),i(11),i(79),i(138),i(86),i(20),i(18),i(137),i(35),i(3),i(84),i(136),i(40),i(78),i(62),i(14),i(24),i(33),i(16),i(55),i(83),i(135),i(134),i(133),i(132),i(131),i(130),i(76),i(129),i(8),i(128),i(32),i(127),i(126),i(75),i(125),i(124),i(123),i(122),i(15),i(121),i(120),i(74),i(119),i(118),i(50),i(73),i(72),i(117),i(116),i(115),i(114),i(113),i(21),i(112),i(111),i(25),i(68),i(110),i(109),i(108),i(107),i(38),i(96),i(81),i(34),i(63),i(97),i(66),i(106),i(92),i(98),i(90),i(29),i(22),i(93),i(105),i(88),i(87),i(77),i(5),i(94),i(104),i(61),i(26),i(42),i(1),i(36),i(13),i(85),i(103),i(7),i(28),i(70),i(31),i(69),i(48),i(102),i(39),i(37),i(17),i(82),i(67),i(101),i(49),i(71),i(6),i(56),i(100),i(46),i(99),i(54),i(65),i(64),i(45),i(4),t.exports=i(0)}])});
//# sourceMappingURL=Tone.js.map

/***/ }),

/***/ "./src/audio.ts":
/*!**********************!*\
  !*** ./src/audio.ts ***!
  \**********************/
/*! exports provided: getSampler, changeSampler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSampler", function() { return getSampler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "changeSampler", function() { return changeSampler; });
/* harmony import */ var tone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tone */ "./node_modules/tone/build/Tone.js");
/* harmony import */ var tone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ "./src/index.ts");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data */ "./src/data.ts");



function setSamplerRelease(sampler, instrument) {
    const instrumentDuration = _data__WEBPACK_IMPORTED_MODULE_2__["instrumentData"][instrument]["duration"];
    switch (instrumentDuration) {
        case "instant":
            sampler.release = 0.05;
            break;
        case "mini":
            sampler.release = 0.125;
            break;
        case "short":
            sampler.release = 0.25;
            break;
        case "mid":
            sampler.release = 0.4;
            break;
        case "long":
            sampler.release = 1;
            break;
        case "extended":
            sampler.release = 1.5;
            break;
        case "mega":
            sampler.release = 5;
            break;
        case "constant":
            sampler.release = 30;
            break;
        case "infinite":
            sampler.release = 0.1;
            break;
        default:
            Object(_index__WEBPACK_IMPORTED_MODULE_1__["assertNever"])(instrumentDuration);
    }
}
function setSamplerCurve(sampler) {
    sampler.curve = "linear";
}
function getSampler(instrument, extension = "ogg", baseUrl = "/bosca-ceoil-js/audio/") {
    let samples = {};
    for (const note of _index__WEBPACK_IMPORTED_MODULE_1__["notes"]) {
        samples[note] = `${instrument}/${note.toLowerCase()}.${extension}`;
    }
    let sampler = new tone__WEBPACK_IMPORTED_MODULE_0__["Sampler"](samples, undefined, baseUrl);
    setSamplerCurve(sampler);
    setSamplerRelease(sampler, instrument);
    return sampler;
}
function changeSampler(sampler, instrument, extension = "ogg") {
    for (const note of _index__WEBPACK_IMPORTED_MODULE_1__["notes"]) {
        sampler.add(note, `${instrument}/${note.toLowerCase()}.${extension}`);
    }
    setSamplerCurve(sampler);
    setSamplerRelease(sampler, instrument);
    return sampler;
}


/***/ }),

/***/ "./src/data.ts":
/*!*********************!*\
  !*** ./src/data.ts ***!
  \*********************/
/*! exports provided: instrumentData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "instrumentData", function() { return instrumentData; });
const instrumentData = __webpack_require__(/*! ../instruments.yaml */ "./instruments.yaml");


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: assertNever, notes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assertNever", function() { return assertNever; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notes", function() { return notes; });
function assertNever(x) {
    throw new Error(`Unexhaustive condition leading to value: ${x}`);
}
const notes = ["C1", "C2", "C3", "C4", "C5", "C6", "C7", "C8", "C9"];


/***/ }),

/***/ "./src/player.ts":
/*!***********************!*\
  !*** ./src/player.ts ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tone */ "./node_modules/tone/build/Tone.js");
/* harmony import */ var tone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./audio */ "./src/audio.ts");


const dialogPolyfill = __webpack_require__(/*! dialog-polyfill */ "./node_modules/dialog-polyfill/dist/dialog-polyfill.esm.js");
let playing = false;
const letters = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"];
const chords = [1, 2, 3, 4, 5, 6, 7, 8, 9];
const volume = new tone__WEBPACK_IMPORTED_MODULE_0__["Volume"](0);
const lowPass = new tone__WEBPACK_IMPORTED_MODULE_0__["LowpassCombFilter"](0, 0);
const delayEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["FeedbackDelay"](0, 0);
const chorusEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["Chorus"]();
chorusEffect.wet.value = 0;
const reverbEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["Freeverb"](0, 3000);
reverbEffect.wet.value = 0;
const distortionEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["BitCrusher"](4);
distortionEffect.wet.value = 0;
const lowBoostEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["Filter"](0, "lowshelf");
const compressorEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["Compressor"](0);
const highPassEffect = new tone__WEBPACK_IMPORTED_MODULE_0__["Filter"](0, "highpass");
let instrumentName = "midi.piano1";
let sampler = Object(_audio__WEBPACK_IMPORTED_MODULE_1__["getSampler"])("midi.piano1");
let patterns = {};
for (const chord of chords) {
    patterns[chord] = {};
    for (const letter of letters) {
        patterns[chord][letter] = Array.from({ length: 16 }, () => { return { length: 0, scheduledEvent: null }; });
    }
}
function toggleAudio() {
    if (playing) {
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].stop();
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].position = "0";
    }
    else {
        resumeAudioContext();
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].loopEnd = '1m';
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].loop = true;
    }
    tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].toggle(0);
    playing = !playing;
}
function resumeAudioContext() {
    let ac = tone__WEBPACK_IMPORTED_MODULE_0__["context"];
    if (ac.state !== "running") {
        ac.resume();
    }
}
// mdl-selectfield doesn't play nice with custom onchange event listeners,
// so we use this to handle instrument changes instead.
function setInstrumentLoop(instrumentField) {
    setInstrument(instrumentField);
    setTimeout(() => { setInstrumentLoop(instrumentField); }, 250);
}
function setInstrument(instrumentField) {
    if (instrumentName !== instrumentField.value) {
        instrumentName = instrumentField.value;
        Object(_audio__WEBPACK_IMPORTED_MODULE_1__["changeSampler"])(sampler, instrumentField.value);
    }
}
function setBpm() {
    let bpmField = document.getElementById("bpm");
    if (bpmField !== null && bpmField instanceof HTMLInputElement) {
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].bpm.value = parseInt(bpmField.value);
    }
}
function setVolume() {
    const field = document.getElementById("volume");
    if (field !== null && field instanceof HTMLInputElement) {
        let newValue = parseInt(field.value);
        if (newValue === 0) {
            volume.mute = true;
        }
        else {
            volume.volume.value = (newValue - 100) / 5;
            volume.mute = false;
        }
    }
}
function setSwing() {
    const field = document.getElementById("swing");
    if (field !== null && field instanceof HTMLInputElement) {
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].swing = parseFloat(field.value);
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].swingSubdivision = "16n";
    }
}
function setResonance() {
    const field = document.getElementById("resonance");
    if (field !== null && field instanceof HTMLInputElement) {
        lowPass.resonance.value = parseFloat(field.value);
    }
}
function setDampening() {
    const field = document.getElementById("dampening");
    if (field !== null && field instanceof HTMLInputElement) {
        lowPass.dampening.value = parseInt(field.value);
    }
}
function togglePlayButton() {
    let playButton = document.getElementById("playButton");
    if (playButton !== null) {
        if (playButton.textContent !== null && playButton.textContent.trim().toLowerCase() === "play") {
            playButton.textContent = "Stop";
        }
        else {
            playButton.textContent = "Play";
        }
    }
}
function setEffect(effect, value) {
    switch (effect) {
        case "delay":
            delayEffect.delayTime.value = value === 0 ? 0 : tone__WEBPACK_IMPORTED_MODULE_0__["Time"]("8n") * 2 * value;
            delayEffect.feedback.value = 0.15 * 2 * value;
            break;
        case "chorus":
            chorusEffect.wet.value = value;
            break;
        case "reverb":
            reverbEffect.roomSize.value = value * 0.9;
            reverbEffect.wet.value = value;
            break;
        case "distortion":
            distortionEffect.wet.value = value === 0 ? 0 : 1;
            distortionEffect.bits = value;
            break;
        case "lowBoost":
            lowBoostEffect.frequency.value = value;
            lowBoostEffect.gain.value = value === 0 ? 0 : 20;
            break;
        case "compressor":
            compressorEffect.threshold.value = value;
            break;
        case "highPass":
            highPassEffect.frequency.value = value;
            break;
    }
}
function scheduleNote(chord, letter, index, length) {
    unscheduleNote(chord, letter, index);
    // console.log(`scheduleNote(chord=${chord}, letter=${letter}, index=${index}, length=${length})`);
    patterns[chord][letter][index]["length"] = length;
    patterns[chord][letter][index]["scheduledEvent"] = tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].schedule(time => {
        sampler.triggerAttackRelease(`${letter}${chord}`, tone__WEBPACK_IMPORTED_MODULE_0__["Time"]("16n") * length, time);
        tone__WEBPACK_IMPORTED_MODULE_0__["Draw"].schedule(() => {
            const noteElement = document.querySelector(`#${letter.replace("#", "\\#")}-${chord}-${index}`);
            if (noteElement !== null) {
                if (length <= 1) {
                    noteElement.classList.add("playing");
                }
                else {
                    noteElement.classList.add("playingLong");
                }
                setTimeout(() => {
                    noteElement.classList.remove("playing");
                    noteElement.classList.remove("playingLong");
                }, 100 * length);
            }
        }, time);
    }, `0:0:${index}`);
}
function unscheduleNote(chord, letter, index) {
    patterns[chord][letter][index]["length"] = 0;
    const schedulee = patterns[chord][letter][index]["scheduledEvent"];
    if (schedulee !== null) {
        tone__WEBPACK_IMPORTED_MODULE_0__["Transport"].clear(schedulee);
        patterns[chord][letter][index]["scheduledEvent"] = null;
    }
}
function onClickNoteCell(event, cell, chord, letter, index) {
    let length = patterns[chord][letter][index]["length"];
    // console.log(`onClickNoteCell(chord=${chord}, letter=${letter}, index=${index}) | length ${length}`);
    if (event.shiftKey && event.ctrlKey) {
        length = Math.max(length - 1, 0);
    }
    else if (event.shiftKey) {
        length = Math.max(Math.min(length + 1, 16), 2);
    }
    else if (length > 0) {
        length = 0;
    }
    else {
        length = 1;
    }
    cell.innerHTML = length.toString();
    if (length <= 1) {
        cell.classList.remove("noteLong");
    }
    else {
        cell.classList.add("noteLong");
    }
    if (length > 0 && length !== patterns[chord][letter][index]["length"]) {
        cell.classList.add("active");
        scheduleNote(chord, letter, index, length);
    }
    else if (length === 0) {
        cell.classList.remove("active");
        unscheduleNote(chord, letter, index);
    }
}
function onLoad() {
    sampler.chain(volume, lowPass, delayEffect, chorusEffect, reverbEffect, distortionEffect, lowBoostEffect, compressorEffect, highPassEffect, tone__WEBPACK_IMPORTED_MODULE_0__["Master"]);
    document.onkeypress = event => {
        if (event.keyCode === 32) {
            toggleAudio();
            togglePlayButton();
            return false;
        }
    };
    let playButton = document.getElementById("playButton");
    if (playButton !== null) {
        playButton.addEventListener("click", toggleAudio);
        playButton.addEventListener("click", togglePlayButton);
    }
    let helpButton = document.getElementById("helpButton");
    let helpModal = document.getElementById("helpModal");
    if (helpButton !== null && helpModal !== null) {
        if (!helpModal.showModal) {
            dialogPolyfill.default.registerDialog(helpModal);
        }
        helpButton.addEventListener("click", () => { helpModal.showModal(); });
        const helpModalClose = helpModal.querySelector(".close");
        if (helpModalClose !== null) {
            helpModalClose.addEventListener("click", () => {
                helpModal.close();
            });
        }
    }
    let instrumentField = document.getElementById("instruments");
    if (instrumentField !== null && instrumentField instanceof HTMLSelectElement) {
        setInstrumentLoop(instrumentField);
    }
    let bpmField = document.getElementById("bpm");
    if (bpmField !== null) {
        bpmField.addEventListener("change", setBpm);
    }
    let effectsMenu = document.getElementById("effectsMenu");
    if (effectsMenu !== null) {
        effectsMenu.addEventListener("click", event => {
            event.stopPropagation();
        });
    }
    const effects = ["delay", "chorus", "reverb", "distortion", "lowBoost", "compressor", "highPass"];
    for (const effect of effects) {
        const effectField = document.getElementById(`${effect}Effect`);
        if (effectField !== null && effectField instanceof HTMLInputElement) {
            effectField.addEventListener("change", () => {
                setEffect(effect, parseFloat(effectField.value));
            });
        }
    }
    let patternTable = document.getElementById("pattern");
    if (patternTable !== null && patternTable instanceof HTMLTableElement) {
        for (const chord of chords.slice().reverse()) {
            let first = true;
            for (const letter of letters.slice().reverse()) {
                let row = patternTable.insertRow();
                if (first) {
                    first = false;
                    let chordHeader = document.createElement("th");
                    chordHeader.rowSpan = letters.length;
                    chordHeader.innerHTML = chord.toString();
                    row.appendChild(chordHeader);
                }
                let letterHeader = document.createElement("th");
                letterHeader.innerHTML = letter;
                row.appendChild(letterHeader);
                for (const i of Array(16).keys()) {
                    let cell = row.insertCell();
                    cell.id = `${letter}-${chord}-${i}`;
                    cell.classList.add(`note-${letter}`);
                    cell.onclick = event => { onClickNoteCell(event, cell, chord, letter, i); };
                }
            }
        }
    }
    const centralRow = document.getElementById("F-5-0");
    if (centralRow !== null) {
        centralRow.scrollIntoView({ "behavior": "smooth", "block": "center" });
    }
    let volumeField = document.getElementById("volume");
    if (volumeField !== null) {
        volumeField.addEventListener("change", setVolume);
    }
    let swingField = document.getElementById("swing");
    if (swingField !== null) {
        swingField.addEventListener("change", setSwing);
    }
    let resonanceField = document.getElementById("resonance");
    if (resonanceField !== null) {
        resonanceField.addEventListener("change", setResonance);
    }
    let dampeningField = document.getElementById("dampening");
    if (dampeningField !== null) {
        dampeningField.addEventListener("change", setDampening);
    }
}
window.onload = onLoad;


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5zdHJ1bWVudHMueWFtbCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGlhbG9nLXBvbHlmaWxsL2Rpc3QvZGlhbG9nLXBvbHlmaWxsLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdG9uZS9idWlsZC9Ub25lLmpzIiwid2VicGFjazovLy8uL3NyYy9hdWRpby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYXllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBeUMsaUNBQWlDO0FBQzFFLHdIQUFnSCxtQkFBbUIsRUFBRTtBQUNySTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOzs7QUFHQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNsRkEsZUFBZSxnQkFBZ0IsMkVBQTJFLG1CQUFtQiwwRUFBMEUsbUJBQW1CLGdGQUFnRixvQkFBb0IsOEVBQThFLGtC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QUssSUFBSSxFQUFFO1FBQ3JCLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDbkQ7SUFFRCxJQUFJLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzFELElBQUksY0FBYyxLQUFLLElBQUksRUFBRTtRQUN6QixjQUFjLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO0tBQzNEO0lBRUQsSUFBSSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMxRCxJQUFJLGNBQWMsS0FBSyxJQUFJLEVBQUU7UUFDekIsY0FBYyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztLQUMzRDtBQUNMLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL3BsYXllci50c1wiKTtcbiIsImNvbnN0IGRvYyA9IFsoe1wibWlkaS5waWFubzFcIjooe1wiaW5kZXhcIjowLCBcImR1cmF0aW9uXCI6XCJzaG9ydFwiLCBcImNhdGVnb3J5XCI6W1wiTUlESVwiLCBcIlBpYW5vXCIsIFwiR3JhbmQgUGlhbm9cIl19KSwgXCJtaWRpLmNocm9tMVwiOih7XCJpbmRleFwiOjgsIFwiZHVyYXRpb25cIjpcImNvbnN0YW50XCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiQmVsbHNcIiwgXCJDZWxlc3RhXCJdfSksIFwibWlkaS5vcmdhbjFcIjooe1wiaW5kZXhcIjoxNiwgXCJkdXJhdGlvblwiOlwiaW5zdGFudFwiLCBcImNhdGVnb3J5XCI6W1wiTUlESVwiLCBcIk9yZ2FuXCIsIFwiRHJhd2JhciBPcmdhblwiXX0pLCBcIm1pZGkuZ3VpdGFyMVwiOih7XCJpbmRleFwiOjI0LCBcImR1cmF0aW9uXCI6XCJzaG9ydFwiLCBcImNhdGVnb3J5XCI6W1wiTUlESVwiLCBcIkd1aXRhclwiLCBcIk55bG9uIEd1aXRhclwiXX0pLCBcIm1pZGkuYmFzczFcIjooe1wiaW5kZXhcIjozMiwgXCJkdXJhdGlvblwiOlwiaW5zdGFudFwiLCBcImNhdGVnb3J5XCI6W1wiTUlESVwiLCBcIkJhc3NcIiwgXCJBY291c3RpYyBCYXNzXCJdfSksIFwibWlkaS5zdHJpbmdzMVwiOih7XCJpbmRleFwiOjQwLCBcImR1cmF0aW9uXCI6XCJtaW5pXCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiU3RyaW5nc1wiLCBcIlZpb2xpblwiXX0pLCBcIm1pZGkuZW5zZW1ibGUxXCI6KHtcImluZGV4XCI6NDgsIFwiZHVyYXRpb25cIjpcIm1pZFwiLCBcImNhdGVnb3J5XCI6W1wiTUlESVwiLCBcIkVuc2VtYmxlXCIsIFwiU3RyaW5nIEVuc2VtYmxlIDFcIl19KSwgXCJtaWRpLmJyYXNzMVwiOih7XCJpbmRleFwiOjU2LCBcImR1cmF0aW9uXCI6XCJtaW5pXCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiQnJhc3NcIiwgXCJUcnVtcGV0XCJdfSksIFwibWlkaS5yZWVkMVwiOih7XCJpbmRleFwiOjY0LCBcImR1cmF0aW9uXCI6XCJtaW5pXCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiUmVlZFwiLCBcIlNvcHJhbm8gU2F4XCJdfSksIFwibWlkaS5waXBlMVwiOih7XCJpbmRleFwiOjcyLCBcImR1cmF0aW9uXCI6XCJtaW5pXCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiUGlwZVwiLCBcIlBpY2NvbG9cIl19KSwgXCJtaWRpLmxlYWQxXCI6KHtcImluZGV4XCI6ODAsIFwiZHVyYXRpb25cIjpcIm1pbmlcIiwgXCJjYXRlZ29yeVwiOltcIk1JRElcIiwgXCJMZWFkXCIsIFwiU3F1YXJlIExlYWRcIl19KSwgXCJtaWRpLnBhZDFcIjooe1wiaW5kZXhcIjo4OCwgXCJkdXJhdGlvblwiOlwibG9uZ1wiLCBcImNhdGVnb3J5XCI6W1wiTUlESVwiLCBcIlBhZHNcIiwgXCJOZXcgQWdlIFBhZFwiXX0pLCBcIm1pZGkuZngxXCI6KHtcImluZGV4XCI6OTYsIFwiZHVyYXRpb25cIjpcIm1lZ2FcIiwgXCJjYXRlZ29yeVwiOltcIk1JRElcIiwgXCJTeW50aFwiLCBcIlJhaW5cIl19KSwgXCJtaWRpLndvcmxkMVwiOih7XCJpbmRleFwiOjEwNCwgXCJkdXJhdGlvblwiOlwiZXh0ZW5kZWRcIiwgXCJjYXRlZ29yeVwiOltcIk1JRElcIiwgXCJXb3JsZFwiLCBcIlNpdGFyXCJdfSksIFwibWlkaS5wZXJjdXMxXCI6KHtcImluZGV4XCI6MTEyLCBcImR1cmF0aW9uXCI6XCJsb25nXCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiRHJ1bXNcIiwgXCJUaW5rbGUgQmVsbFwiXX0pLCBcIm1pZGkuc2UxXCI6KHtcImluZGV4XCI6MTIwLCBcImR1cmF0aW9uXCI6XCJtaW5pXCIsIFwiY2F0ZWdvcnlcIjpbXCJNSURJXCIsIFwiRWZmZWN0c1wiLCBcIkZyZXQgTm9pc2VcIl19KSwgXCJzcXVhcmVcIjooe1wiaW5kZXhcIjoxMjgsIFwiZHVyYXRpb25cIjpcImluZmluaXRlXCIsIFwiY2F0ZWdvcnlcIjpbXCJDaGlwdHVuZVwiLCBcIlNxdWFyZSBXYXZlXCJdfSl9KV07XG5tb2R1bGUuZXhwb3J0cyA9IGRvYy5sZW5ndGggPD0gMSA/IGRvY1swXSA6IGRvYzsiLCIvLyBuYi4gVGhpcyBpcyBmb3IgSUUxMCBhbmQgbG93ZXIgX29ubHlfLlxudmFyIHN1cHBvcnRDdXN0b21FdmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcbmlmICghc3VwcG9ydEN1c3RvbUV2ZW50IHx8IHR5cGVvZiBzdXBwb3J0Q3VzdG9tRXZlbnQgPT09ICdvYmplY3QnKSB7XG4gIHN1cHBvcnRDdXN0b21FdmVudCA9IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCB4KSB7XG4gICAgeCA9IHggfHwge307XG4gICAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXYuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LCAhIXguYnViYmxlcywgISF4LmNhbmNlbGFibGUsIHguZGV0YWlsIHx8IG51bGwpO1xuICAgIHJldHVybiBldjtcbiAgfTtcbiAgc3VwcG9ydEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbCB0byBjaGVjayBmb3Igc3RhY2tpbmcgY29udGV4dFxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0aGlzIGVsIG9yIGl0cyBwYXJlbnRzIGNyZWF0ZXMgYSBzdGFja2luZyBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoZWwpIHtcbiAgd2hpbGUgKGVsICYmIGVsICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgdmFyIHMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgdmFyIGludmFsaWQgPSBmdW5jdGlvbihrLCBvaykge1xuICAgICAgcmV0dXJuICEoc1trXSA9PT0gdW5kZWZpbmVkIHx8IHNba10gPT09IG9rKTtcbiAgICB9O1xuICAgIFxuICAgIGlmIChzLm9wYWNpdHkgPCAxIHx8XG4gICAgICAgIGludmFsaWQoJ3pJbmRleCcsICdhdXRvJykgfHxcbiAgICAgICAgaW52YWxpZCgndHJhbnNmb3JtJywgJ25vbmUnKSB8fFxuICAgICAgICBpbnZhbGlkKCdtaXhCbGVuZE1vZGUnLCAnbm9ybWFsJykgfHxcbiAgICAgICAgaW52YWxpZCgnZmlsdGVyJywgJ25vbmUnKSB8fFxuICAgICAgICBpbnZhbGlkKCdwZXJzcGVjdGl2ZScsICdub25lJykgfHxcbiAgICAgICAgc1snaXNvbGF0aW9uJ10gPT09ICdpc29sYXRlJyB8fFxuICAgICAgICBzLnBvc2l0aW9uID09PSAnZml4ZWQnIHx8XG4gICAgICAgIHMud2Via2l0T3ZlcmZsb3dTY3JvbGxpbmcgPT09ICd0b3VjaCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBuZWFyZXN0IDxkaWFsb2c+IGZyb20gdGhlIHBhc3NlZCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWwgdG8gc2VhcmNoIGZyb21cbiAqIEByZXR1cm4ge0hUTUxEaWFsb2dFbGVtZW50fSBkaWFsb2cgZm91bmRcbiAqL1xuZnVuY3Rpb24gZmluZE5lYXJlc3REaWFsb2coZWwpIHtcbiAgd2hpbGUgKGVsKSB7XG4gICAgaWYgKGVsLmxvY2FsTmFtZSA9PT0gJ2RpYWxvZycpIHtcbiAgICAgIHJldHVybiAvKiogQHR5cGUge0hUTUxEaWFsb2dFbGVtZW50fSAqLyAoZWwpO1xuICAgIH1cbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQmx1ciB0aGUgc3BlY2lmaWVkIGVsZW1lbnQsIGFzIGxvbmcgYXMgaXQncyBub3QgdGhlIEhUTUwgYm9keSBlbGVtZW50LlxuICogVGhpcyB3b3JrcyBhcm91bmQgYW4gSUU5LzEwIGJ1ZyAtIGJsdXJyaW5nIHRoZSBib2R5IGNhdXNlcyBXaW5kb3dzIHRvXG4gKiBibHVyIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsIHRvIGJsdXJcbiAqL1xuZnVuY3Rpb24gc2FmZUJsdXIoZWwpIHtcbiAgaWYgKGVsICYmIGVsLmJsdXIgJiYgZWwgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICBlbC5ibHVyKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyFOb2RlTGlzdH0gbm9kZUxpc3QgdG8gc2VhcmNoXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgdG8gZmluZFxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBub2RlIGlzIGluc2lkZSBub2RlTGlzdFxuICovXG5mdW5jdGlvbiBpbk5vZGVMaXN0KG5vZGVMaXN0LCBub2RlKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZUxpc3RbaV0gPT09IG5vZGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR9IGVsIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoaXMgZm9ybSBoYXMgbWV0aG9kPVwiZGlhbG9nXCJcbiAqL1xuZnVuY3Rpb24gaXNGb3JtTWV0aG9kRGlhbG9nKGVsKSB7XG4gIGlmICghZWwgfHwgIWVsLmhhc0F0dHJpYnV0ZSgnbWV0aG9kJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgnbWV0aG9kJykudG9Mb3dlckNhc2UoKSA9PT0gJ2RpYWxvZyc7XG59XG5cbi8qKlxuICogQHBhcmFtIHshSFRNTERpYWxvZ0VsZW1lbnR9IGRpYWxvZyB0byB1cGdyYWRlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gZGlhbG9nUG9seWZpbGxJbmZvKGRpYWxvZykge1xuICB0aGlzLmRpYWxvZ18gPSBkaWFsb2c7XG4gIHRoaXMucmVwbGFjZWRTdHlsZVRvcF8gPSBmYWxzZTtcbiAgdGhpcy5vcGVuQXNNb2RhbF8gPSBmYWxzZTtcblxuICAvLyBTZXQgYTExeSByb2xlLiBCcm93c2VycyB0aGF0IHN1cHBvcnQgZGlhbG9nIGltcGxpY2l0bHkga25vdyB0aGlzIGFscmVhZHkuXG4gIGlmICghZGlhbG9nLmhhc0F0dHJpYnV0ZSgncm9sZScpKSB7XG4gICAgZGlhbG9nLnNldEF0dHJpYnV0ZSgncm9sZScsICdkaWFsb2cnKTtcbiAgfVxuXG4gIGRpYWxvZy5zaG93ID0gdGhpcy5zaG93LmJpbmQodGhpcyk7XG4gIGRpYWxvZy5zaG93TW9kYWwgPSB0aGlzLnNob3dNb2RhbC5iaW5kKHRoaXMpO1xuICBkaWFsb2cuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG5cbiAgaWYgKCEoJ3JldHVyblZhbHVlJyBpbiBkaWFsb2cpKSB7XG4gICAgZGlhbG9nLnJldHVyblZhbHVlID0gJyc7XG4gIH1cblxuICBpZiAoJ011dGF0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgIHZhciBtbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubWF5YmVIaWRlTW9kYWwuYmluZCh0aGlzKSk7XG4gICAgbW8ub2JzZXJ2ZShkaWFsb2csIHthdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFsnb3BlbiddfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSUUxMCBhbmQgYmVsb3cgc3VwcG9ydC4gTm90ZSB0aGF0IERPTU5vZGVSZW1vdmVkIGV0YyBmaXJlIF9iZWZvcmVfIHJlbW92YWwuIFRoZXkgYWxzb1xuICAgIC8vIHNlZW0gdG8gZmlyZSBldmVuIGlmIHRoZSBlbGVtZW50IHdhcyByZW1vdmVkIGFzIHBhcnQgb2YgYSBwYXJlbnQgcmVtb3ZhbC4gVXNlIHRoZSByZW1vdmVkXG4gICAgLy8gZXZlbnRzIHRvIGZvcmNlIGRvd25ncmFkZSAodXNlZnVsIGlmIHJlbW92ZWQvaW1tZWRpYXRlbHkgYWRkZWQpLlxuICAgIHZhciByZW1vdmVkID0gZmFsc2U7XG4gICAgdmFyIGNiID0gZnVuY3Rpb24oKSB7XG4gICAgICByZW1vdmVkID8gdGhpcy5kb3duZ3JhZGVNb2RhbCgpIDogdGhpcy5tYXliZUhpZGVNb2RhbCgpO1xuICAgICAgcmVtb3ZlZCA9IGZhbHNlO1xuICAgIH0uYmluZCh0aGlzKTtcbiAgICB2YXIgdGltZW91dDtcbiAgICB2YXIgZGVsYXlNb2RlbCA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICBpZiAoZXYudGFyZ2V0ICE9PSBkaWFsb2cpIHsgcmV0dXJuOyB9ICAvLyBub3QgZm9yIGEgY2hpbGQgZWxlbWVudFxuICAgICAgdmFyIGNhbmQgPSAnRE9NTm9kZVJlbW92ZWQnO1xuICAgICAgcmVtb3ZlZCB8PSAoZXYudHlwZS5zdWJzdHIoMCwgY2FuZC5sZW5ndGgpID09PSBjYW5kKTtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoY2IsIDApO1xuICAgIH07XG4gICAgWydET01BdHRyTW9kaWZpZWQnLCAnRE9NTm9kZVJlbW92ZWQnLCAnRE9NTm9kZVJlbW92ZWRGcm9tRG9jdW1lbnQnXS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGRpYWxvZy5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGRlbGF5TW9kZWwpO1xuICAgIH0pO1xuICB9XG4gIC8vIE5vdGUgdGhhdCB0aGUgRE9NIGlzIG9ic2VydmVkIGluc2lkZSBEaWFsb2dNYW5hZ2VyIHdoaWxlIGFueSBkaWFsb2dcbiAgLy8gaXMgYmVpbmcgZGlzcGxheWVkIGFzIGEgbW9kYWwsIHRvIGNhdGNoIG1vZGFsIHJlbW92YWwgZnJvbSB0aGUgRE9NLlxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkaWFsb2csICdvcGVuJywge1xuICAgIHNldDogdGhpcy5zZXRPcGVuLmJpbmQodGhpcyksXG4gICAgZ2V0OiBkaWFsb2cuaGFzQXR0cmlidXRlLmJpbmQoZGlhbG9nLCAnb3BlbicpXG4gIH0pO1xuXG4gIHRoaXMuYmFja2Ryb3BfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRoaXMuYmFja2Ryb3BfLmNsYXNzTmFtZSA9ICdiYWNrZHJvcCc7XG4gIHRoaXMuYmFja2Ryb3BfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iYWNrZHJvcENsaWNrXy5iaW5kKHRoaXMpKTtcbn1cblxuZGlhbG9nUG9seWZpbGxJbmZvLnByb3RvdHlwZSA9IHtcblxuICBnZXQgZGlhbG9nKCkge1xuICAgIHJldHVybiB0aGlzLmRpYWxvZ187XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1heWJlIHJlbW92ZSB0aGlzIGRpYWxvZyBmcm9tIHRoZSBtb2RhbCB0b3AgbGF5ZXIuIFRoaXMgaXMgY2FsbGVkIHdoZW5cbiAgICogYSBtb2RhbCBkaWFsb2cgbWF5IG5vIGxvbmdlciBiZSB0ZW5hYmxlLCBlLmcuLCB3aGVuIHRoZSBkaWFsb2cgaXMgbm9cbiAgICogbG9uZ2VyIG9wZW4gb3IgaXMgbm8gbG9uZ2VyIHBhcnQgb2YgdGhlIERPTS5cbiAgICovXG4gIG1heWJlSGlkZU1vZGFsOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5kaWFsb2dfLmhhc0F0dHJpYnV0ZSgnb3BlbicpICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy5kaWFsb2dfKSkgeyByZXR1cm47IH1cbiAgICB0aGlzLmRvd25ncmFkZU1vZGFsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGlzIGRpYWxvZyBmcm9tIHRoZSBtb2RhbCB0b3AgbGF5ZXIsIGxlYXZpbmcgaXQgYXMgYSBub24tbW9kYWwuXG4gICAqL1xuICBkb3duZ3JhZGVNb2RhbDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLm9wZW5Bc01vZGFsXykgeyByZXR1cm47IH1cbiAgICB0aGlzLm9wZW5Bc01vZGFsXyA9IGZhbHNlO1xuICAgIHRoaXMuZGlhbG9nXy5zdHlsZS56SW5kZXggPSAnJztcblxuICAgIC8vIFRoaXMgd29uJ3QgbWF0Y2ggdGhlIG5hdGl2ZSA8ZGlhbG9nPiBleGFjdGx5IGJlY2F1c2UgaWYgdGhlIHVzZXIgc2V0IHRvcCBvbiBhIGNlbnRlcmVkXG4gICAgLy8gcG9seWZpbGwgZGlhbG9nLCB0aGF0IHRvcCBnZXRzIHRocm93biBhd2F5IHdoZW4gdGhlIGRpYWxvZyBpcyBjbG9zZWQuIE5vdCBzdXJlIGl0J3NcbiAgICAvLyBwb3NzaWJsZSB0byBwb2x5ZmlsbCB0aGlzIHBlcmZlY3RseS5cbiAgICBpZiAodGhpcy5yZXBsYWNlZFN0eWxlVG9wXykge1xuICAgICAgdGhpcy5kaWFsb2dfLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgdGhpcy5yZXBsYWNlZFN0eWxlVG9wXyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENsZWFyIHRoZSBiYWNrZHJvcCBhbmQgcmVtb3ZlIGZyb20gdGhlIG1hbmFnZXIuXG4gICAgdGhpcy5iYWNrZHJvcF8ucGFyZW50Tm9kZSAmJiB0aGlzLmJhY2tkcm9wXy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYmFja2Ryb3BfKTtcbiAgICBkaWFsb2dQb2x5ZmlsbC5kbS5yZW1vdmVEaWFsb2codGhpcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgd2hldGhlciB0byBvcGVuIG9yIGNsb3NlIHRoaXMgZGlhbG9nXG4gICAqL1xuICBzZXRPcGVuOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5kaWFsb2dfLmhhc0F0dHJpYnV0ZSgnb3BlbicpIHx8IHRoaXMuZGlhbG9nXy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlhbG9nXy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcbiAgICAgIHRoaXMubWF5YmVIaWRlTW9kYWwoKTsgIC8vIG5iLiByZWR1bmRhbnQgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrcyBvbiB0aGUgZmFrZSAuYmFja2Ryb3AgZWxlbWVudCwgcmVkaXJlY3RpbmcgdGhlbSBhcyBpZlxuICAgKiB0aGV5IHdlcmUgb24gdGhlIGRpYWxvZyBpdHNlbGYuXG4gICAqXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBlIHRvIHJlZGlyZWN0XG4gICAqL1xuICBiYWNrZHJvcENsaWNrXzogZnVuY3Rpb24oZSkge1xuICAgIGlmICghdGhpcy5kaWFsb2dfLmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgLy8gQ2xpY2tpbmcgb24gdGhlIGJhY2tkcm9wIHNob3VsZCBtb3ZlIHRoZSBpbXBsaWNpdCBjdXJzb3IsIGV2ZW4gaWYgZGlhbG9nIGNhbm5vdCBiZVxuICAgICAgLy8gZm9jdXNlZC4gQ3JlYXRlIGEgZmFrZSB0aGluZyB0byBmb2N1cyBvbi4gSWYgdGhlIGJhY2tkcm9wIHdhcyBfYmVmb3JlXyB0aGUgZGlhbG9nLCB0aGlzXG4gICAgICAvLyB3b3VsZCBub3QgYmUgbmVlZGVkIC0gY2xpY2tzIHdvdWxkIG1vdmUgdGhlIGltcGxpY2l0IGN1cnNvciB0aGVyZS5cbiAgICAgIHZhciBmYWtlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLmRpYWxvZ18uaW5zZXJ0QmVmb3JlKGZha2UsIHRoaXMuZGlhbG9nXy5maXJzdENoaWxkKTtcbiAgICAgIGZha2UudGFiSW5kZXggPSAtMTtcbiAgICAgIGZha2UuZm9jdXMoKTtcbiAgICAgIHRoaXMuZGlhbG9nXy5yZW1vdmVDaGlsZChmYWtlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaWFsb2dfLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgdmFyIHJlZGlyZWN0ZWRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgIHJlZGlyZWN0ZWRFdmVudC5pbml0TW91c2VFdmVudChlLnR5cGUsIGUuYnViYmxlcywgZS5jYW5jZWxhYmxlLCB3aW5kb3csXG4gICAgICAgIGUuZGV0YWlsLCBlLnNjcmVlblgsIGUuc2NyZWVuWSwgZS5jbGllbnRYLCBlLmNsaWVudFksIGUuY3RybEtleSxcbiAgICAgICAgZS5hbHRLZXksIGUuc2hpZnRLZXksIGUubWV0YUtleSwgZS5idXR0b24sIGUucmVsYXRlZFRhcmdldCk7XG4gICAgdGhpcy5kaWFsb2dfLmRpc3BhdGNoRXZlbnQocmVkaXJlY3RlZEV2ZW50KTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb2N1c2VzIG9uIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCB3aXRoaW4gdGhlIGRpYWxvZy4gVGhpcyB3aWxsIGFsd2F5cyBibHVyIHRoZSBjdXJyZW50XG4gICAqIGZvY3VzLCBldmVuIGlmIG5vdGhpbmcgd2l0aGluIHRoZSBkaWFsb2cgaXMgZm91bmQuXG4gICAqL1xuICBmb2N1c186IGZ1bmN0aW9uKCkge1xuICAgIC8vIEZpbmQgZWxlbWVudCB3aXRoIGBhdXRvZm9jdXNgIGF0dHJpYnV0ZSwgb3IgZmFsbCBiYWNrIHRvIHRoZSBmaXJzdCBmb3JtL3RhYmluZGV4IGNvbnRyb2wuXG4gICAgdmFyIHRhcmdldCA9IHRoaXMuZGlhbG9nXy5xdWVyeVNlbGVjdG9yKCdbYXV0b2ZvY3VzXTpub3QoW2Rpc2FibGVkXSknKTtcbiAgICBpZiAoIXRhcmdldCAmJiB0aGlzLmRpYWxvZ18udGFiSW5kZXggPj0gMCkge1xuICAgICAgdGFyZ2V0ID0gdGhpcy5kaWFsb2dfO1xuICAgIH1cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgaXMgJ2FueSBmb2N1c2FibGUgYXJlYScuIFRoaXMgbGlzdCBpcyBwcm9iYWJseSBub3QgZXhoYXVzdGl2ZSwgYnV0IHRoZVxuICAgICAgLy8gYWx0ZXJuYXRpdmUgaW52b2x2ZXMgc3RlcHBpbmcgdGhyb3VnaCBhbmQgdHJ5aW5nIHRvIGZvY3VzIGV2ZXJ5dGhpbmcuXG4gICAgICB2YXIgb3B0cyA9IFsnYnV0dG9uJywgJ2lucHV0JywgJ2tleWdlbicsICdzZWxlY3QnLCAndGV4dGFyZWEnXTtcbiAgICAgIHZhciBxdWVyeSA9IG9wdHMubWFwKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBlbCArICc6bm90KFtkaXNhYmxlZF0pJztcbiAgICAgIH0pO1xuICAgICAgLy8gVE9ETyhzYW10aG9yKTogdGFiaW5kZXggdmFsdWVzIHRoYXQgYXJlIG5vdCBudW1lcmljIGFyZSBub3QgZm9jdXNhYmxlLlxuICAgICAgcXVlcnkucHVzaCgnW3RhYmluZGV4XTpub3QoW2Rpc2FibGVkXSk6bm90KFt0YWJpbmRleD1cIlwiXSknKTsgIC8vIHRhYmluZGV4ICE9IFwiXCIsIG5vdCBkaXNhYmxlZFxuICAgICAgdGFyZ2V0ID0gdGhpcy5kaWFsb2dfLnF1ZXJ5U2VsZWN0b3IocXVlcnkuam9pbignLCAnKSk7XG4gICAgfVxuICAgIHNhZmVCbHVyKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIHRhcmdldCAmJiB0YXJnZXQuZm9jdXMoKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyB0aGUgekluZGV4IGZvciB0aGUgYmFja2Ryb3AgYW5kIGRpYWxvZy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRpYWxvZ1pcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJhY2tkcm9wWlxuICAgKi9cbiAgdXBkYXRlWkluZGV4OiBmdW5jdGlvbihkaWFsb2daLCBiYWNrZHJvcFopIHtcbiAgICBpZiAoZGlhbG9nWiA8IGJhY2tkcm9wWikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkaWFsb2daIHNob3VsZCBuZXZlciBiZSA8IGJhY2tkcm9wWicpO1xuICAgIH1cbiAgICB0aGlzLmRpYWxvZ18uc3R5bGUuekluZGV4ID0gZGlhbG9nWjtcbiAgICB0aGlzLmJhY2tkcm9wXy5zdHlsZS56SW5kZXggPSBiYWNrZHJvcFo7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSBkaWFsb2cuIElmIHRoZSBkaWFsb2cgaXMgYWxyZWFkeSBvcGVuLCB0aGlzIGRvZXMgbm90aGluZy5cbiAgICovXG4gIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5kaWFsb2dfLm9wZW4pIHtcbiAgICAgIHRoaXMuc2V0T3Blbih0cnVlKTtcbiAgICAgIHRoaXMuZm9jdXNfKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTaG93IHRoaXMgZGlhbG9nIG1vZGFsbHkuXG4gICAqL1xuICBzaG93TW9kYWw6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmRpYWxvZ18uaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgXFwnc2hvd01vZGFsXFwnIG9uIGRpYWxvZzogVGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBvcGVuLCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBiZSBvcGVuZWQgbW9kYWxseS4nKTtcbiAgICB9XG4gICAgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuZGlhbG9nXykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgXFwnc2hvd01vZGFsXFwnIG9uIGRpYWxvZzogVGhlIGVsZW1lbnQgaXMgbm90IGluIGEgRG9jdW1lbnQuJyk7XG4gICAgfVxuICAgIGlmICghZGlhbG9nUG9seWZpbGwuZG0ucHVzaERpYWxvZyh0aGlzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZXhlY3V0ZSBcXCdzaG93TW9kYWxcXCcgb24gZGlhbG9nOiBUaGVyZSBhcmUgdG9vIG1hbnkgb3BlbiBtb2RhbCBkaWFsb2dzLicpO1xuICAgIH1cblxuICAgIGlmIChjcmVhdGVzU3RhY2tpbmdDb250ZXh0KHRoaXMuZGlhbG9nXy5wYXJlbnRFbGVtZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKCdBIGRpYWxvZyBpcyBiZWluZyBzaG93biBpbnNpZGUgYSBzdGFja2luZyBjb250ZXh0LiAnICtcbiAgICAgICAgICAnVGhpcyBtYXkgY2F1c2UgaXQgdG8gYmUgdW51c2FibGUuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhpcyBsaW5rOiAnICtcbiAgICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS9kaWFsb2ctcG9seWZpbGwvI3N0YWNraW5nLWNvbnRleHQnKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldE9wZW4odHJ1ZSk7XG4gICAgdGhpcy5vcGVuQXNNb2RhbF8gPSB0cnVlO1xuXG4gICAgLy8gT3B0aW9uYWxseSBjZW50ZXIgdmVydGljYWxseSwgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gICAgaWYgKGRpYWxvZ1BvbHlmaWxsLm5lZWRzQ2VudGVyaW5nKHRoaXMuZGlhbG9nXykpIHtcbiAgICAgIGRpYWxvZ1BvbHlmaWxsLnJlcG9zaXRpb24odGhpcy5kaWFsb2dfKTtcbiAgICAgIHRoaXMucmVwbGFjZWRTdHlsZVRvcF8gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlcGxhY2VkU3R5bGVUb3BfID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IGJhY2tkcm9wLlxuICAgIHRoaXMuZGlhbG9nXy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmJhY2tkcm9wXywgdGhpcy5kaWFsb2dfLm5leHRTaWJsaW5nKTtcblxuICAgIC8vIEZvY3VzIG9uIHdoYXRldmVyIGluc2lkZSB0aGUgZGlhbG9nLlxuICAgIHRoaXMuZm9jdXNfKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGlzIEhUTUxEaWFsb2dFbGVtZW50LiBUaGlzIGlzIG9wdGlvbmFsIHZzIGNsZWFyaW5nIHRoZSBvcGVuXG4gICAqIGF0dHJpYnV0ZSwgaG93ZXZlciB0aGlzIGZpcmVzIGEgJ2Nsb3NlJyBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfcmV0dXJuVmFsdWUgdG8gdXNlIGFzIHRoZSByZXR1cm5WYWx1ZVxuICAgKi9cbiAgY2xvc2U6IGZ1bmN0aW9uKG9wdF9yZXR1cm5WYWx1ZSkge1xuICAgIGlmICghdGhpcy5kaWFsb2dfLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIFxcJ2Nsb3NlXFwnIG9uIGRpYWxvZzogVGhlIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhbiBcXCdvcGVuXFwnIGF0dHJpYnV0ZSwgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYmUgY2xvc2VkLicpO1xuICAgIH1cbiAgICB0aGlzLnNldE9wZW4oZmFsc2UpO1xuXG4gICAgLy8gTGVhdmUgcmV0dXJuVmFsdWUgdW50b3VjaGVkIGluIGNhc2UgaXQgd2FzIHNldCBkaXJlY3RseSBvbiB0aGUgZWxlbWVudFxuICAgIGlmIChvcHRfcmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5kaWFsb2dfLnJldHVyblZhbHVlID0gb3B0X3JldHVyblZhbHVlO1xuICAgIH1cblxuICAgIC8vIFRyaWdnZXJpbmcgXCJjbG9zZVwiIGV2ZW50IGZvciBhbnkgYXR0YWNoZWQgbGlzdGVuZXJzIG9uIHRoZSA8ZGlhbG9nPi5cbiAgICB2YXIgY2xvc2VFdmVudCA9IG5ldyBzdXBwb3J0Q3VzdG9tRXZlbnQoJ2Nsb3NlJywge1xuICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuZGlhbG9nXy5kaXNwYXRjaEV2ZW50KGNsb3NlRXZlbnQpO1xuICB9XG5cbn07XG5cbnZhciBkaWFsb2dQb2x5ZmlsbCA9IHt9O1xuXG5kaWFsb2dQb2x5ZmlsbC5yZXBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgdmFyIHRvcFZhbHVlID0gc2Nyb2xsVG9wICsgKHdpbmRvdy5pbm5lckhlaWdodCAtIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAvIDI7XG4gIGVsZW1lbnQuc3R5bGUudG9wID0gTWF0aC5tYXgoc2Nyb2xsVG9wLCB0b3BWYWx1ZSkgKyAncHgnO1xufTtcblxuZGlhbG9nUG9seWZpbGwuaXNJbmxpbmVQb3NpdGlvblNldEJ5U3R5bGVzaGVldCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbaV07XG4gICAgdmFyIGNzc1J1bGVzID0gbnVsbDtcbiAgICAvLyBTb21lIGJyb3dzZXJzIHRocm93IG9uIGNzc1J1bGVzLlxuICAgIHRyeSB7XG4gICAgICBjc3NSdWxlcyA9IHN0eWxlU2hlZXQuY3NzUnVsZXM7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBpZiAoIWNzc1J1bGVzKSB7IGNvbnRpbnVlOyB9XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBjc3NSdWxlcy5sZW5ndGg7ICsraikge1xuICAgICAgdmFyIHJ1bGUgPSBjc3NSdWxlc1tqXTtcbiAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gbnVsbDtcbiAgICAgIC8vIElnbm9yZSBlcnJvcnMgb24gaW52YWxpZCBzZWxlY3RvciB0ZXh0cy5cbiAgICAgIHRyeSB7XG4gICAgICAgIHNlbGVjdGVkTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHJ1bGUuc2VsZWN0b3JUZXh0KTtcbiAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgIGlmICghc2VsZWN0ZWROb2RlcyB8fCAhaW5Ob2RlTGlzdChzZWxlY3RlZE5vZGVzLCBlbGVtZW50KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjc3NUb3AgPSBydWxlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RvcCcpO1xuICAgICAgdmFyIGNzc0JvdHRvbSA9IHJ1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm90dG9tJyk7XG4gICAgICBpZiAoKGNzc1RvcCAmJiBjc3NUb3AgIT09ICdhdXRvJykgfHwgKGNzc0JvdHRvbSAmJiBjc3NCb3R0b20gIT09ICdhdXRvJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmRpYWxvZ1BvbHlmaWxsLm5lZWRzQ2VudGVyaW5nID0gZnVuY3Rpb24oZGlhbG9nKSB7XG4gIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGlhbG9nKTtcbiAgaWYgKGNvbXB1dGVkU3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBXZSBtdXN0IGRldGVybWluZSB3aGV0aGVyIHRoZSB0b3AvYm90dG9tIHNwZWNpZmllZCB2YWx1ZSBpcyBub24tYXV0by4gIEluXG4gIC8vIFdlYktpdC9CbGluaywgY2hlY2tpbmcgY29tcHV0ZWRTdHlsZS50b3AgPT0gJ2F1dG8nIGlzIHN1ZmZpY2llbnQsIGJ1dFxuICAvLyBGaXJlZm94IHJldHVybnMgdGhlIHVzZWQgdmFsdWUuIFNvIHdlIGRvIHRoaXMgY3JhenkgdGhpbmcgaW5zdGVhZDogY2hlY2tcbiAgLy8gdGhlIGlubGluZSBzdHlsZSBhbmQgdGhlbiBnbyB0aHJvdWdoIENTUyBydWxlcy5cbiAgaWYgKChkaWFsb2cuc3R5bGUudG9wICE9PSAnYXV0bycgJiYgZGlhbG9nLnN0eWxlLnRvcCAhPT0gJycpIHx8XG4gICAgICAoZGlhbG9nLnN0eWxlLmJvdHRvbSAhPT0gJ2F1dG8nICYmIGRpYWxvZy5zdHlsZS5ib3R0b20gIT09ICcnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gIWRpYWxvZ1BvbHlmaWxsLmlzSW5saW5lUG9zaXRpb25TZXRCeVN0eWxlc2hlZXQoZGlhbG9nKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCB0byBmb3JjZSB1cGdyYWRlXG4gKi9cbmRpYWxvZ1BvbHlmaWxsLmZvcmNlUmVnaXN0ZXJEaWFsb2cgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmICh3aW5kb3cuSFRNTERpYWxvZ0VsZW1lbnQgfHwgZWxlbWVudC5zaG93TW9kYWwpIHtcbiAgICBjb25zb2xlLndhcm4oJ1RoaXMgYnJvd3NlciBhbHJlYWR5IHN1cHBvcnRzIDxkaWFsb2c+LCB0aGUgcG9seWZpbGwgJyArXG4gICAgICAgICdtYXkgbm90IHdvcmsgY29ycmVjdGx5JywgZWxlbWVudCk7XG4gIH1cbiAgaWYgKGVsZW1lbnQubG9jYWxOYW1lICE9PSAnZGlhbG9nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHJlZ2lzdGVyIGRpYWxvZzogVGhlIGVsZW1lbnQgaXMgbm90IGEgZGlhbG9nLicpO1xuICB9XG4gIG5ldyBkaWFsb2dQb2x5ZmlsbEluZm8oLyoqIEB0eXBlIHshSFRNTERpYWxvZ0VsZW1lbnR9ICovIChlbGVtZW50KSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgdG8gdXBncmFkZSwgaWYgbmVjZXNzYXJ5XG4gKi9cbmRpYWxvZ1BvbHlmaWxsLnJlZ2lzdGVyRGlhbG9nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQuc2hvd01vZGFsKSB7XG4gICAgZGlhbG9nUG9seWZpbGwuZm9yY2VSZWdpc3RlckRpYWxvZyhlbGVtZW50KTtcbiAgfVxufTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICAvKiogQHR5cGUgeyFBcnJheTwhZGlhbG9nUG9seWZpbGxJbmZvPn0gKi9cbiAgdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2sgPSBbXTtcblxuICB2YXIgY2hlY2tET00gPSB0aGlzLmNoZWNrRE9NXy5iaW5kKHRoaXMpO1xuXG4gIC8vIFRoZSBvdmVybGF5IGlzIHVzZWQgdG8gc2ltdWxhdGUgaG93IGEgbW9kYWwgZGlhbG9nIGJsb2NrcyB0aGUgZG9jdW1lbnQuXG4gIC8vIFRoZSBibG9ja2luZyBkaWFsb2cgaXMgcG9zaXRpb25lZCBvbiB0b3Agb2YgdGhlIG92ZXJsYXksIGFuZCB0aGUgcmVzdCBvZlxuICAvLyB0aGUgZGlhbG9ncyBvbiB0aGUgcGVuZGluZyBkaWFsb2cgc3RhY2sgYXJlIHBvc2l0aW9uZWQgYmVsb3cgaXQuIEluIHRoZVxuICAvLyBhY3R1YWwgaW1wbGVtZW50YXRpb24sIHRoZSBtb2RhbCBkaWFsb2cgc3RhY2tpbmcgaXMgY29udHJvbGxlZCBieSB0aGVcbiAgLy8gdG9wIGxheWVyLCB3aGVyZSB6LWluZGV4IGhhcyBubyBlZmZlY3QuXG4gIHRoaXMub3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aGlzLm92ZXJsYXkuY2xhc3NOYW1lID0gJ19kaWFsb2dfb3ZlcmxheSc7XG4gIHRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLmZvcndhcmRUYWJfID0gdW5kZWZpbmVkO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY2hlY2tET00oW10pOyAgLy8gc2FuaXR5LWNoZWNrIERPTVxuICB9LmJpbmQodGhpcykpO1xuXG4gIHRoaXMuaGFuZGxlS2V5XyA9IHRoaXMuaGFuZGxlS2V5Xy5iaW5kKHRoaXMpO1xuICB0aGlzLmhhbmRsZUZvY3VzXyA9IHRoaXMuaGFuZGxlRm9jdXNfLmJpbmQodGhpcyk7XG5cbiAgdGhpcy56SW5kZXhMb3dfID0gMTAwMDAwO1xuICB0aGlzLnpJbmRleEhpZ2hfID0gMTAwMDAwICsgMTUwO1xuXG4gIHRoaXMuZm9yd2FyZFRhYl8gPSB1bmRlZmluZWQ7XG5cbiAgaWYgKCdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpIHtcbiAgICB0aGlzLm1vXyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKHJlY29yZHMpIHtcbiAgICAgIHZhciByZW1vdmVkID0gW107XG4gICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBjOyBjID0gcmVjLnJlbW92ZWROb2Rlc1tpXTsgKytpKSB7XG4gICAgICAgICAgaWYgKCEoYyBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGMubG9jYWxOYW1lID09PSAnZGlhbG9nJykge1xuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW1vdmVkID0gcmVtb3ZlZC5jb25jYXQoYy5xdWVyeVNlbGVjdG9yQWxsKCdkaWFsb2cnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVtb3ZlZC5sZW5ndGggJiYgY2hlY2tET00ocmVtb3ZlZCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIG9uIHRoZSBmaXJzdCBtb2RhbCBkaWFsb2cgYmVpbmcgc2hvd24uIEFkZHMgdGhlIG92ZXJsYXkgYW5kIHJlbGF0ZWRcbiAqIGhhbmRsZXJzLlxuICovXG5kaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5ibG9ja0RvY3VtZW50ID0gZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXNfLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5Xyk7XG4gIHRoaXMubW9fICYmIHRoaXMubW9fLm9ic2VydmUoZG9jdW1lbnQsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIG9uIHRoZSBmaXJzdCBtb2RhbCBkaWFsb2cgYmVpbmcgcmVtb3ZlZCwgaS5lLiwgd2hlbiBubyBtb3JlIG1vZGFsXG4gKiBkaWFsb2dzIGFyZSB2aXNpYmxlLlxuICovXG5kaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS51bmJsb2NrRG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1c18sIHRydWUpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlfKTtcbiAgdGhpcy5tb18gJiYgdGhpcy5tb18uZGlzY29ubmVjdCgpO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzdGFja2luZyBvZiBhbGwga25vd24gZGlhbG9ncy5cbiAqL1xuZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUudXBkYXRlU3RhY2tpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHpJbmRleCA9IHRoaXMuekluZGV4SGlnaF87XG5cbiAgZm9yICh2YXIgaSA9IDAsIGRwaTsgZHBpID0gdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2tbaV07ICsraSkge1xuICAgIGRwaS51cGRhdGVaSW5kZXgoLS16SW5kZXgsIC0tekluZGV4KTtcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgdGhpcy5vdmVybGF5LnN0eWxlLnpJbmRleCA9IC0tekluZGV4O1xuICAgIH1cbiAgfVxuXG4gIC8vIE1ha2UgdGhlIG92ZXJsYXkgYSBzaWJsaW5nIG9mIHRoZSBkaWFsb2cgaXRzZWxmLlxuICB2YXIgbGFzdCA9IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrWzBdO1xuICBpZiAobGFzdCkge1xuICAgIHZhciBwID0gbGFzdC5kaWFsb2cucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuICAgIHAuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KTtcbiAgfSBlbHNlIGlmICh0aGlzLm92ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgIHRoaXMub3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMub3ZlcmxheSk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBjYW5kaWRhdGUgdG8gY2hlY2sgaWYgY29udGFpbmVkIG9yIGlzIHRoZSB0b3AtbW9zdCBtb2RhbCBkaWFsb2dcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgY2FuZGlkYXRlIGlzIGNvbnRhaW5lZCBpbiB0b3AgZGlhbG9nXG4gKi9cbmRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLmNvbnRhaW5lZEJ5VG9wRGlhbG9nXyA9IGZ1bmN0aW9uKGNhbmRpZGF0ZSkge1xuICB3aGlsZSAoY2FuZGlkYXRlID0gZmluZE5lYXJlc3REaWFsb2coY2FuZGlkYXRlKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBkcGk7IGRwaSA9IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrW2ldOyArK2kpIHtcbiAgICAgIGlmIChkcGkuZGlhbG9nID09PSBjYW5kaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGkgPT09IDA7ICAvLyBvbmx5IHZhbGlkIGlmIHRvcC1tb3N0XG4gICAgICB9XG4gICAgfVxuICAgIGNhbmRpZGF0ZSA9IGNhbmRpZGF0ZS5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLmhhbmRsZUZvY3VzXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGlmICh0aGlzLmNvbnRhaW5lZEJ5VG9wRGlhbG9nXyhldmVudC50YXJnZXQpKSB7IHJldHVybjsgfVxuXG4gIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHsgcmV0dXJuOyB9XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIHNhZmVCbHVyKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGV2ZW50LnRhcmdldCkpO1xuXG4gIGlmICh0aGlzLmZvcndhcmRUYWJfID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9ICAvLyBtb3ZlIGZvY3VzIG9ubHkgZnJvbSBhIHRhYiBrZXlcblxuICB2YXIgZHBpID0gdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2tbMF07XG4gIHZhciBkaWFsb2cgPSBkcGkuZGlhbG9nO1xuICB2YXIgcG9zaXRpb24gPSBkaWFsb2cuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZXZlbnQudGFyZ2V0KTtcbiAgaWYgKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcpIHtcbiAgICBpZiAodGhpcy5mb3J3YXJkVGFiXykge1xuICAgICAgLy8gZm9yd2FyZFxuICAgICAgZHBpLmZvY3VzXygpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIC8vIGJhY2t3YXJkcyBpZiB3ZSdyZSBub3QgYWxyZWFkeSBmb2N1c2VkIG9uIDxodG1sPlxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlS2V5XyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuZm9yd2FyZFRhYl8gPSB1bmRlZmluZWQ7XG4gIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdmFyIGNhbmNlbEV2ZW50ID0gbmV3IHN1cHBvcnRDdXN0b21FdmVudCgnY2FuY2VsJywge1xuICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIGRwaSA9IHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrWzBdO1xuICAgIGlmIChkcGkgJiYgZHBpLmRpYWxvZy5kaXNwYXRjaEV2ZW50KGNhbmNlbEV2ZW50KSkge1xuICAgICAgZHBpLmRpYWxvZy5jbG9zZSgpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSA5KSB7XG4gICAgdGhpcy5mb3J3YXJkVGFiXyA9ICFldmVudC5zaGlmdEtleTtcbiAgfVxufTtcblxuLyoqXG4gKiBGaW5kcyBhbmQgZG93bmdyYWRlcyBhbnkga25vd24gbW9kYWwgZGlhbG9ncyB0aGF0IGFyZSBubyBsb25nZXIgZGlzcGxheWVkLiBEaWFsb2dzIHRoYXQgYXJlXG4gKiByZW1vdmVkIGFuZCBpbW1lZGlhdGVseSByZWFkZGVkIGRvbid0IHN0YXkgbW9kYWwsIHRoZXkgYmVjb21lIG5vcm1hbC5cbiAqXG4gKiBAcGFyYW0geyFBcnJheTwhSFRNTERpYWxvZ0VsZW1lbnQ+fSByZW1vdmVkIHRoYXQgaGF2ZSBkZWZpbml0ZWx5IGJlZW4gcmVtb3ZlZFxuICovXG5kaWFsb2dQb2x5ZmlsbC5EaWFsb2dNYW5hZ2VyLnByb3RvdHlwZS5jaGVja0RPTV8gPSBmdW5jdGlvbihyZW1vdmVkKSB7XG4gIC8vIFRoaXMgb3BlcmF0ZXMgb24gYSBjbG9uZSBiZWNhdXNlIGl0IG1heSBjYXVzZSBpdCB0byBjaGFuZ2UuIEVhY2ggY2hhbmdlIGFsc28gY2FsbHNcbiAgLy8gdXBkYXRlU3RhY2tpbmcsIHdoaWNoIG9ubHkgYWN0dWFsbHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UuIEJ1dCB3aG8gcmVtb3ZlcyBtYW55IG1vZGFsIGRpYWxvZ3NcbiAgLy8gYXQgYSB0aW1lPyFcbiAgdmFyIGNsb25lID0gdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2suc2xpY2UoKTtcbiAgY2xvbmUuZm9yRWFjaChmdW5jdGlvbihkcGkpIHtcbiAgICBpZiAocmVtb3ZlZC5pbmRleE9mKGRwaS5kaWFsb2cpICE9PSAtMSkge1xuICAgICAgZHBpLmRvd25ncmFkZU1vZGFsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRwaS5tYXliZUhpZGVNb2RhbCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IWRpYWxvZ1BvbHlmaWxsSW5mb30gZHBpXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRoZSBkaWFsb2cgd2FzIGFsbG93ZWRcbiAqL1xuZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlci5wcm90b3R5cGUucHVzaERpYWxvZyA9IGZ1bmN0aW9uKGRwaSkge1xuICB2YXIgYWxsb3dlZCA9ICh0aGlzLnpJbmRleEhpZ2hfIC0gdGhpcy56SW5kZXhMb3dfKSAvIDIgLSAxO1xuICBpZiAodGhpcy5wZW5kaW5nRGlhbG9nU3RhY2subGVuZ3RoID49IGFsbG93ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLnVuc2hpZnQoZHBpKSA9PT0gMSkge1xuICAgIHRoaXMuYmxvY2tEb2N1bWVudCgpO1xuICB9XG4gIHRoaXMudXBkYXRlU3RhY2tpbmcoKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IWRpYWxvZ1BvbHlmaWxsSW5mb30gZHBpXG4gKi9cbmRpYWxvZ1BvbHlmaWxsLkRpYWxvZ01hbmFnZXIucHJvdG90eXBlLnJlbW92ZURpYWxvZyA9IGZ1bmN0aW9uKGRwaSkge1xuICB2YXIgaW5kZXggPSB0aGlzLnBlbmRpbmdEaWFsb2dTdGFjay5pbmRleE9mKGRwaSk7XG4gIGlmIChpbmRleCA9PT0gLTEpIHsgcmV0dXJuOyB9XG5cbiAgdGhpcy5wZW5kaW5nRGlhbG9nU3RhY2suc3BsaWNlKGluZGV4LCAxKTtcbiAgaWYgKHRoaXMucGVuZGluZ0RpYWxvZ1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgIHRoaXMudW5ibG9ja0RvY3VtZW50KCk7XG4gIH1cbiAgdGhpcy51cGRhdGVTdGFja2luZygpO1xufTtcblxuZGlhbG9nUG9seWZpbGwuZG0gPSBuZXcgZGlhbG9nUG9seWZpbGwuRGlhbG9nTWFuYWdlcigpO1xuZGlhbG9nUG9seWZpbGwuZm9ybVN1Ym1pdHRlciA9IG51bGw7XG5kaWFsb2dQb2x5ZmlsbC51c2VWYWx1ZSA9IG51bGw7XG5cbi8qKlxuICogSW5zdGFsbHMgZ2xvYmFsIGhhbmRsZXJzLCBzdWNoIGFzIGNsaWNrIGxpc3RlcnMgYW5kIG5hdGl2ZSBtZXRob2Qgb3ZlcnJpZGVzLiBUaGVzZSBhcmUgbmVlZGVkXG4gKiBldmVuIGlmIGEgbm8gZGlhbG9nIGlzIHJlZ2lzdGVyZWQsIGFzIHRoZXkgZGVhbCB3aXRoIDxmb3JtIG1ldGhvZD1cImRpYWxvZ1wiPi5cbiAqL1xuaWYgKHdpbmRvdy5IVE1MRGlhbG9nRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgLyoqXG4gICAqIElmIEhUTUxGb3JtRWxlbWVudCB0cmFuc2xhdGVzIG1ldGhvZD1cIkRJQUxPR1wiIGludG8gJ2dldCcsIHRoZW4gcmVwbGFjZSB0aGUgZGVzY3JpcHRvciB3aXRoXG4gICAqIG9uZSB0aGF0IHJldHVybnMgdGhlIGNvcnJlY3QgdmFsdWUuXG4gICAqL1xuICB2YXIgdGVzdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIHRlc3RGb3JtLnNldEF0dHJpYnV0ZSgnbWV0aG9kJywgJ2RpYWxvZycpO1xuICBpZiAodGVzdEZvcm0ubWV0aG9kICE9PSAnZGlhbG9nJykge1xuICAgIHZhciBtZXRob2REZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIVE1MRm9ybUVsZW1lbnQucHJvdG90eXBlLCAnbWV0aG9kJyk7XG4gICAgaWYgKG1ldGhvZERlc2NyaXB0b3IpIHtcbiAgICAgIC8vIG5iLiBTb21lIG9sZGVyIGlPUyBhbmQgb2xkZXIgUGhhbnRvbUpTIGZhaWwgdG8gcmV0dXJuIHRoZSBkZXNjcmlwdG9yLiBEb24ndCBkbyBhbnl0aGluZ1xuICAgICAgLy8gYW5kIGRvbid0IGJvdGhlciB0byB1cGRhdGUgdGhlIGVsZW1lbnQuXG4gICAgICB2YXIgcmVhbEdldCA9IG1ldGhvZERlc2NyaXB0b3IuZ2V0O1xuICAgICAgbWV0aG9kRGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlzRm9ybU1ldGhvZERpYWxvZyh0aGlzKSkge1xuICAgICAgICAgIHJldHVybiAnZGlhbG9nJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVhbEdldC5jYWxsKHRoaXMpO1xuICAgICAgfTtcbiAgICAgIHZhciByZWFsU2V0ID0gbWV0aG9kRGVzY3JpcHRvci5zZXQ7XG4gICAgICBtZXRob2REZXNjcmlwdG9yLnNldCA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiB2LnRvTG93ZXJDYXNlKCkgPT09ICdkaWFsb2cnKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKCdtZXRob2QnLCB2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVhbFNldC5jYWxsKHRoaXMsIHYpO1xuICAgICAgfTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MRm9ybUVsZW1lbnQucHJvdG90eXBlLCAnbWV0aG9kJywgbWV0aG9kRGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdsb2JhbCAnY2xpY2snIGhhbmRsZXIsIHRvIGNhcHR1cmUgdGhlIDxpbnB1dCB0eXBlPVwic3VibWl0XCI+IG9yIDxidXR0b24+IGVsZW1lbnQgd2hpY2ggaGFzXG4gICAqIHN1Ym1pdHRlZCBhIDxmb3JtIG1ldGhvZD1cImRpYWxvZ1wiPi4gTmVlZGVkIGFzIFNhZmFyaSBhbmQgb3RoZXJzIGRvbid0IHJlcG9ydCB0aGlzIGluc2lkZVxuICAgKiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LlxuICAgKi9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldikge1xuICAgIGRpYWxvZ1BvbHlmaWxsLmZvcm1TdWJtaXR0ZXIgPSBudWxsO1xuICAgIGRpYWxvZ1BvbHlmaWxsLnVzZVZhbHVlID0gbnVsbDtcbiAgICBpZiAoZXYuZGVmYXVsdFByZXZlbnRlZCkgeyByZXR1cm47IH0gIC8vIGUuZy4gYSBzdWJtaXQgd2hpY2ggcHJldmVudHMgZGVmYXVsdCBzdWJtaXNzaW9uXG5cbiAgICB2YXIgdGFyZ2V0ID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZXYudGFyZ2V0KTtcbiAgICBpZiAoIXRhcmdldCB8fCAhaXNGb3JtTWV0aG9kRGlhbG9nKHRhcmdldC5mb3JtKSkgeyByZXR1cm47IH1cblxuICAgIHZhciB2YWxpZCA9ICh0YXJnZXQudHlwZSA9PT0gJ3N1Ym1pdCcgJiYgWydidXR0b24nLCAnaW5wdXQnXS5pbmRleE9mKHRhcmdldC5sb2NhbE5hbWUpID4gLTEpO1xuICAgIGlmICghdmFsaWQpIHtcbiAgICAgIGlmICghKHRhcmdldC5sb2NhbE5hbWUgPT09ICdpbnB1dCcgJiYgdGFyZ2V0LnR5cGUgPT09ICdpbWFnZScpKSB7IHJldHVybjsgfVxuICAgICAgLy8gdGhpcyBpcyBhIDxpbnB1dCB0eXBlPVwiaW1hZ2VcIj4sIHdoaWNoIGNhbiBzdWJtaXQgZm9ybXNcbiAgICAgIGRpYWxvZ1BvbHlmaWxsLnVzZVZhbHVlID0gZXYub2Zmc2V0WCArICcsJyArIGV2Lm9mZnNldFk7XG4gICAgfVxuXG4gICAgdmFyIGRpYWxvZyA9IGZpbmROZWFyZXN0RGlhbG9nKHRhcmdldCk7XG4gICAgaWYgKCFkaWFsb2cpIHsgcmV0dXJuOyB9XG5cbiAgICBkaWFsb2dQb2x5ZmlsbC5mb3JtU3VibWl0dGVyID0gdGFyZ2V0O1xuXG4gIH0sIGZhbHNlKTtcblxuICAvKipcbiAgICogUmVwbGFjZSB0aGUgbmF0aXZlIEhUTUxGb3JtRWxlbWVudC5zdWJtaXQoKSBtZXRob2QsIGFzIGl0IHdvbid0IGZpcmUgdGhlXG4gICAqIHN1Ym1pdCBldmVudCBhbmQgZ2l2ZSB1cyBhIGNoYW5jZSB0byByZXNwb25kLlxuICAgKi9cbiAgdmFyIG5hdGl2ZUZvcm1TdWJtaXQgPSBIVE1MRm9ybUVsZW1lbnQucHJvdG90eXBlLnN1Ym1pdDtcbiAgdmFyIHJlcGxhY2VtZW50Rm9ybVN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlzRm9ybU1ldGhvZERpYWxvZyh0aGlzKSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUZvcm1TdWJtaXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgdmFyIGRpYWxvZyA9IGZpbmROZWFyZXN0RGlhbG9nKHRoaXMpO1xuICAgIGRpYWxvZyAmJiBkaWFsb2cuY2xvc2UoKTtcbiAgfTtcbiAgSFRNTEZvcm1FbGVtZW50LnByb3RvdHlwZS5zdWJtaXQgPSByZXBsYWNlbWVudEZvcm1TdWJtaXQ7XG5cbiAgLyoqXG4gICAqIEdsb2JhbCBmb3JtICdkaWFsb2cnIG1ldGhvZCBoYW5kbGVyLiBDbG9zZXMgYSBkaWFsb2cgY29ycmVjdGx5IG9uIHN1Ym1pdFxuICAgKiBhbmQgcG9zc2libHkgc2V0cyBpdHMgcmV0dXJuIHZhbHVlLlxuICAgKi9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZXYpIHtcbiAgICB2YXIgZm9ybSA9IC8qKiBAdHlwZSB7SFRNTEZvcm1FbGVtZW50fSAqLyAoZXYudGFyZ2V0KTtcbiAgICBpZiAoIWlzRm9ybU1ldGhvZERpYWxvZyhmb3JtKSkgeyByZXR1cm47IH1cbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIGRpYWxvZyA9IGZpbmROZWFyZXN0RGlhbG9nKGZvcm0pO1xuICAgIGlmICghZGlhbG9nKSB7IHJldHVybjsgfVxuXG4gICAgLy8gRm9ybXMgY2FuIG9ubHkgYmUgc3VibWl0dGVkIHZpYSAuc3VibWl0KCkgb3IgYSBjbGljayAoPyksIGJ1dCBhbnl3YXk6IHNhbml0eS1jaGVjayB0aGF0XG4gICAgLy8gdGhlIHN1Ym1pdHRlciBpcyBjb3JyZWN0IGJlZm9yZSB1c2luZyBpdHMgdmFsdWUgYXMgLnJldHVyblZhbHVlLlxuICAgIHZhciBzID0gZGlhbG9nUG9seWZpbGwuZm9ybVN1Ym1pdHRlcjtcbiAgICBpZiAocyAmJiBzLmZvcm0gPT09IGZvcm0pIHtcbiAgICAgIGRpYWxvZy5jbG9zZShkaWFsb2dQb2x5ZmlsbC51c2VWYWx1ZSB8fCBzLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgfVxuICAgIGRpYWxvZ1BvbHlmaWxsLmZvcm1TdWJtaXR0ZXIgPSBudWxsO1xuXG4gIH0sIHRydWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkaWFsb2dQb2x5ZmlsbDtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuVG9uZT1lKCk6dC5Ub25lPWUoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIGkobil7aWYoZVtuXSlyZXR1cm4gZVtuXS5leHBvcnRzO3ZhciBvPWVbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W25dLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGkpLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIGkubT10LGkuYz1lLGkuZD1mdW5jdGlvbih0LGUsbil7aS5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LGkucj1mdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0saS5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBpLmQoZSxcImFcIixlKSxlfSxpLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGkucD1cIlwiLGkoaS5zPTE1NSl9KFtmdW5jdGlvbih0LGUsaSl7KGZ1bmN0aW9uKG4pe3ZhciBvLHM7XG4vKipcbiAqICBUb25lLmpzXG4gKiAgQGF1dGhvciBZb3RhbSBNYW5uXG4gKiAgQGxpY2Vuc2UgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVCBNSVQgTGljZW5zZVxuICogIEBjb3B5cmlnaHQgMjAxNC0yMDE5IFlvdGFtIE1hbm5cbiAqL289W2koMTUzKV0sdm9pZCAwPT09KHM9ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ZnVuY3Rpb24oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgRXJyb3IoXCJjb25zdHJ1Y3RvciBuZWVkcyB0byBiZSBjYWxsZWQgd2l0aCB0aGUgJ25ldycga2V5d29yZFwiKX07cmV0dXJuIGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIGUpe3ZhciBpPXRbMF0ubWF0Y2goL15bQS1aXSQvKSxuPWVbdF09PT10aGlzLmNvbnN0cnVjdG9yO2lmKGUuaXNGdW5jdGlvbihlW3RdKSYmaSYmbilyZXR1cm4gdH1yZXR1cm5cIlRvbmVcIn0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxpLG4pe2lmKGUuaXNPYmplY3QodCkpbj1pO2Vsc2UgaWYoZS5pc1N0cmluZyh0KSl7dmFyIG89e307b1t0XT1pLHQ9b310OmZvcih2YXIgcyBpbiB0KXtpPXRbc107dmFyIHI9dGhpcztpZigtMSE9PXMuaW5kZXhPZihcIi5cIikpe2Zvcih2YXIgYT1zLnNwbGl0KFwiLlwiKSxsPTA7bDxhLmxlbmd0aC0xO2wrKylpZigocj1yW2FbbF1dKWluc3RhbmNlb2YgZSl7YS5zcGxpY2UoMCxsKzEpO3ZhciBoPWEuam9pbihcIi5cIik7ci5zZXQoaCxpKTtjb250aW51ZSB0fXM9YVthLmxlbmd0aC0xXX12YXIgdT1yW3NdO2UuaXNVbmRlZih1KXx8KGUuU2lnbmFsJiZ1IGluc3RhbmNlb2YgZS5TaWduYWx8fGUuUGFyYW0mJnUgaW5zdGFuY2VvZiBlLlBhcmFtP3UudmFsdWUhPT1pJiYoZS5pc1VuZGVmKG4pP3UudmFsdWU9aTp1LnJhbXBUbyhpLG4pKTp1IGluc3RhbmNlb2YgQXVkaW9QYXJhbT91LnZhbHVlIT09aSYmKHUudmFsdWU9aSk6ZS5UaW1lQmFzZSYmdSBpbnN0YW5jZW9mIGUuVGltZUJhc2U/cltzXT1pOnUgaW5zdGFuY2VvZiBlP3Uuc2V0KGkpOnUhPT1pJiYocltzXT1pKSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtlLmlzVW5kZWYodCk/dD10aGlzLl9jb2xsZWN0RGVmYXVsdHModGhpcy5jb25zdHJ1Y3Rvcik6ZS5pc1N0cmluZyh0KSYmKHQ9W3RdKTtmb3IodmFyIGk9e30sbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dLHM9dGhpcyxyPWk7aWYoLTEhPT1vLmluZGV4T2YoXCIuXCIpKXtmb3IodmFyIGE9by5zcGxpdChcIi5cIiksbD0wO2w8YS5sZW5ndGgtMTtsKyspe3ZhciBoPWFbbF07cltoXT1yW2hdfHx7fSxyPXJbaF0scz1zW2hdfW89YVthLmxlbmd0aC0xXX12YXIgdT1zW29dO2UuaXNPYmplY3QodFtvXSk/cltvXT11LmdldCgpOmUuU2lnbmFsJiZ1IGluc3RhbmNlb2YgZS5TaWduYWw/cltvXT11LnZhbHVlOmUuUGFyYW0mJnUgaW5zdGFuY2VvZiBlLlBhcmFtP3Jbb109dS52YWx1ZTp1IGluc3RhbmNlb2YgQXVkaW9QYXJhbT9yW29dPXUudmFsdWU6dSBpbnN0YW5jZW9mIGU/cltvXT11LmdldCgpOiFlLmlzRnVuY3Rpb24odSkmJmUuaXNEZWZpbmVkKHUpJiYocltvXT11KX1yZXR1cm4gaX0sZS5wcm90b3R5cGUuX2NvbGxlY3REZWZhdWx0cz1mdW5jdGlvbih0KXt2YXIgaT1bXTtpZihlLmlzRGVmaW5lZCh0LmRlZmF1bHRzKSYmKGk9T2JqZWN0LmtleXModC5kZWZhdWx0cykpLGUuaXNEZWZpbmVkKHQuX3N1cGVyKSlmb3IodmFyIG49dGhpcy5fY29sbGVjdERlZmF1bHRzKHQuX3N1cGVyKSxvPTA7bzxuLmxlbmd0aDtvKyspLTE9PT1pLmluZGV4T2YobltvXSkmJmkucHVzaChuW29dKTtyZXR1cm4gaX0sZS5kZWZhdWx0cz1mdW5jdGlvbih0LGksbil7dmFyIG89e307aWYoMT09PXQubGVuZ3RoJiZlLmlzT2JqZWN0KHRbMF0pKW89dFswXTtlbHNlIGZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKW9baVtzXV09dFtzXTtyZXR1cm4gZS5pc0RlZmluZWQobi5kZWZhdWx0cyk/ZS5kZWZhdWx0QXJnKG8sbi5kZWZhdWx0cyk6ZS5pc09iamVjdChuKT9lLmRlZmF1bHRBcmcobyxuKTpvfSxlLmRlZmF1bHRBcmc9ZnVuY3Rpb24odCxpKXtpZihlLmlzT2JqZWN0KHQpJiZlLmlzT2JqZWN0KGkpKXt2YXIgbj17fTtmb3IodmFyIG8gaW4gdCluW29dPWUuZGVmYXVsdEFyZyhpW29dLHRbb10pO2Zvcih2YXIgcyBpbiBpKW5bc109ZS5kZWZhdWx0QXJnKHRbc10saVtzXSk7cmV0dXJuIG59cmV0dXJuIGUuaXNVbmRlZih0KT9pOnR9LGUucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe2lmKHRoaXMuZGVidWd8fHRoaXMudG9TdHJpbmcoKT09PWUuZ2xvYmFsLlRPTkVfREVCVUdfQ0xBU1Mpe3ZhciB0PUFycmF5LmZyb20oYXJndW1lbnRzKTt0LnVuc2hpZnQodGhpcy50b1N0cmluZygpK1wiOlwiKSxjb25zb2xlLmxvZy5hcHBseSh2b2lkIDAsdCl9fSxlLnByb3RvdHlwZS5hc3NlcnQ9ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZSl9LGUuY29ubmVjdFNlcmllcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHNbMF0saT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBuPWFyZ3VtZW50c1tpXTt0LmNvbm5lY3QobiksdD1ufXJldHVybiBlfSxlLmlzVW5kZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR9LGUuaXNEZWZpbmVkPWZ1bmN0aW9uKHQpe3JldHVybiFlLmlzVW5kZWYodCl9LGUuaXNGdW5jdGlvbj1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxlLmlzTnVtYmVyPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fSxlLmlzT2JqZWN0PWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkmJnQuY29uc3RydWN0b3I9PT1PYmplY3R9LGUuaXNCb29sZWFuPWZ1bmN0aW9uKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH0sZS5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfSxlLmlzU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSxlLmlzTm90ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc1N0cmluZyh0KSYmL14oW2EtZ117MX0oPzpifCN8eHxiYik/KSgtP1swLTldKykvaS50ZXN0KHQpfSxlLm5vT3A9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9yZWFkT25seT1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuX3JlYWRPbmx5KHRbZV0pO2Vsc2UgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7d3JpdGFibGU6ITEsZW51bWVyYWJsZTohMH0pfSxlLnByb3RvdHlwZS5fd3JpdGFibGU9ZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl93cml0YWJsZSh0W2VdKTtlbHNlIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse3dyaXRhYmxlOiEwfSl9LGUuU3RhdGU9e1N0YXJ0ZWQ6XCJzdGFydGVkXCIsU3RvcHBlZDpcInN0b3BwZWRcIixQYXVzZWQ6XCJwYXVzZWRcIn0sZS5nbG9iYWw9ZS5pc1VuZGVmKG4pP3dpbmRvdzpuLGUuZXF1YWxQb3dlclNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPS41Kk1hdGguUEk7cmV0dXJuIE1hdGguc2luKHQqZSl9LGUuZGJUb0dhaW49ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KDEwLHQvMjApfSxlLmdhaW5Ub0RiPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmxvZyh0KS9NYXRoLkxOMTAqMjB9LGUuaW50ZXJ2YWxUb0ZyZXF1ZW5jeVJhdGlvPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLHQvMTIpfSxlLnByb3RvdHlwZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jb250ZXh0Lm5vdygpfSxlLm5vdz1mdW5jdGlvbigpe3JldHVybiBlLmNvbnRleHQubm93KCl9LGUucHJvdG90eXBlLmltbWVkaWF0ZT1mdW5jdGlvbigpe3JldHVybiBlLmNvbnRleHQuY3VycmVudFRpbWV9LGUuaW1tZWRpYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuY29udGV4dC5jdXJyZW50VGltZX0sZS5leHRlbmQ9ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBuKCl7fWUuaXNVbmRlZihpKSYmKGk9ZSksbi5wcm90b3R5cGU9aS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IG4sdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0Ll9zdXBlcj1pfSxlLl9hdWRpb0NvbnRleHQ9bnVsbCxlLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGUuY29udGV4dC5yZXN1bWUoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLl9hdWRpb0NvbnRleHR9LHNldDpmdW5jdGlvbih0KXt0LmlzQ29udGV4dD9lLl9hdWRpb0NvbnRleHQ9dDplLl9hdWRpb0NvbnRleHQ9bmV3IGUuQ29udGV4dCh0KSxlLkNvbnRleHQuZW1pdChcImluaXRcIixlLl9hdWRpb0NvbnRleHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNvbnRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY29udGV4dH19KSxlLnNldENvbnRleHQ9ZnVuY3Rpb24odCl7ZS5jb250ZXh0PXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImJsb2NrVGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMTI4L3RoaXMuY29udGV4dC5zYW1wbGVSYXRlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNhbXBsZVRpbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDEvdGhpcy5jb250ZXh0LnNhbXBsZVJhdGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzdXBwb3J0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZS5nbG9iYWwuaGFzT3duUHJvcGVydHkoXCJBdWRpb0NvbnRleHRcIil8fGUuZ2xvYmFsLmhhc093blByb3BlcnR5KFwid2Via2l0QXVkaW9Db250ZXh0XCIpLGk9ZS5nbG9iYWwuaGFzT3duUHJvcGVydHkoXCJQcm9taXNlXCIpO3JldHVybiB0JiZpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaW5pdGlhbGl6ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oZS5jb250ZXh0KX19KSxlLmdldENvbnRleHQ9ZnVuY3Rpb24odCl7aWYoZS5pbml0aWFsaXplZCl0KGUuY29udGV4dCk7ZWxzZXt2YXIgaT1mdW5jdGlvbigpe3QoZS5jb250ZXh0KSxlLkNvbnRleHQub2ZmKFwiaW5pdFwiLGkpfTtlLkNvbnRleHQub24oXCJpbml0XCIsaSl9cmV0dXJuIGV9LGUudmVyc2lvbj10LGV9LmFwcGx5KGUsbykpfHwodC5leHBvcnRzPXMpfSkuY2FsbCh0aGlzLGkoMTU0KSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg3KSxpKDQpLGkoMTQpLGkoOTcpLGkoMyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlNpZ25hbD1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcInZhbHVlXCIsXCJ1bml0c1wiXSx0LlNpZ25hbCk7dC5QYXJhbS5jYWxsKHRoaXMsZSksdGhpcy5fY29uc3RhbnRTb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZUNvbnN0YW50U291cmNlKCksdGhpcy5fY29uc3RhbnRTb3VyY2Uuc3RhcnQoMCksdGhpcy5fcGFyYW09dGhpcy5fY29uc3RhbnRTb3VyY2Uub2Zmc2V0LHRoaXMudmFsdWU9ZS52YWx1ZSx0aGlzLm91dHB1dD10aGlzLl9jb25zdGFudFNvdXJjZSx0aGlzLmlucHV0PXRoaXMuX3BhcmFtPXRoaXMub3V0cHV0Lm9mZnNldH0sdC5leHRlbmQodC5TaWduYWwsdC5QYXJhbSksdC5TaWduYWwuZGVmYXVsdHM9e3ZhbHVlOjAsdW5pdHM6dC5UeXBlLkRlZmF1bHQsY29udmVydDohMH0sdC5TaWduYWwucHJvdG90eXBlLmNvbm5lY3Q9dC5TaWduYWxCYXNlLnByb3RvdHlwZS5jb25uZWN0LHQuU2lnbmFsLnByb3RvdHlwZS5kaXNjb25uZWN0PXQuU2lnbmFsQmFzZS5wcm90b3R5cGUuZGlzY29ubmVjdCx0LlNpZ25hbC5wcm90b3R5cGUuZ2V0VmFsdWVBdFRpbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BhcmFtLmdldFZhbHVlQXRUaW1lP3RoaXMuX3BhcmFtLmdldFZhbHVlQXRUaW1lKGUpOnQuUGFyYW0ucHJvdG90eXBlLmdldFZhbHVlQXRUaW1lLmNhbGwodGhpcyxlKX0sdC5TaWduYWwucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5QYXJhbS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2NvbnN0YW50U291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzLl9jb25zdGFudFNvdXJjZT1udWxsLHRoaXN9LHQuU2lnbmFsfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDIwKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuQXVkaW9Ob2RlPWZ1bmN0aW9uKCl7dC5jYWxsKHRoaXMpO3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImNvbnRleHRcIl0se2NvbnRleHQ6dC5jb250ZXh0fSk7dGhpcy5fY29udGV4dD1lLmNvbnRleHR9LHQuZXh0ZW5kKHQuQXVkaW9Ob2RlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdWRpb05vZGUucHJvdG90eXBlLFwiY29udGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGV4dH19KSx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuY3JlYXRlSW5zT3V0cz1mdW5jdGlvbih0LGUpezE9PT10P3RoaXMuaW5wdXQ9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKTp0PjEmJih0aGlzLmlucHV0PW5ldyBBcnJheSh0KSksMT09PWU/dGhpcy5vdXRwdXQ9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKTplPjEmJih0aGlzLm91dHB1dD1uZXcgQXJyYXkoZSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdWRpb05vZGUucHJvdG90eXBlLFwiY2hhbm5lbENvdW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dC5jaGFubmVsQ291bnR9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdXRwdXQuY2hhbm5lbENvdW50PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQXVkaW9Ob2RlLnByb3RvdHlwZSxcImNoYW5uZWxDb3VudE1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0cHV0LmNoYW5uZWxDb3VudE1vZGV9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdXRwdXQuY2hhbm5lbENvdW50TW9kZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkF1ZGlvTm9kZS5wcm90b3R5cGUsXCJjaGFubmVsSW50ZXJwcmV0YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0cHV0LmNoYW5uZWxJbnRlcnByZXRhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm91dHB1dC5jaGFubmVsSW50ZXJwcmV0YXRpb249dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdWRpb05vZGUucHJvdG90eXBlLFwibnVtYmVyT2ZJbnB1dHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXQ/dC5pc0FycmF5KHRoaXMuaW5wdXQpP3RoaXMuaW5wdXQubGVuZ3RoOjE6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdWRpb05vZGUucHJvdG90eXBlLFwibnVtYmVyT2ZPdXRwdXRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm91dHB1dD90LmlzQXJyYXkodGhpcy5vdXRwdXQpP3RoaXMub3V0cHV0Lmxlbmd0aDoxOjB9fSksdC5BdWRpb05vZGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSxpLG4pe3JldHVybiB0LmlzQXJyYXkodGhpcy5vdXRwdXQpPyhpPXQuZGVmYXVsdEFyZyhpLDApLHRoaXMub3V0cHV0W2ldLmNvbm5lY3QoZSwwLG4pKTp0aGlzLm91dHB1dC5jb25uZWN0KGUsaSxuKSx0aGlzfSx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbihlLGksbil7dC5pc0FycmF5KHRoaXMub3V0cHV0KT90LmlzTnVtYmVyKGUpP3RoaXMub3V0cHV0W2VdLmRpc2Nvbm5lY3QoKTooaT10LmRlZmF1bHRBcmcoaSwwKSx0aGlzLm91dHB1dFtpXS5kaXNjb25uZWN0KGUsMCxuKSk6dGhpcy5vdXRwdXQuZGlzY29ubmVjdC5hcHBseSh0aGlzLm91dHB1dCxhcmd1bWVudHMpfSx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuY2hhaW49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIGk9YXJndW1lbnRzW2VdO3QuY29ubmVjdChpKSx0PWl9cmV0dXJuIHRoaXN9LHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5mYW49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXRoaXMuY29ubmVjdChhcmd1bWVudHNbdF0pO3JldHVybiB0aGlzfSx0Lmdsb2JhbC5BdWRpb05vZGUmJihBdWRpb05vZGUucHJvdG90eXBlLmNoYWluPXQuQXVkaW9Ob2RlLnByb3RvdHlwZS5jaGFpbixBdWRpb05vZGUucHJvdG90eXBlLmZhbj10LkF1ZGlvTm9kZS5wcm90b3R5cGUuZmFuKSx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LmlzRGVmaW5lZCh0aGlzLmlucHV0KSYmKHRoaXMuaW5wdXQgaW5zdGFuY2VvZiBBdWRpb05vZGUmJnRoaXMuaW5wdXQuZGlzY29ubmVjdCgpLHRoaXMuaW5wdXQ9bnVsbCksdC5pc0RlZmluZWQodGhpcy5vdXRwdXQpJiYodGhpcy5vdXRwdXQgaW5zdGFuY2VvZiBBdWRpb05vZGUmJnRoaXMub3V0cHV0LmRpc2Nvbm5lY3QoKSx0aGlzLm91dHB1dD1udWxsKSx0aGlzLl9jb250ZXh0PW51bGwsdGhpc30sdC5BdWRpb05vZGV9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMTQpLGkoNCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuR2Fpbj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImdhaW5cIixcInVuaXRzXCJdLHQuR2Fpbik7dC5BdWRpb05vZGUuY2FsbCh0aGlzLGUpLHRoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9dGhpcy5fZ2Fpbk5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW49bmV3IHQuUGFyYW0oe3BhcmFtOnRoaXMuX2dhaW5Ob2RlLmdhaW4sdW5pdHM6ZS51bml0cyx2YWx1ZTplLmdhaW4sY29udmVydDplLmNvbnZlcnR9KSx0aGlzLl9yZWFkT25seShcImdhaW5cIil9LHQuZXh0ZW5kKHQuR2Fpbix0LkF1ZGlvTm9kZSksdC5HYWluLmRlZmF1bHRzPXtnYWluOjEsY29udmVydDohMH0sdC5HYWluLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9nYWluTm9kZS5kaXNjb25uZWN0KCksdGhpcy5fZ2Fpbk5vZGU9bnVsbCx0aGlzLl93cml0YWJsZShcImdhaW5cIiksdGhpcy5nYWluLmRpc3Bvc2UoKSx0aGlzLmdhaW49bnVsbH0sdC5HYWlufS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDY1KSxpKDQ2KSxpKDQ1KSxpKDIwKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuVHlwZT17RGVmYXVsdDpcIm51bWJlclwiLFRpbWU6XCJ0aW1lXCIsRnJlcXVlbmN5OlwiZnJlcXVlbmN5XCIsVHJhbnNwb3J0VGltZTpcInRyYW5zcG9ydFRpbWVcIixUaWNrczpcInRpY2tzXCIsTm9ybWFsUmFuZ2U6XCJub3JtYWxSYW5nZVwiLEF1ZGlvUmFuZ2U6XCJhdWRpb1JhbmdlXCIsRGVjaWJlbHM6XCJkYlwiLEludGVydmFsOlwiaW50ZXJ2YWxcIixCUE06XCJicG1cIixQb3NpdGl2ZTpcInBvc2l0aXZlXCIsR2FpbjpcImdhaW5cIixDZW50czpcImNlbnRzXCIsRGVncmVlczpcImRlZ3JlZXNcIixNSURJOlwibWlkaVwiLEJhcnNCZWF0c1NpeHRlZW50aHM6XCJiYXJzQmVhdHNTaXh0ZWVudGhzXCIsU2FtcGxlczpcInNhbXBsZXNcIixIZXJ0ejpcImhlcnR6XCIsTm90ZTpcIm5vdGVcIixNaWxsaXNlY29uZHM6XCJtaWxsaXNlY29uZHNcIixTZWNvbmRzOlwic2Vjb25kc1wiLE5vdGF0aW9uOlwibm90YXRpb25cIn0sdC5wcm90b3R5cGUudG9TZWNvbmRzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmlzTnVtYmVyKGUpP2U6dC5pc1VuZGVmKGUpP3RoaXMubm93KCk6dC5pc1N0cmluZyhlKXx8dC5pc09iamVjdChlKT9uZXcgdC5UaW1lKGUpLnRvU2Vjb25kcygpOmUgaW5zdGFuY2VvZiB0LlRpbWVCYXNlP2UudG9TZWNvbmRzKCk6dm9pZCAwfSx0LnByb3RvdHlwZS50b0ZyZXF1ZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4gdC5pc051bWJlcihlKT9lOnQuaXNTdHJpbmcoZSl8fHQuaXNVbmRlZihlKXx8dC5pc09iamVjdChlKT9uZXcgdC5GcmVxdWVuY3koZSkudmFsdWVPZigpOmUgaW5zdGFuY2VvZiB0LlRpbWVCYXNlP2UudG9GcmVxdWVuY3koKTp2b2lkIDB9LHQucHJvdG90eXBlLnRvVGlja3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNOdW1iZXIoZSl8fHQuaXNTdHJpbmcoZSl8fHQuaXNPYmplY3QoZSk/bmV3IHQuVHJhbnNwb3J0VGltZShlKS50b1RpY2tzKCk6dC5pc1VuZGVmKGUpP3QuVHJhbnNwb3J0LnRpY2tzOmUgaW5zdGFuY2VvZiB0LlRpbWVCYXNlP2UudG9UaWNrcygpOnZvaWQgMH0sdH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxNCksaSgzKSxpKDM2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTXVsdGlwbHk9ZnVuY3Rpb24oZSl7dC5TaWduYWwuY2FsbCh0aGlzKSx0aGlzLmNyZWF0ZUluc091dHMoMiwwKSx0aGlzLl9tdWx0PXRoaXMuaW5wdXRbMF09dGhpcy5vdXRwdXQ9bmV3IHQuR2Fpbix0aGlzLl9wYXJhbT10aGlzLmlucHV0WzFdPXRoaXMub3V0cHV0LmdhaW4sdGhpcy52YWx1ZT10LmRlZmF1bHRBcmcoZSwwKSx0aGlzLnByb3h5PSExfSx0LmV4dGVuZCh0Lk11bHRpcGx5LHQuU2lnbmFsKSx0Lk11bHRpcGx5LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2lnbmFsLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbXVsdC5kaXNwb3NlKCksdGhpcy5fbXVsdD1udWxsLHRoaXMuX3BhcmFtPW51bGwsdGhpc30sdC5NdWx0aXBseX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxNiksaSgyNyksaSg0MCksaSg0KSxpKDMzKSxpKDEpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlNvdXJjZT1mdW5jdGlvbihlKXtlPXQuZGVmYXVsdEFyZyhlLHQuU291cmNlLmRlZmF1bHRzKSx0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuX3ZvbHVtZT10aGlzLm91dHB1dD1uZXcgdC5Wb2x1bWUoZS52b2x1bWUpLHRoaXMudm9sdW1lPXRoaXMuX3ZvbHVtZS52b2x1bWUsdGhpcy5fcmVhZE9ubHkoXCJ2b2x1bWVcIiksdGhpcy5fc3RhdGU9bmV3IHQuVGltZWxpbmVTdGF0ZSh0LlN0YXRlLlN0b3BwZWQpLHRoaXMuX3N0YXRlLm1lbW9yeT0xMDAsdGhpcy5fc3luY2VkPSExLHRoaXMuX3NjaGVkdWxlZD1bXSx0aGlzLl92b2x1bWUub3V0cHV0Lm91dHB1dC5jaGFubmVsQ291bnQ9Mix0aGlzLl92b2x1bWUub3V0cHV0Lm91dHB1dC5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIix0aGlzLm11dGU9ZS5tdXRlfSx0LmV4dGVuZCh0LlNvdXJjZSx0LkF1ZGlvTm9kZSksdC5Tb3VyY2UuZGVmYXVsdHM9e3ZvbHVtZTowLG11dGU6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlNvdXJjZS5wcm90b3R5cGUsXCJzdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY2VkP3QuVHJhbnNwb3J0LnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkP3RoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHQuVHJhbnNwb3J0LnNlY29uZHMpOnQuU3RhdGUuU3RvcHBlZDp0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Tb3VyY2UucHJvdG90eXBlLFwibXV0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lLm11dGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl92b2x1bWUubXV0ZT10fX0pLHQuU291cmNlLnByb3RvdHlwZS5fc3RhcnQ9dC5ub09wLHQuU291cmNlLnByb3RvdHlwZS5yZXN0YXJ0PXQubm9PcCx0LlNvdXJjZS5wcm90b3R5cGUuX3N0b3A9dC5ub09wLHQuU291cmNlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlLGksbil7aWYoZT10LmlzVW5kZWYoZSkmJnRoaXMuX3N5bmNlZD90LlRyYW5zcG9ydC5zZWNvbmRzOnRoaXMudG9TZWNvbmRzKGUpLHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpPT09dC5TdGF0ZS5TdGFydGVkKXRoaXMuX3N0YXRlLmNhbmNlbChlKSx0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZSh0LlN0YXRlLlN0YXJ0ZWQsZSksdGhpcy5yZXN0YXJ0KGUsaSxuKTtlbHNlIGlmKHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RhcnRlZCxlKSx0aGlzLl9zeW5jZWQpe3ZhciBvPXRoaXMuX3N0YXRlLmdldChlKTtvLm9mZnNldD10LmRlZmF1bHRBcmcoaSwwKSxvLmR1cmF0aW9uPW47dmFyIHM9dC5UcmFuc3BvcnQuc2NoZWR1bGUoZnVuY3Rpb24odCl7dGhpcy5fc3RhcnQodCxpLG4pfS5iaW5kKHRoaXMpLGUpO3RoaXMuX3NjaGVkdWxlZC5wdXNoKHMpLHQuVHJhbnNwb3J0LnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkJiZ0aGlzLl9zeW5jZWRTdGFydCh0aGlzLm5vdygpLHQuVHJhbnNwb3J0LnNlY29uZHMpfWVsc2UgdGhpcy5fc3RhcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfSx0LlNvdXJjZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbihlKXtpZihlPXQuaXNVbmRlZihlKSYmdGhpcy5fc3luY2VkP3QuVHJhbnNwb3J0LnNlY29uZHM6dGhpcy50b1NlY29uZHMoZSksdGhpcy5fc3luY2VkKXt2YXIgaT10LlRyYW5zcG9ydC5zY2hlZHVsZSh0aGlzLl9zdG9wLmJpbmQodGhpcyksZSk7dGhpcy5fc2NoZWR1bGVkLnB1c2goaSl9ZWxzZSB0aGlzLl9zdG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fc3RhdGUuY2FuY2VsKGUpLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RvcHBlZCxlKSx0aGlzfSx0LlNvdXJjZS5wcm90b3R5cGUuc3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jZWQ9ITAsdGhpcy5fc3luY2VkU3RhcnQ9ZnVuY3Rpb24oZSxpKXtpZihpPjApe3ZhciBuPXRoaXMuX3N0YXRlLmdldChpKTtpZihuJiZuLnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkJiZuLnRpbWUhPT1pKXt2YXIgbyxzPWktdGhpcy50b1NlY29uZHMobi50aW1lKTtuLmR1cmF0aW9uJiYobz10aGlzLnRvU2Vjb25kcyhuLmR1cmF0aW9uKS1zKSx0aGlzLl9zdGFydChlLHRoaXMudG9TZWNvbmRzKG4ub2Zmc2V0KStzLG8pfX19LmJpbmQodGhpcyksdGhpcy5fc3luY2VkU3RvcD1mdW5jdGlvbihlKXt2YXIgaT10LlRyYW5zcG9ydC5nZXRTZWNvbmRzQXRUaW1lKE1hdGgubWF4KGUtdGhpcy5zYW1wbGVUaW1lLDApKTt0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShpKT09PXQuU3RhdGUuU3RhcnRlZCYmdGhpcy5fc3RvcChlKX0uYmluZCh0aGlzKSx0LlRyYW5zcG9ydC5vbihcInN0YXJ0IGxvb3BTdGFydFwiLHRoaXMuX3N5bmNlZFN0YXJ0KSx0LlRyYW5zcG9ydC5vbihcInN0b3AgcGF1c2UgbG9vcEVuZFwiLHRoaXMuX3N5bmNlZFN0b3ApLHRoaXN9LHQuU291cmNlLnByb3RvdHlwZS51bnN5bmM9ZnVuY3Rpb24oKXt0aGlzLl9zeW5jZWQmJih0LlRyYW5zcG9ydC5vZmYoXCJzdG9wIHBhdXNlIGxvb3BFbmRcIix0aGlzLl9zeW5jZWRTdG9wKSx0LlRyYW5zcG9ydC5vZmYoXCJzdGFydCBsb29wU3RhcnRcIix0aGlzLl9zeW5jZWRTdGFydCkpLHRoaXMuX3N5bmNlZD0hMTtmb3IodmFyIGU9MDtlPHRoaXMuX3NjaGVkdWxlZC5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLl9zY2hlZHVsZWRbZV07dC5UcmFuc3BvcnQuY2xlYXIoaSl9cmV0dXJuIHRoaXMuX3NjaGVkdWxlZD1bXSx0aGlzLl9zdGF0ZS5jYW5jZWwoMCksdGhpc30sdC5Tb3VyY2UucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMudW5zeW5jKCksdGhpcy5fc2NoZWR1bGVkPW51bGwsdGhpcy5fd3JpdGFibGUoXCJ2b2x1bWVcIiksdGhpcy5fdm9sdW1lLmRpc3Bvc2UoKSx0aGlzLl92b2x1bWU9bnVsbCx0aGlzLnZvbHVtZT1udWxsLHRoaXMuX3N0YXRlLmRpc3Bvc2UoKSx0aGlzLl9zdGF0ZT1udWxsfSx0LlNvdXJjZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgzNiksaSg5OCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LldhdmVTaGFwZXI9ZnVuY3Rpb24oZSxpKXt0LlNpZ25hbEJhc2UuY2FsbCh0aGlzKSx0aGlzLl9zaGFwZXI9dGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLmNvbnRleHQuY3JlYXRlV2F2ZVNoYXBlcigpLHRoaXMuX2N1cnZlPW51bGwsQXJyYXkuaXNBcnJheShlKT90aGlzLmN1cnZlPWU6aXNGaW5pdGUoZSl8fHQuaXNVbmRlZihlKT90aGlzLl9jdXJ2ZT1uZXcgRmxvYXQzMkFycmF5KHQuZGVmYXVsdEFyZyhlLDEwMjQpKTp0LmlzRnVuY3Rpb24oZSkmJih0aGlzLl9jdXJ2ZT1uZXcgRmxvYXQzMkFycmF5KHQuZGVmYXVsdEFyZyhpLDEwMjQpKSx0aGlzLnNldE1hcChlKSl9LHQuZXh0ZW5kKHQuV2F2ZVNoYXBlcix0LlNpZ25hbEJhc2UpLHQuV2F2ZVNoYXBlci5wcm90b3R5cGUuc2V0TWFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodGhpcy5fY3VydmUubGVuZ3RoKSxpPTAsbj10aGlzLl9jdXJ2ZS5sZW5ndGg7aTxuO2krKyl7dmFyIG89aS8obi0xKSoyLTE7ZVtpXT10KG8saSl9cmV0dXJuIHRoaXMuY3VydmU9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5XYXZlU2hhcGVyLnByb3RvdHlwZSxcImN1cnZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFwZXIuY3VydmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jdXJ2ZT1uZXcgRmxvYXQzMkFycmF5KHQpLHRoaXMuX3NoYXBlci5jdXJ2ZT10aGlzLl9jdXJ2ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5XYXZlU2hhcGVyLnByb3RvdHlwZSxcIm92ZXJzYW1wbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYXBlci5vdmVyc2FtcGxlfSxzZXQ6ZnVuY3Rpb24odCl7aWYoIVtcIm5vbmVcIixcIjJ4XCIsXCI0eFwiXS5pbmNsdWRlcyh0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRvbmUuV2F2ZVNoYXBlcjogb3ZlcnNhbXBsaW5nIG11c3QgYmUgZWl0aGVyICdub25lJywgJzJ4Jywgb3IgJzR4J1wiKTt0aGlzLl9zaGFwZXIub3ZlcnNhbXBsZT10fX0pLHQuV2F2ZVNoYXBlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNpZ25hbEJhc2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9zaGFwZXIuZGlzY29ubmVjdCgpLHRoaXMuX3NoYXBlcj1udWxsLHRoaXMuX2N1cnZlPW51bGwsdGhpc30sdC5XYXZlU2hhcGVyfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDIzKSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5FZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ3ZXRcIl0sdC5FZmZlY3QpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDEsMSksdGhpcy5fZHJ5V2V0PW5ldyB0LkNyb3NzRmFkZShlLndldCksdGhpcy53ZXQ9dGhpcy5fZHJ5V2V0LmZhZGUsdGhpcy5lZmZlY3RTZW5kPW5ldyB0LkdhaW4sdGhpcy5lZmZlY3RSZXR1cm49bmV3IHQuR2Fpbix0aGlzLmlucHV0LmNvbm5lY3QodGhpcy5fZHJ5V2V0LmEpLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLmVmZmVjdFNlbmQpLHRoaXMuZWZmZWN0UmV0dXJuLmNvbm5lY3QodGhpcy5fZHJ5V2V0LmIpLHRoaXMuX2RyeVdldC5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9yZWFkT25seShbXCJ3ZXRcIl0pfSx0LmV4dGVuZCh0LkVmZmVjdCx0LkF1ZGlvTm9kZSksdC5FZmZlY3QuZGVmYXVsdHM9e3dldDoxfSx0LkVmZmVjdC5wcm90b3R5cGUuY29ubmVjdEVmZmVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lZmZlY3RTZW5kLmNoYWluKHQsdGhpcy5lZmZlY3RSZXR1cm4pLHRoaXN9LHQuRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZHJ5V2V0LmRpc3Bvc2UoKSx0aGlzLl9kcnlXZXQ9bnVsbCx0aGlzLmVmZmVjdFNlbmQuZGlzcG9zZSgpLHRoaXMuZWZmZWN0U2VuZD1udWxsLHRoaXMuZWZmZWN0UmV0dXJuLmRpc3Bvc2UoKSx0aGlzLmVmZmVjdFJldHVybj1udWxsLHRoaXMuX3dyaXRhYmxlKFtcIndldFwiXSksdGhpcy53ZXQ9bnVsbCx0aGlzfSx0LkVmZmVjdH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxKSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5GaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIixcInJvbGxvZmZcIl0sdC5GaWx0ZXIpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDEsMSksdGhpcy5fZmlsdGVycz1bXSx0aGlzLmZyZXF1ZW5jeT1uZXcgdC5TaWduYWwoZS5mcmVxdWVuY3ksdC5UeXBlLkZyZXF1ZW5jeSksdGhpcy5kZXR1bmU9bmV3IHQuU2lnbmFsKDAsdC5UeXBlLkNlbnRzKSx0aGlzLmdhaW49bmV3IHQuU2lnbmFsKHt2YWx1ZTplLmdhaW4sY29udmVydDohMCx0eXBlOnQuVHlwZS5EZWNpYmVsc30pLHRoaXMuUT1uZXcgdC5TaWduYWwoZS5RKSx0aGlzLl90eXBlPWUudHlwZSx0aGlzLl9yb2xsb2ZmPWUucm9sbG9mZix0aGlzLnJvbGxvZmY9ZS5yb2xsb2ZmLHRoaXMuX3JlYWRPbmx5KFtcImRldHVuZVwiLFwiZnJlcXVlbmN5XCIsXCJnYWluXCIsXCJRXCJdKX0sdC5leHRlbmQodC5GaWx0ZXIsdC5BdWRpb05vZGUpLHQuRmlsdGVyLmRlZmF1bHRzPXt0eXBlOlwibG93cGFzc1wiLGZyZXF1ZW5jeTozNTAscm9sbG9mZjotMTIsUToxLGdhaW46MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRmlsdGVyLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbih0KXtpZigtMT09PVtcImxvd3Bhc3NcIixcImhpZ2hwYXNzXCIsXCJiYW5kcGFzc1wiLFwibG93c2hlbGZcIixcImhpZ2hzaGVsZlwiLFwibm90Y2hcIixcImFsbHBhc3NcIixcInBlYWtpbmdcIl0uaW5kZXhPZih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVG9uZS5GaWx0ZXI6IGludmFsaWQgdHlwZSBcIit0KTt0aGlzLl90eXBlPXQ7Zm9yKHZhciBlPTA7ZTx0aGlzLl9maWx0ZXJzLmxlbmd0aDtlKyspdGhpcy5fZmlsdGVyc1tlXS50eXBlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRmlsdGVyLnByb3RvdHlwZSxcInJvbGxvZmZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxvZmZ9LHNldDpmdW5jdGlvbihlKXtlPXBhcnNlSW50KGUsMTApO3ZhciBpPVstMTIsLTI0LC00OCwtOTZdLmluZGV4T2YoZSk7aWYoLTE9PT1pKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVG9uZS5GaWx0ZXI6IHJvbGxvZmYgY2FuIG9ubHkgYmUgLTEyLCAtMjQsIC00OCBvciAtOTZcIik7aSs9MSx0aGlzLl9yb2xsb2ZmPWUsdGhpcy5pbnB1dC5kaXNjb25uZWN0KCk7Zm9yKHZhciBuPTA7bjx0aGlzLl9maWx0ZXJzLmxlbmd0aDtuKyspdGhpcy5fZmlsdGVyc1tuXS5kaXNjb25uZWN0KCksdGhpcy5fZmlsdGVyc1tuXT1udWxsO3RoaXMuX2ZpbHRlcnM9bmV3IEFycmF5KGkpO2Zvcih2YXIgbz0wO288aTtvKyspe3ZhciBzPXRoaXMuY29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTtzLnR5cGU9dGhpcy5fdHlwZSx0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHMuZnJlcXVlbmN5KSx0aGlzLmRldHVuZS5jb25uZWN0KHMuZGV0dW5lKSx0aGlzLlEuY29ubmVjdChzLlEpLHRoaXMuZ2Fpbi5jb25uZWN0KHMuZ2FpbiksdGhpcy5fZmlsdGVyc1tvXT1zfXZhciByPVt0aGlzLmlucHV0XS5jb25jYXQodGhpcy5fZmlsdGVycykuY29uY2F0KFt0aGlzLm91dHB1dF0pO3QuY29ubmVjdFNlcmllcy5hcHBseSh0LHIpfX0pLHQuRmlsdGVyLnByb3RvdHlwZS5nZXRGcmVxdWVuY3lSZXNwb25zZT1mdW5jdGlvbihlKXtlPXQuZGVmYXVsdEFyZyhlLDEyOCk7Zm9yKHZhciBpPW5ldyBGbG9hdDMyQXJyYXkoZSkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIDF9KSxuPW5ldyBGbG9hdDMyQXJyYXkoZSksbz0wO288ZTtvKyspe3ZhciBzPTE5OTgwKk1hdGgucG93KG8vZSwyKSsyMDtuW29dPXN9dmFyIHI9bmV3IEZsb2F0MzJBcnJheShlKSxhPW5ldyBGbG9hdDMyQXJyYXkoZSk7cmV0dXJuIHRoaXMuX2ZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTt0LnR5cGU9dGhpcy5fdHlwZSx0LlEudmFsdWU9dGhpcy5RLnZhbHVlLHQuZnJlcXVlbmN5LnZhbHVlPXRoaXMuZnJlcXVlbmN5LnZhbHVlLHQuZ2Fpbi52YWx1ZT10aGlzLmdhaW4udmFsdWUsdC5nZXRGcmVxdWVuY3lSZXNwb25zZShuLHIsYSksci5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7aVtlXSo9dH0pfS5iaW5kKHRoaXMpKSxpfSx0LkZpbHRlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9maWx0ZXJzLmxlbmd0aDtlKyspdGhpcy5fZmlsdGVyc1tlXS5kaXNjb25uZWN0KCksdGhpcy5fZmlsdGVyc1tlXT1udWxsO3JldHVybiB0aGlzLl9maWx0ZXJzPW51bGwsdGhpcy5fd3JpdGFibGUoW1wiZGV0dW5lXCIsXCJmcmVxdWVuY3lcIixcImdhaW5cIixcIlFcIl0pLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLlEuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5PW51bGwsdGhpcy5RPW51bGwsdGhpcy5kZXR1bmUuZGlzcG9zZSgpLHRoaXMuZGV0dW5lPW51bGwsdGhpcy5nYWluLmRpc3Bvc2UoKSx0aGlzLmdhaW49bnVsbCx0aGlzfSx0LkZpbHRlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTWVyZ2U9ZnVuY3Rpb24oKXt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuY3JlYXRlSW5zT3V0cygyLDApLHRoaXMubGVmdD10aGlzLmlucHV0WzBdPW5ldyB0LkdhaW4sdGhpcy5yaWdodD10aGlzLmlucHV0WzFdPW5ldyB0LkdhaW4sdGhpcy5fbWVyZ2VyPXRoaXMub3V0cHV0PXRoaXMuY29udGV4dC5jcmVhdGVDaGFubmVsTWVyZ2VyKDIpLHRoaXMubGVmdC5jb25uZWN0KHRoaXMuX21lcmdlciwwLDApLHRoaXMucmlnaHQuY29ubmVjdCh0aGlzLl9tZXJnZXIsMCwxKSx0aGlzLmxlZnQuY2hhbm5lbENvdW50PTEsdGhpcy5yaWdodC5jaGFubmVsQ291bnQ9MSx0aGlzLmxlZnQuY2hhbm5lbENvdW50TW9kZT1cImV4cGxpY2l0XCIsdGhpcy5yaWdodC5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIn0sdC5leHRlbmQodC5NZXJnZSx0LkF1ZGlvTm9kZSksdC5NZXJnZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMubGVmdC5kaXNwb3NlKCksdGhpcy5sZWZ0PW51bGwsdGhpcy5yaWdodC5kaXNwb3NlKCksdGhpcy5yaWdodD1udWxsLHRoaXMuX21lcmdlci5kaXNjb25uZWN0KCksdGhpcy5fbWVyZ2VyPW51bGwsdGhpc30sdC5NZXJnZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgzNSksaSg0KSxpKDgxKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIixcIm9uZXJyb3JcIl0sdC5CdWZmZXIpO3QuY2FsbCh0aGlzKSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9yZXZlcnNlZD1lLnJldmVyc2UsdGhpcy5feGhyPW51bGwsdGhpcy5vbmxvYWQ9dC5ub09wLGUudXJsIGluc3RhbmNlb2YgQXVkaW9CdWZmZXJ8fGUudXJsIGluc3RhbmNlb2YgdC5CdWZmZXI/KHRoaXMuc2V0KGUudXJsKSx0aGlzLmxvYWRlZHx8KHRoaXMub25sb2FkPWUub25sb2FkKSk6dC5pc1N0cmluZyhlLnVybCkmJnRoaXMubG9hZChlLnVybCkudGhlbihlLm9ubG9hZCkuY2F0Y2goZS5vbmVycm9yKX0sdC5leHRlbmQodC5CdWZmZXIpLHQuQnVmZmVyLmRlZmF1bHRzPXt1cmw6dm9pZCAwLHJldmVyc2U6ITEsb25sb2FkOnQubm9PcCxvbmVycm9yOnQubm9PcH0sdC5CdWZmZXIucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQuQnVmZmVyP2UubG9hZGVkP3RoaXMuX2J1ZmZlcj1lLmdldCgpOmUub25sb2FkPWZ1bmN0aW9uKCl7dGhpcy5zZXQoZSksdGhpcy5vbmxvYWQodGhpcyl9LmJpbmQodGhpcyk6dGhpcy5fYnVmZmVyPWUsdGhpc30sdC5CdWZmZXIucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LHQuQnVmZmVyLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obyxzKXt0aGlzLl94aHI9dC5CdWZmZXIubG9hZChlLGZ1bmN0aW9uKHQpe3RoaXMuX3hocj1udWxsLHRoaXMuc2V0KHQpLG8odGhpcyksdGhpcy5vbmxvYWQodGhpcyksaSYmaSh0aGlzKX0uYmluZCh0aGlzKSxmdW5jdGlvbih0KXt0aGlzLl94aHI9bnVsbCxzKHQpLG4mJm4odCl9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX0sdC5CdWZmZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX3hociYmKHQuQnVmZmVyLl9yZW1vdmVGcm9tRG93bmxvYWRRdWV1ZSh0aGlzLl94aHIpLHRoaXMuX3hoci5hYm9ydCgpLHRoaXMuX3hocj1udWxsKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXIucHJvdG90eXBlLFwibG9hZGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD4wfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkJ1ZmZlci5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyP3RoaXMuX2J1ZmZlci5kdXJhdGlvbjowfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkJ1ZmZlci5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIubGVuZ3RoOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQnVmZmVyLnByb3RvdHlwZSxcIm51bWJlck9mQ2hhbm5lbHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIubnVtYmVyT2ZDaGFubmVsczowfX0pLHQuQnVmZmVyLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9dFswXS5sZW5ndGg+MCxpPWU/dC5sZW5ndGg6MSxuPWU/dFswXS5sZW5ndGg6dC5sZW5ndGgsbz10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyKGksbix0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZSk7ZXx8MSE9PWl8fCh0PVt0XSk7Zm9yKHZhciBzPTA7czxpO3MrKylvLmNvcHlUb0NoYW5uZWwodFtzXSxzKTtyZXR1cm4gdGhpcy5fYnVmZmVyPW8sdGhpc30sdC5CdWZmZXIucHJvdG90eXBlLnRvTW9ubz1mdW5jdGlvbihlKXtpZih0LmlzTnVtYmVyKGUpKXRoaXMuZnJvbUFycmF5KHRoaXMudG9BcnJheShlKSk7ZWxzZXtmb3IodmFyIGk9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmxlbmd0aCksbj10aGlzLm51bWJlck9mQ2hhbm5lbHMsbz0wO288bjtvKyspZm9yKHZhciBzPXRoaXMudG9BcnJheShvKSxyPTA7cjxzLmxlbmd0aDtyKyspaVtyXSs9c1tyXTtpPWkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0L259KSx0aGlzLmZyb21BcnJheShpKX1yZXR1cm4gdGhpc30sdC5CdWZmZXIucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSl7aWYodC5pc051bWJlcihlKSlyZXR1cm4gdGhpcy5nZXRDaGFubmVsRGF0YShlKTtpZigxPT09dGhpcy5udW1iZXJPZkNoYW5uZWxzKXJldHVybiB0aGlzLnRvQXJyYXkoMCk7Zm9yKHZhciBpPVtdLG49MDtuPHRoaXMubnVtYmVyT2ZDaGFubmVscztuKyspaVtuXT10aGlzLmdldENoYW5uZWxEYXRhKG4pO3JldHVybiBpfSx0LkJ1ZmZlci5wcm90b3R5cGUuZ2V0Q2hhbm5lbERhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRDaGFubmVsRGF0YSh0KX0sdC5CdWZmZXIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsaSl7aT10LmRlZmF1bHRBcmcoaSx0aGlzLmR1cmF0aW9uKTtmb3IodmFyIG49TWF0aC5mbG9vcih0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZSp0aGlzLnRvU2Vjb25kcyhlKSksbz1NYXRoLmZsb29yKHRoaXMuY29udGV4dC5zYW1wbGVSYXRlKnRoaXMudG9TZWNvbmRzKGkpKSxzPVtdLHI9MDtyPHRoaXMubnVtYmVyT2ZDaGFubmVscztyKyspc1tyXT10aGlzLnRvQXJyYXkocikuc2xpY2UobixvKTtyZXR1cm4obmV3IHQuQnVmZmVyKS5mcm9tQXJyYXkocyl9LHQuQnVmZmVyLnByb3RvdHlwZS5fcmV2ZXJzZT1mdW5jdGlvbigpe2lmKHRoaXMubG9hZGVkKWZvcih2YXIgdD0wO3Q8dGhpcy5udW1iZXJPZkNoYW5uZWxzO3QrKylBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKHRoaXMuZ2V0Q2hhbm5lbERhdGEodCkpO3JldHVybiB0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXIucHJvdG90eXBlLFwicmV2ZXJzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZXZlcnNlZCE9PXQmJih0aGlzLl9yZXZlcnNlZD10LHRoaXMuX3JldmVyc2UoKSl9fSksdC5FbWl0dGVyLm1peGluKHQuQnVmZmVyKSx0LkJ1ZmZlci5fZG93bmxvYWRRdWV1ZT1bXSx0LkJ1ZmZlci5iYXNlVXJsPVwiXCIsdC5CdWZmZXIuZnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybihuZXcgdC5CdWZmZXIpLmZyb21BcnJheShlKX0sdC5CdWZmZXIuZnJvbVVybD1mdW5jdGlvbihlKXt2YXIgaT1uZXcgdC5CdWZmZXI7cmV0dXJuIGkubG9hZChlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KX0sdC5CdWZmZXIuX3JlbW92ZUZyb21Eb3dubG9hZFF1ZXVlPWZ1bmN0aW9uKGUpe3ZhciBpPXQuQnVmZmVyLl9kb3dubG9hZFF1ZXVlLmluZGV4T2YoZSk7LTEhPT1pJiZ0LkJ1ZmZlci5fZG93bmxvYWRRdWV1ZS5zcGxpY2UoaSwxKX0sdC5CdWZmZXIubG9hZD1mdW5jdGlvbihlLGksbil7aT10LmRlZmF1bHRBcmcoaSx0Lm5vT3ApO3ZhciBvPWUubWF0Y2goL1xcWyguK1xcfD8pK1xcXSQvKTtpZihvKXtmb3IodmFyIHM9b1sxXS5zcGxpdChcInxcIikscj1zWzBdLGE9MDthPHMubGVuZ3RoO2ErKylpZih0LkJ1ZmZlci5zdXBwb3J0c1R5cGUoc1thXSkpe3I9c1thXTticmVha31lPWUucmVwbGFjZShvWzBdLHIpfWZ1bmN0aW9uIGwoZSl7aWYodC5CdWZmZXIuX3JlbW92ZUZyb21Eb3dubG9hZFF1ZXVlKHUpLHQuQnVmZmVyLmVtaXQoXCJlcnJvclwiLGUpLCFuKXRocm93IGU7bihlKX1mdW5jdGlvbiBoKCl7Zm9yKHZhciBlPTAsaT0wO2k8dC5CdWZmZXIuX2Rvd25sb2FkUXVldWUubGVuZ3RoO2krKyllKz10LkJ1ZmZlci5fZG93bmxvYWRRdWV1ZVtpXS5wcm9ncmVzczt0LkJ1ZmZlci5lbWl0KFwicHJvZ3Jlc3NcIixlL3QuQnVmZmVyLl9kb3dubG9hZFF1ZXVlLmxlbmd0aCl9dmFyIHU9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiB1Lm9wZW4oXCJHRVRcIix0LkJ1ZmZlci5iYXNlVXJsK2UsITApLHUucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIix1LnByb2dyZXNzPTAsdC5CdWZmZXIuX2Rvd25sb2FkUXVldWUucHVzaCh1KSx1LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXsyMDA9PT11LnN0YXR1cz90LmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHUucmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24oZSl7dS5wcm9ncmVzcz0xLGgoKSxpKGUpLHQuQnVmZmVyLl9yZW1vdmVGcm9tRG93bmxvYWRRdWV1ZSh1KSwwPT09dC5CdWZmZXIuX2Rvd25sb2FkUXVldWUubGVuZ3RoJiZ0LkJ1ZmZlci5lbWl0KFwibG9hZFwiKX0pLmNhdGNoKGZ1bmN0aW9uKCl7dC5CdWZmZXIuX3JlbW92ZUZyb21Eb3dubG9hZFF1ZXVlKHUpLGwoXCJUb25lLkJ1ZmZlcjogY291bGQgbm90IGRlY29kZSBhdWRpbyBkYXRhOiBcIitlKX0pOmwoXCJUb25lLkJ1ZmZlcjogY291bGQgbm90IGxvY2F0ZSBmaWxlOiBcIitlKX0pLHUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsbCksdS5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbih0KXt0Lmxlbmd0aENvbXB1dGFibGUmJih1LnByb2dyZXNzPXQubG9hZGVkL3QudG90YWwqLjk1LGgoKSl9KSx1LnNlbmQoKSx1fSx0LkJ1ZmZlci5jYW5jZWxEb3dubG9hZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5CdWZmZXIuX2Rvd25sb2FkUXVldWUuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuQnVmZmVyLl9yZW1vdmVGcm9tRG93bmxvYWRRdWV1ZShlKSxlLmFib3J0KCl9KSx0LkJ1ZmZlcn0sdC5CdWZmZXIuc3VwcG9ydHNUeXBlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIuXCIpO3JldHVybiBlPWVbZS5sZW5ndGgtMV0sXCJcIiE9PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKS5jYW5QbGF5VHlwZShcImF1ZGlvL1wiK2UpfSx0LmxvYWRlZD1mdW5jdGlvbigpe3ZhciBlLGk7ZnVuY3Rpb24gbigpe3QuQnVmZmVyLm9mZihcImxvYWRcIixlKSx0LkJ1ZmZlci5vZmYoXCJlcnJvclwiLGkpfXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLG8pe2U9ZnVuY3Rpb24oKXtuKCl9LGk9ZnVuY3Rpb24oKXtvKCl9LHQuQnVmZmVyLm9uKFwibG9hZFwiLGUpLHQuQnVmZmVyLm9uKFwiZXJyb3JcIixpKX0pLnRoZW4obikuY2F0Y2goZnVuY3Rpb24odCl7dGhyb3cgbigpLG5ldyBFcnJvcih0KX0pfSx0LkJ1ZmZlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxNyksaSgyNiksaSgyKSxpKDEpLGkoMjIpLGkoNCksaSgyOCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkxGTz1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwibWluXCIsXCJtYXhcIl0sdC5MRk8pO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5fb3NjaWxsYXRvcj1uZXcgdC5Pc2NpbGxhdG9yKHtmcmVxdWVuY3k6ZS5mcmVxdWVuY3ksdHlwZTplLnR5cGV9KSx0aGlzLmZyZXF1ZW5jeT10aGlzLl9vc2NpbGxhdG9yLmZyZXF1ZW5jeSx0aGlzLmFtcGxpdHVkZT10aGlzLl9vc2NpbGxhdG9yLnZvbHVtZSx0aGlzLmFtcGxpdHVkZS51bml0cz10LlR5cGUuTm9ybWFsUmFuZ2UsdGhpcy5hbXBsaXR1ZGUudmFsdWU9ZS5hbXBsaXR1ZGUsdGhpcy5fc3RvcHBlZFNpZ25hbD1uZXcgdC5TaWduYWwoMCx0LlR5cGUuQXVkaW9SYW5nZSksdGhpcy5femVyb3M9bmV3IHQuWmVybyx0aGlzLl9zdG9wcGVkVmFsdWU9MCx0aGlzLl9hMmc9bmV3IHQuQXVkaW9Ub0dhaW4sdGhpcy5fc2NhbGVyPXRoaXMub3V0cHV0PW5ldyB0LlNjYWxlKGUubWluLGUubWF4KSx0aGlzLl91bml0cz10LlR5cGUuRGVmYXVsdCx0aGlzLnVuaXRzPWUudW5pdHMsdGhpcy5fb3NjaWxsYXRvci5jaGFpbih0aGlzLl9hMmcsdGhpcy5fc2NhbGVyKSx0aGlzLl96ZXJvcy5jb25uZWN0KHRoaXMuX2EyZyksdGhpcy5fc3RvcHBlZFNpZ25hbC5jb25uZWN0KHRoaXMuX2EyZyksdGhpcy5fcmVhZE9ubHkoW1wiYW1wbGl0dWRlXCIsXCJmcmVxdWVuY3lcIl0pLHRoaXMucGhhc2U9ZS5waGFzZX0sdC5leHRlbmQodC5MRk8sdC5BdWRpb05vZGUpLHQuTEZPLmRlZmF1bHRzPXt0eXBlOlwic2luZVwiLG1pbjowLG1heDoxLHBoYXNlOjAsZnJlcXVlbmN5OlwiNG5cIixhbXBsaXR1ZGU6MSx1bml0czp0LlR5cGUuRGVmYXVsdH0sdC5MRk8ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX3N0b3BwZWRTaWduYWwuc2V0VmFsdWVBdFRpbWUoMCx0KSx0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KHQpLHRoaXN9LHQuTEZPLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX3N0b3BwZWRTaWduYWwuc2V0VmFsdWVBdFRpbWUodGhpcy5fc3RvcHBlZFZhbHVlLHQpLHRoaXMuX29zY2lsbGF0b3Iuc3RvcCh0KSx0aGlzfSx0LkxGTy5wcm90b3R5cGUuc3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnN5bmMoKSx0aGlzLl9vc2NpbGxhdG9yLnN5bmNGcmVxdWVuY3koKSx0aGlzfSx0LkxGTy5wcm90b3R5cGUudW5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3IudW5zeW5jKCksdGhpcy5fb3NjaWxsYXRvci51bnN5bmNGcmVxdWVuY3koKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5MRk8ucHJvdG90eXBlLFwibWluXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b1VuaXRzKHRoaXMuX3NjYWxlci5taW4pfSxzZXQ6ZnVuY3Rpb24odCl7dD10aGlzLl9mcm9tVW5pdHModCksdGhpcy5fc2NhbGVyLm1pbj10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkxGTy5wcm90b3R5cGUsXCJtYXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvVW5pdHModGhpcy5fc2NhbGVyLm1heCl9LHNldDpmdW5jdGlvbih0KXt0PXRoaXMuX2Zyb21Vbml0cyh0KSx0aGlzLl9zY2FsZXIubWF4PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTEZPLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3IudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29zY2lsbGF0b3IudHlwZT10LHRoaXMuX3N0b3BwZWRWYWx1ZT10aGlzLl9vc2NpbGxhdG9yLl9nZXRJbml0aWFsVmFsdWUoKSx0aGlzLl9zdG9wcGVkU2lnbmFsLnZhbHVlPXRoaXMuX3N0b3BwZWRWYWx1ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5MRk8ucHJvdG90eXBlLFwicGhhc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3IucGhhc2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vc2NpbGxhdG9yLnBoYXNlPXQsdGhpcy5fc3RvcHBlZFZhbHVlPXRoaXMuX29zY2lsbGF0b3IuX2dldEluaXRpYWxWYWx1ZSgpLHRoaXMuX3N0b3BwZWRTaWduYWwudmFsdWU9dGhpcy5fc3RvcHBlZFZhbHVlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkxGTy5wcm90b3R5cGUsXCJ1bml0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pdHN9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm1pbixpPXRoaXMubWF4O3RoaXMuX3VuaXRzPXQsdGhpcy5taW49ZSx0aGlzLm1heD1pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkxGTy5wcm90b3R5cGUsXCJtdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLm11dGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vc2NpbGxhdG9yLm11dGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5MRk8ucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3Iuc3RhdGV9fSksdC5MRk8ucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29uc3RydWN0b3IhPT10LlNpZ25hbCYmZS5jb25zdHJ1Y3RvciE9PXQuUGFyYW18fCh0aGlzLmNvbnZlcnQ9ZS5jb252ZXJ0LHRoaXMudW5pdHM9ZS51bml0cyksdC5TaWduYWxCYXNlLnByb3RvdHlwZS5jb25uZWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzfSx0LkxGTy5wcm90b3R5cGUuX2Zyb21Vbml0cz10LlBhcmFtLnByb3RvdHlwZS5fZnJvbVVuaXRzLHQuTEZPLnByb3RvdHlwZS5fdG9Vbml0cz10LlBhcmFtLnByb3RvdHlwZS5fdG9Vbml0cyx0LkxGTy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcImFtcGxpdHVkZVwiLFwiZnJlcXVlbmN5XCJdKSx0aGlzLl9vc2NpbGxhdG9yLmRpc3Bvc2UoKSx0aGlzLl9vc2NpbGxhdG9yPW51bGwsdGhpcy5fc3RvcHBlZFNpZ25hbC5kaXNwb3NlKCksdGhpcy5fc3RvcHBlZFNpZ25hbD1udWxsLHRoaXMuX3plcm9zLmRpc3Bvc2UoKSx0aGlzLl96ZXJvcz1udWxsLHRoaXMuX3NjYWxlci5kaXNwb3NlKCksdGhpcy5fc2NhbGVyPW51bGwsdGhpcy5fYTJnLmRpc3Bvc2UoKSx0aGlzLl9hMmc9bnVsbCx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuYW1wbGl0dWRlPW51bGwsdGhpc30sdC5MRk99LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjkpLGkoOTQpLGkoMSksaSgzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU3VidHJhY3Q9ZnVuY3Rpb24oZSl7dC5TaWduYWwuY2FsbCh0aGlzKSx0aGlzLmNyZWF0ZUluc091dHMoMiwwKSx0aGlzLl9zdW09dGhpcy5pbnB1dFswXT10aGlzLm91dHB1dD1uZXcgdC5HYWluLHRoaXMuX25lZz1uZXcgdC5OZWdhdGUsdGhpcy5fcGFyYW09dGhpcy5pbnB1dFsxXT1uZXcgdC5TaWduYWwoZSksdGhpcy5fcGFyYW0uY2hhaW4odGhpcy5fbmVnLHRoaXMuX3N1bSksdGhpcy5wcm94eT0hMX0sdC5leHRlbmQodC5TdWJ0cmFjdCx0LlNpZ25hbCksdC5TdWJ0cmFjdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNpZ25hbC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX25lZy5kaXNwb3NlKCksdGhpcy5fbmVnPW51bGwsdGhpcy5fc3VtLmRpc2Nvbm5lY3QoKSx0aGlzLl9zdW09bnVsbCx0aGlzfSx0LlN1YnRyYWN0fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDQpLGkoMiksaSgyNCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlBhcmFtPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wicGFyYW1cIixcInVuaXRzXCIsXCJjb252ZXJ0XCJdLHQuUGFyYW0pO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyxlKSx0aGlzLl9wYXJhbT10aGlzLmlucHV0PWUucGFyYW0sdGhpcy51bml0cz1lLnVuaXRzLHRoaXMuY29udmVydD1lLmNvbnZlcnQsdGhpcy5vdmVycmlkZGVuPSExLHRoaXMuX2V2ZW50cz1uZXcgdC5UaW1lbGluZSgxZTMpLHQuaXNEZWZpbmVkKGUudmFsdWUpJiZ0aGlzLl9wYXJhbSYmdGhpcy5zZXRWYWx1ZUF0VGltZShlLnZhbHVlLDApfSx0LmV4dGVuZCh0LlBhcmFtLHQuQXVkaW9Ob2RlKSx0LlBhcmFtLmRlZmF1bHRzPXt1bml0czp0LlR5cGUuRGVmYXVsdCxjb252ZXJ0OiEwLHBhcmFtOnZvaWQgMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFyYW0ucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub3coKTtyZXR1cm4gdGhpcy5fdG9Vbml0cyh0aGlzLmdldFZhbHVlQXRUaW1lKHQpKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luaXRpYWxWYWx1ZT10aGlzLl9mcm9tVW5pdHModCksdGhpcy5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGhpcy5ub3coKSksdGhpcy5zZXRWYWx1ZUF0VGltZSh0LHRoaXMubm93KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBhcmFtLnByb3RvdHlwZSxcIm1pblZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaXRzPT09dC5UeXBlLlRpbWV8fHRoaXMudW5pdHM9PT10LlR5cGUuRnJlcXVlbmN5fHx0aGlzLnVuaXRzPT09dC5UeXBlLk5vcm1hbFJhbmdlfHx0aGlzLnVuaXRzPT09dC5UeXBlLlBvc2l0aXZlfHx0aGlzLnVuaXRzPT09dC5UeXBlLkJQTT8wOnRoaXMudW5pdHM9PT10LlR5cGUuQXVkaW9SYW5nZT8tMTp0aGlzLnVuaXRzPT09dC5UeXBlLkRlY2liZWxzPy0xLzA6dGhpcy5fcGFyYW0ubWluVmFsdWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFyYW0ucHJvdG90eXBlLFwibWF4VmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pdHM9PT10LlR5cGUuTm9ybWFsUmFuZ2V8fHRoaXMudW5pdHM9PT10LlR5cGUuQXVkaW9SYW5nZT8xOnRoaXMuX3BhcmFtLm1heFZhbHVlfX0pLHQuUGFyYW0ucHJvdG90eXBlLl9mcm9tVW5pdHM9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29udmVydCYmIXQuaXNVbmRlZih0aGlzLmNvbnZlcnQpfHx0aGlzLm92ZXJyaWRkZW4pcmV0dXJuIGU7c3dpdGNoKHRoaXMudW5pdHMpe2Nhc2UgdC5UeXBlLlRpbWU6cmV0dXJuIHRoaXMudG9TZWNvbmRzKGUpO2Nhc2UgdC5UeXBlLkZyZXF1ZW5jeTpyZXR1cm4gdGhpcy50b0ZyZXF1ZW5jeShlKTtjYXNlIHQuVHlwZS5EZWNpYmVsczpyZXR1cm4gdC5kYlRvR2FpbihlKTtjYXNlIHQuVHlwZS5Ob3JtYWxSYW5nZTpyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKTtjYXNlIHQuVHlwZS5BdWRpb1JhbmdlOnJldHVybiBNYXRoLm1pbihNYXRoLm1heChlLC0xKSwxKTtjYXNlIHQuVHlwZS5Qb3NpdGl2ZTpyZXR1cm4gTWF0aC5tYXgoZSwwKTtkZWZhdWx0OnJldHVybiBlfX0sdC5QYXJhbS5wcm90b3R5cGUuX3RvVW5pdHM9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29udmVydCYmIXQuaXNVbmRlZih0aGlzLmNvbnZlcnQpKXJldHVybiBlO3N3aXRjaCh0aGlzLnVuaXRzKXtjYXNlIHQuVHlwZS5EZWNpYmVsczpyZXR1cm4gdC5nYWluVG9EYihlKTtkZWZhdWx0OnJldHVybiBlfX0sdC5QYXJhbS5wcm90b3R5cGUuX21pbk91dHB1dD0xZS01LHQuUGFyYW0uQXV0b21hdGlvblR5cGU9e0xpbmVhcjpcImxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lXCIsRXhwb25lbnRpYWw6XCJleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lXCIsVGFyZ2V0Olwic2V0VGFyZ2V0QXRUaW1lXCIsU2V0VmFsdWU6XCJzZXRWYWx1ZUF0VGltZVwiLENhbmNlbDpcImNhbmNlbFNjaGVkdWxlZFZhbHVlc1wifSx0LlBhcmFtLnByb3RvdHlwZS5zZXRWYWx1ZUF0VGltZT1mdW5jdGlvbihlLGkpe3JldHVybiBpPXRoaXMudG9TZWNvbmRzKGkpLGU9dGhpcy5fZnJvbVVuaXRzKGUpLHRoaXMuX2V2ZW50cy5hZGQoe3R5cGU6dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5TZXRWYWx1ZSx2YWx1ZTplLHRpbWU6aX0pLHRoaXMubG9nKHQuUGFyYW0uQXV0b21hdGlvblR5cGUuU2V0VmFsdWUsZSxpKSx0aGlzLl9wYXJhbS5zZXRWYWx1ZUF0VGltZShlLGkpLHRoaXN9LHQuUGFyYW0ucHJvdG90eXBlLmdldFZhbHVlQXRUaW1lPWZ1bmN0aW9uKGUpe2U9dGhpcy50b1NlY29uZHMoZSk7dmFyIGk9dGhpcy5fZXZlbnRzLmdldEFmdGVyKGUpLG49dGhpcy5fZXZlbnRzLmdldChlKSxvPXQuZGVmYXVsdEFyZyh0aGlzLl9pbml0aWFsVmFsdWUsdGhpcy5fcGFyYW0uZGVmYXVsdFZhbHVlKSxzPW87aWYobnVsbD09PW4pcz1vO2Vsc2UgaWYobi50eXBlPT09dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5UYXJnZXQpe3ZhciByLGE9dGhpcy5fZXZlbnRzLmdldEJlZm9yZShuLnRpbWUpO3I9bnVsbD09PWE/bzphLnZhbHVlLHM9dGhpcy5fZXhwb25lbnRpYWxBcHByb2FjaChuLnRpbWUscixuLnZhbHVlLG4uY29uc3RhbnQsZSl9ZWxzZSBzPW51bGw9PT1pP24udmFsdWU6aS50eXBlPT09dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5MaW5lYXI/dGhpcy5fbGluZWFySW50ZXJwb2xhdGUobi50aW1lLG4udmFsdWUsaS50aW1lLGkudmFsdWUsZSk6aS50eXBlPT09dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5FeHBvbmVudGlhbD90aGlzLl9leHBvbmVudGlhbEludGVycG9sYXRlKG4udGltZSxuLnZhbHVlLGkudGltZSxpLnZhbHVlLGUpOm4udmFsdWU7cmV0dXJuIHN9LHQuUGFyYW0ucHJvdG90eXBlLnNldFJhbXBQb2ludD1mdW5jdGlvbih0KXt0PXRoaXMudG9TZWNvbmRzKHQpO3ZhciBlPXRoaXMuZ2V0VmFsdWVBdFRpbWUodCk7cmV0dXJuIHRoaXMuY2FuY2VsQW5kSG9sZEF0VGltZSh0KSwwPT09ZSYmKGU9dGhpcy5fbWluT3V0cHV0KSx0aGlzLnNldFZhbHVlQXRUaW1lKHRoaXMuX3RvVW5pdHMoZSksdCksdGhpc30sdC5QYXJhbS5wcm90b3R5cGUubGluZWFyUmFtcFRvVmFsdWVBdFRpbWU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10aGlzLl9mcm9tVW5pdHMoZSksaT10aGlzLnRvU2Vjb25kcyhpKSx0aGlzLl9ldmVudHMuYWRkKHt0eXBlOnQuUGFyYW0uQXV0b21hdGlvblR5cGUuTGluZWFyLHZhbHVlOmUsdGltZTppfSksdGhpcy5sb2codC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5MaW5lYXIsZSxpKSx0aGlzLl9wYXJhbS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShlLGkpLHRoaXN9LHQuUGFyYW0ucHJvdG90eXBlLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10aGlzLl9mcm9tVW5pdHMoZSksZT1NYXRoLm1heCh0aGlzLl9taW5PdXRwdXQsZSksaT10aGlzLnRvU2Vjb25kcyhpKSx0aGlzLl9ldmVudHMuYWRkKHt0eXBlOnQuUGFyYW0uQXV0b21hdGlvblR5cGUuRXhwb25lbnRpYWwsdGltZTppLHZhbHVlOmV9KSx0aGlzLmxvZyh0LlBhcmFtLkF1dG9tYXRpb25UeXBlLkV4cG9uZW50aWFsLGUsaSksdGhpcy5fcGFyYW0uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShlLGkpLHRoaXN9LHQuUGFyYW0ucHJvdG90eXBlLmV4cG9uZW50aWFsUmFtcFRvPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaT10aGlzLnRvU2Vjb25kcyhpKSx0aGlzLnNldFJhbXBQb2ludChpKSx0aGlzLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUodCxpK3RoaXMudG9TZWNvbmRzKGUpKSx0aGlzfSx0LlBhcmFtLnByb3RvdHlwZS5saW5lYXJSYW1wVG89ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPXRoaXMudG9TZWNvbmRzKGkpLHRoaXMuc2V0UmFtcFBvaW50KGkpLHRoaXMubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodCxpK3RoaXMudG9TZWNvbmRzKGUpKSx0aGlzfSx0LlBhcmFtLnByb3RvdHlwZS50YXJnZXRSYW1wVG89ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPXRoaXMudG9TZWNvbmRzKGkpLHRoaXMuc2V0UmFtcFBvaW50KGkpLHRoaXMuZXhwb25lbnRpYWxBcHByb2FjaFZhbHVlQXRUaW1lKHQsaSxlKSx0aGlzfSx0LlBhcmFtLnByb3RvdHlwZS5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWU9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPU1hdGgubG9nKHRoaXMudG9TZWNvbmRzKGkpKzEpL01hdGgubG9nKDIwMCk7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdGhpcy5zZXRUYXJnZXRBdFRpbWUodCxlLG4pfSx0LlBhcmFtLnByb3RvdHlwZS5zZXRUYXJnZXRBdFRpbWU9ZnVuY3Rpb24oZSxpLG4pe2lmKGU9dGhpcy5fZnJvbVVuaXRzKGUpLG48PTApdGhyb3cgbmV3IEVycm9yKFwidGltZUNvbnN0YW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDBcIik7cmV0dXJuIGk9dGhpcy50b1NlY29uZHMoaSksdGhpcy5fZXZlbnRzLmFkZCh7dHlwZTp0LlBhcmFtLkF1dG9tYXRpb25UeXBlLlRhcmdldCx2YWx1ZTplLHRpbWU6aSxjb25zdGFudDpufSksdGhpcy5sb2codC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5UYXJnZXQsZSxpLG4pLHRoaXMuX3BhcmFtLnNldFRhcmdldEF0VGltZShlLGksbiksdGhpc30sdC5QYXJhbS5wcm90b3R5cGUuc2V0VmFsdWVDdXJ2ZUF0VGltZT1mdW5jdGlvbihlLGksbixvKXtvPXQuZGVmYXVsdEFyZyhvLDEpLG49dGhpcy50b1NlY29uZHMobiksaT10aGlzLnRvU2Vjb25kcyhpKSx0aGlzLnNldFZhbHVlQXRUaW1lKGVbMF0qbyxpKTtmb3IodmFyIHM9bi8oZS5sZW5ndGgtMSkscj0xO3I8ZS5sZW5ndGg7cisrKXRoaXMubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZVtyXSpvLGkrcipzKTtyZXR1cm4gdGhpc30sdC5QYXJhbS5wcm90b3R5cGUuY2FuY2VsU2NoZWR1bGVkVmFsdWVzPWZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMudG9TZWNvbmRzKGUpLHRoaXMuX2V2ZW50cy5jYW5jZWwoZSksdGhpcy5fcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGUpLHRoaXMubG9nKHQuUGFyYW0uQXV0b21hdGlvblR5cGUuQ2FuY2VsLGUpLHRoaXN9LHQuUGFyYW0ucHJvdG90eXBlLmNhbmNlbEFuZEhvbGRBdFRpbWU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5nZXRWYWx1ZUF0VGltZShlKTt0aGlzLmxvZyhcImNhbmNlbEFuZEhvbGRBdFRpbWVcIixlLFwidmFsdWU9XCIraSksdGhpcy5fcGFyYW0uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKGUpO3ZhciBuPXRoaXMuX2V2ZW50cy5nZXQoZSksbz10aGlzLl9ldmVudHMuZ2V0QWZ0ZXIoZSk7cmV0dXJuIG4mJm4udGltZT09PWU/bz90aGlzLl9ldmVudHMuY2FuY2VsKG8udGltZSk6dGhpcy5fZXZlbnRzLmNhbmNlbChlK3RoaXMuc2FtcGxlVGltZSk6byYmKHRoaXMuX2V2ZW50cy5jYW5jZWwoby50aW1lKSxvLnR5cGU9PT10LlBhcmFtLkF1dG9tYXRpb25UeXBlLkxpbmVhcj90aGlzLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGksZSk6by50eXBlPT09dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5FeHBvbmVudGlhbCYmdGhpcy5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKGksZSkpLHRoaXMuX2V2ZW50cy5hZGQoe3R5cGU6dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5TZXRWYWx1ZSx2YWx1ZTppLHRpbWU6ZX0pLHRoaXMuX3BhcmFtLnNldFZhbHVlQXRUaW1lKGksZSksdGhpc30sdC5QYXJhbS5wcm90b3R5cGUucmFtcFRvPWZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gaT10LmRlZmF1bHRBcmcoaSwuMSksdGhpcy51bml0cz09PXQuVHlwZS5GcmVxdWVuY3l8fHRoaXMudW5pdHM9PT10LlR5cGUuQlBNfHx0aGlzLnVuaXRzPT09dC5UeXBlLkRlY2liZWxzP3RoaXMuZXhwb25lbnRpYWxSYW1wVG8oZSxpLG4pOnRoaXMubGluZWFyUmFtcFRvKGUsaSxuKSx0aGlzfSx0LlBhcmFtLnByb3RvdHlwZS5fZXhwb25lbnRpYWxBcHByb2FjaD1mdW5jdGlvbih0LGUsaSxuLG8pe3JldHVybiBpKyhlLWkpKk1hdGguZXhwKC0oby10KS9uKX0sdC5QYXJhbS5wcm90b3R5cGUuX2xpbmVhckludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIGUrKG8tdCkvKGktdCkqKG4tZSl9LHQuUGFyYW0ucHJvdG90eXBlLl9leHBvbmVudGlhbEludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIGUqTWF0aC5wb3cobi9lLChvLXQpLyhpLXQpKX0sdC5QYXJhbS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3BhcmFtPW51bGwsdGhpcy5fZXZlbnRzPW51bGwsdGhpc30sdC5QYXJhbX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4KSxpKDE5KSxpKDEwKSxpKDIzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU3RlcmVvRWZmZWN0PWZ1bmN0aW9uKCl7dC5BdWRpb05vZGUuY2FsbCh0aGlzKTt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ3ZXRcIl0sdC5FZmZlY3QpO3RoaXMuY3JlYXRlSW5zT3V0cygxLDEpLHRoaXMuX2RyeVdldD1uZXcgdC5Dcm9zc0ZhZGUoZS53ZXQpLHRoaXMud2V0PXRoaXMuX2RyeVdldC5mYWRlLHRoaXMuX3NwbGl0PW5ldyB0LlNwbGl0LHRoaXMuZWZmZWN0U2VuZEw9dGhpcy5fc3BsaXQubGVmdCx0aGlzLmVmZmVjdFNlbmRSPXRoaXMuX3NwbGl0LnJpZ2h0LHRoaXMuX21lcmdlPW5ldyB0Lk1lcmdlLHRoaXMuZWZmZWN0UmV0dXJuTD10aGlzLl9tZXJnZS5sZWZ0LHRoaXMuZWZmZWN0UmV0dXJuUj10aGlzLl9tZXJnZS5yaWdodCx0aGlzLmlucHV0LmNvbm5lY3QodGhpcy5fc3BsaXQpLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLl9kcnlXZXQsMCwwKSx0aGlzLl9tZXJnZS5jb25uZWN0KHRoaXMuX2RyeVdldCwwLDEpLHRoaXMuX2RyeVdldC5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9yZWFkT25seShbXCJ3ZXRcIl0pfSx0LmV4dGVuZCh0LlN0ZXJlb0VmZmVjdCx0LkVmZmVjdCksdC5TdGVyZW9FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9kcnlXZXQuZGlzcG9zZSgpLHRoaXMuX2RyeVdldD1udWxsLHRoaXMuX3NwbGl0LmRpc3Bvc2UoKSx0aGlzLl9zcGxpdD1udWxsLHRoaXMuX21lcmdlLmRpc3Bvc2UoKSx0aGlzLl9tZXJnZT1udWxsLHRoaXMuZWZmZWN0U2VuZEw9bnVsbCx0aGlzLmVmZmVjdFNlbmRSPW51bGwsdGhpcy5lZmZlY3RSZXR1cm5MPW51bGwsdGhpcy5lZmZlY3RSZXR1cm5SPW51bGwsdGhpcy5fd3JpdGFibGUoW1wid2V0XCJdKSx0aGlzLndldD1udWxsLHRoaXN9LHQuU3RlcmVvRWZmZWN0fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDg2KSxpKDQpLGkoMjQpLGkoMzUpLGkoMyksaSg4NCksaSg4MyksaSg1NSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QuVHJhbnNwb3J0PWZ1bmN0aW9uKCl7dC5FbWl0dGVyLmNhbGwodGhpcyksdC5nZXRDb250ZXh0KGZ1bmN0aW9uKCl7dGhpcy5sb29wPSExLHRoaXMuX2xvb3BTdGFydD0wLHRoaXMuX2xvb3BFbmQ9MCx0aGlzLl9wcHE9ZS5kZWZhdWx0cy5QUFEsdGhpcy5fY2xvY2s9bmV3IHQuQ2xvY2soe2NhbGxiYWNrOnRoaXMuX3Byb2Nlc3NUaWNrLmJpbmQodGhpcyksZnJlcXVlbmN5OjB9KSx0aGlzLl9iaW5kQ2xvY2tFdmVudHMoKSx0aGlzLmJwbT10aGlzLl9jbG9jay5mcmVxdWVuY3ksdGhpcy5icG0uX3RvVW5pdHM9dGhpcy5fdG9Vbml0cy5iaW5kKHRoaXMpLHRoaXMuYnBtLl9mcm9tVW5pdHM9dGhpcy5fZnJvbVVuaXRzLmJpbmQodGhpcyksdGhpcy5icG0udW5pdHM9dC5UeXBlLkJQTSx0aGlzLmJwbS52YWx1ZT1lLmRlZmF1bHRzLmJwbSx0aGlzLl9yZWFkT25seShcImJwbVwiKSx0aGlzLl90aW1lU2lnbmF0dXJlPWUuZGVmYXVsdHMudGltZVNpZ25hdHVyZSx0aGlzLl9zY2hlZHVsZWRFdmVudHM9e30sdGhpcy5fdGltZWxpbmU9bmV3IHQuVGltZWxpbmUsdGhpcy5fcmVwZWF0ZWRFdmVudHM9bmV3IHQuSW50ZXJ2YWxUaW1lbGluZSx0aGlzLl9zeW5jZWRTaWduYWxzPVtdLHRoaXMuX3N3aW5nVGlja3M9ZS5kZWZhdWx0cy5QUFEvMix0aGlzLl9zd2luZ0Ftb3VudD0wLHRoaXMuY29udGV4dC50cmFuc3BvcnQ9dGhpc30uYmluZCh0aGlzKSl9LHQuZXh0ZW5kKHQuVHJhbnNwb3J0LHQuRW1pdHRlciksdC5UcmFuc3BvcnQuZGVmYXVsdHM9e2JwbToxMjAsc3dpbmc6MCxzd2luZ1N1YmRpdmlzaW9uOlwiOG5cIix0aW1lU2lnbmF0dXJlOjQsbG9vcFN0YXJ0OjAsbG9vcEVuZDpcIjRtXCIsUFBROjE5Mn0sdC5UcmFuc3BvcnQucHJvdG90eXBlLmlzVHJhbnNwb3J0PSEwLHQuVHJhbnNwb3J0LnByb3RvdHlwZS5fcHJvY2Vzc1RpY2s9ZnVuY3Rpb24oZSxpKXtpZih0aGlzLl9zd2luZ0Ftb3VudD4wJiZpJXRoaXMuX3BwcSE9MCYmaSUoMip0aGlzLl9zd2luZ1RpY2tzKSE9MCl7dmFyIG49aSUoMip0aGlzLl9zd2luZ1RpY2tzKS8oMip0aGlzLl9zd2luZ1RpY2tzKSxvPU1hdGguc2luKG4qTWF0aC5QSSkqdGhpcy5fc3dpbmdBbW91bnQ7ZSs9dC5UaWNrcygyKnRoaXMuX3N3aW5nVGlja3MvMykudG9TZWNvbmRzKCkqb310aGlzLmxvb3AmJmk+PXRoaXMuX2xvb3BFbmQmJih0aGlzLmVtaXQoXCJsb29wRW5kXCIsZSksdGhpcy5fY2xvY2suc2V0VGlja3NBdFRpbWUodGhpcy5fbG9vcFN0YXJ0LGUpLGk9dGhpcy5fbG9vcFN0YXJ0LHRoaXMuZW1pdChcImxvb3BTdGFydFwiLGUsdGhpcy5fY2xvY2suZ2V0U2Vjb25kc0F0VGltZShlKSksdGhpcy5lbWl0KFwibG9vcFwiLGUpKSx0aGlzLl90aW1lbGluZS5mb3JFYWNoQXRUaW1lKGksZnVuY3Rpb24odCl7dC5pbnZva2UoZSl9KX0sdC5UcmFuc3BvcnQucHJvdG90eXBlLnNjaGVkdWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG49bmV3IHQuVHJhbnNwb3J0RXZlbnQodGhpcyx7dGltZTp0LlRyYW5zcG9ydFRpbWUoaSksY2FsbGJhY2s6ZX0pO3JldHVybiB0aGlzLl9hZGRFdmVudChuLHRoaXMuX3RpbWVsaW5lKX0sdC5UcmFuc3BvcnQucHJvdG90eXBlLnNjaGVkdWxlUmVwZWF0PWZ1bmN0aW9uKGUsaSxuLG8pe3ZhciBzPW5ldyB0LlRyYW5zcG9ydFJlcGVhdEV2ZW50KHRoaXMse2NhbGxiYWNrOmUsaW50ZXJ2YWw6dC5UaW1lKGkpLHRpbWU6dC5UcmFuc3BvcnRUaW1lKG4pLGR1cmF0aW9uOnQuVGltZSh0LmRlZmF1bHRBcmcobywxLzApKX0pO3JldHVybiB0aGlzLl9hZGRFdmVudChzLHRoaXMuX3JlcGVhdGVkRXZlbnRzKX0sdC5UcmFuc3BvcnQucHJvdG90eXBlLnNjaGVkdWxlT25jZT1mdW5jdGlvbihlLGkpe3ZhciBuPW5ldyB0LlRyYW5zcG9ydEV2ZW50KHRoaXMse3RpbWU6dC5UcmFuc3BvcnRUaW1lKGkpLGNhbGxiYWNrOmUsb25jZTohMH0pO3JldHVybiB0aGlzLl9hZGRFdmVudChuLHRoaXMuX3RpbWVsaW5lKX0sdC5UcmFuc3BvcnQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3NjaGVkdWxlZEV2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGU9dGhpcy5fc2NoZWR1bGVkRXZlbnRzW3QudG9TdHJpbmcoKV07ZS50aW1lbGluZS5yZW1vdmUoZS5ldmVudCksZS5ldmVudC5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3NjaGVkdWxlZEV2ZW50c1t0LnRvU3RyaW5nKCldfXJldHVybiB0aGlzfSx0LlRyYW5zcG9ydC5wcm90b3R5cGUuX2FkZEV2ZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlZEV2ZW50c1t0LmlkLnRvU3RyaW5nKCldPXtldmVudDp0LHRpbWVsaW5lOmV9LGUuYWRkKHQpLHQuaWR9LHQuVHJhbnNwb3J0LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dC5kZWZhdWx0QXJnKGUsMCksZT10aGlzLnRvVGlja3MoZSksdGhpcy5fdGltZWxpbmUuZm9yRWFjaEZyb20oZSxmdW5jdGlvbih0KXt0aGlzLmNsZWFyKHQuaWQpfS5iaW5kKHRoaXMpKSx0aGlzLl9yZXBlYXRlZEV2ZW50cy5mb3JFYWNoRnJvbShlLGZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIodC5pZCl9LmJpbmQodGhpcykpLHRoaXN9LHQuVHJhbnNwb3J0LnByb3RvdHlwZS5fYmluZENsb2NrRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5fY2xvY2sub24oXCJzdGFydFwiLGZ1bmN0aW9uKGUsaSl7aT10LlRpY2tzKGkpLnRvU2Vjb25kcygpLHRoaXMuZW1pdChcInN0YXJ0XCIsZSxpKX0uYmluZCh0aGlzKSksdGhpcy5fY2xvY2sub24oXCJzdG9wXCIsZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwic3RvcFwiLHQpfS5iaW5kKHRoaXMpKSx0aGlzLl9jbG9jay5vbihcInBhdXNlXCIsZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicGF1c2VcIix0KX0uYmluZCh0aGlzKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJzdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvY2suZ2V0U3RhdGVBdFRpbWUodGhpcy5ub3coKSl9fSksdC5UcmFuc3BvcnQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuaXNEZWZpbmVkKGkpJiYoaT10aGlzLnRvVGlja3MoaSkpLHRoaXMuX2Nsb2NrLnN0YXJ0KGUsaSksdGhpc30sdC5UcmFuc3BvcnQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Nsb2NrLnN0b3AodCksdGhpc30sdC5UcmFuc3BvcnQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jbG9jay5wYXVzZSh0KSx0aGlzfSx0LlRyYW5zcG9ydC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMudG9TZWNvbmRzKGUpLHRoaXMuX2Nsb2NrLmdldFN0YXRlQXRUaW1lKGUpIT09dC5TdGF0ZS5TdGFydGVkP3RoaXMuc3RhcnQoZSk6dGhpcy5zdG9wKGUpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJ0aW1lU2lnbmF0dXJlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lU2lnbmF0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dC5pc0FycmF5KGUpJiYoZT1lWzBdL2VbMV0qNCksdGhpcy5fdGltZVNpZ25hdHVyZT1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJsb29wU3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVGlja3ModGhpcy5fbG9vcFN0YXJ0KS50b1NlY29uZHMoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3BTdGFydD10aGlzLnRvVGlja3ModCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuVHJhbnNwb3J0LnByb3RvdHlwZSxcImxvb3BFbmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVGlja3ModGhpcy5fbG9vcEVuZCkudG9TZWNvbmRzKCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wRW5kPXRoaXMudG9UaWNrcyh0KX19KSx0LlRyYW5zcG9ydC5wcm90b3R5cGUuc2V0TG9vcFBvaW50cz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxvb3BTdGFydD10LHRoaXMubG9vcEVuZD1lLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJzd2luZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3dpbmdBbW91bnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zd2luZ0Ftb3VudD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJzd2luZ1N1YmRpdmlzaW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlRpY2tzKHRoaXMuX3N3aW5nVGlja3MpLnRvTm90YXRpb24oKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N3aW5nVGlja3M9dGhpcy50b1RpY2tzKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJwb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5vdygpLGk9dGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUoZSk7cmV0dXJuIHQuVGlja3MoaSkudG9CYXJzQmVhdHNTaXh0ZWVudGhzKCl9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRvVGlja3ModCk7dGhpcy50aWNrcz1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJzZWNvbmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9jay5zZWNvbmRzfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub3coKSxpPXRoaXMuYnBtLnRpbWVUb1RpY2tzKHQsZSk7dGhpcy50aWNrcz1pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyYW5zcG9ydC5wcm90b3R5cGUsXCJwcm9ncmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmxvb3Ape3ZhciB0PXRoaXMubm93KCk7cmV0dXJuKHRoaXMuX2Nsb2NrLmdldFRpY2tzQXRUaW1lKHQpLXRoaXMuX2xvb3BTdGFydCkvKHRoaXMuX2xvb3BFbmQtdGhpcy5fbG9vcFN0YXJ0KX1yZXR1cm4gMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5UcmFuc3BvcnQucHJvdG90eXBlLFwidGlja3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb2NrLnRpY2tzfSxzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5fY2xvY2sudGlja3MhPT1lKXt2YXIgaT10aGlzLm5vdygpO3RoaXMuc3RhdGU9PT10LlN0YXRlLlN0YXJ0ZWQ/KHRoaXMuZW1pdChcInN0b3BcIixpKSx0aGlzLl9jbG9jay5zZXRUaWNrc0F0VGltZShlLGkpLHRoaXMuZW1pdChcInN0YXJ0XCIsaSx0aGlzLnNlY29uZHMpKTp0aGlzLl9jbG9jay5zZXRUaWNrc0F0VGltZShlLGkpfX19KSx0LlRyYW5zcG9ydC5wcm90b3R5cGUuZ2V0VGlja3NBdFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy5fY2xvY2suZ2V0VGlja3NBdFRpbWUodCkpfSx0LlRyYW5zcG9ydC5wcm90b3R5cGUuZ2V0U2Vjb25kc0F0VGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2xvY2suZ2V0U2Vjb25kc0F0VGltZSh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuVHJhbnNwb3J0LnByb3RvdHlwZSxcIlBQUVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHBxfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5icG0udmFsdWU7dGhpcy5fcHBxPXQsdGhpcy5icG0udmFsdWU9ZX19KSx0LlRyYW5zcG9ydC5wcm90b3R5cGUuX2Zyb21Vbml0cz1mdW5jdGlvbih0KXtyZXR1cm4gMS8oNjAvdC90aGlzLlBQUSl9LHQuVHJhbnNwb3J0LnByb3RvdHlwZS5fdG9Vbml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdC90aGlzLlBQUSo2MH0sdC5UcmFuc3BvcnQucHJvdG90eXBlLm5leHRTdWJkaXZpc2lvbj1mdW5jdGlvbihlKXtpZihlPXRoaXMudG9UaWNrcyhlKSx0aGlzLnN0YXRlIT09dC5TdGF0ZS5TdGFydGVkKXJldHVybiAwO3ZhciBpPXRoaXMubm93KCksbj1lLXRoaXMuZ2V0VGlja3NBdFRpbWUoaSklZTtyZXR1cm4gdGhpcy5fY2xvY2submV4dFRpY2tUaW1lKG4saSl9LHQuVHJhbnNwb3J0LnByb3RvdHlwZS5zeW5jU2lnbmFsPWZ1bmN0aW9uKGUsaSl7aWYoIWkpe3ZhciBuPXRoaXMubm93KCk7aT0wIT09ZS5nZXRWYWx1ZUF0VGltZShuKT9lLmdldFZhbHVlQXRUaW1lKG4pL3RoaXMuYnBtLmdldFZhbHVlQXRUaW1lKG4pOjB9dmFyIG89bmV3IHQuR2FpbihpKTtyZXR1cm4gdGhpcy5icG0uY2hhaW4obyxlLl9wYXJhbSksdGhpcy5fc3luY2VkU2lnbmFscy5wdXNoKHtyYXRpbzpvLHNpZ25hbDplLGluaXRpYWw6ZS52YWx1ZX0pLGUudmFsdWU9MCx0aGlzfSx0LlRyYW5zcG9ydC5wcm90b3R5cGUudW5zeW5jU2lnbmFsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9zeW5jZWRTaWduYWxzLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgaT10aGlzLl9zeW5jZWRTaWduYWxzW2VdO2kuc2lnbmFsPT09dCYmKGkucmF0aW8uZGlzcG9zZSgpLGkuc2lnbmFsLnZhbHVlPWkuaW5pdGlhbCx0aGlzLl9zeW5jZWRTaWduYWxzLnNwbGljZShlLDEpKX1yZXR1cm4gdGhpc30sdC5UcmFuc3BvcnQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FbWl0dGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fY2xvY2suZGlzcG9zZSgpLHRoaXMuX2Nsb2NrPW51bGwsdGhpcy5fd3JpdGFibGUoXCJicG1cIiksdGhpcy5icG09bnVsbCx0aGlzLl90aW1lbGluZS5kaXNwb3NlKCksdGhpcy5fdGltZWxpbmU9bnVsbCx0aGlzLl9yZXBlYXRlZEV2ZW50cy5kaXNwb3NlKCksdGhpcy5fcmVwZWF0ZWRFdmVudHM9bnVsbCx0aGlzfTt2YXIgZT10LlRyYW5zcG9ydDtyZXR1cm4gdC5UcmFuc3BvcnQ9bmV3IGUsdC5Db250ZXh0Lm9uKFwiaW5pdFwiLGZ1bmN0aW9uKGkpe2kudHJhbnNwb3J0JiZpLnRyYW5zcG9ydC5pc1RyYW5zcG9ydD90LlRyYW5zcG9ydD1pLnRyYW5zcG9ydDp0LlRyYW5zcG9ydD1uZXcgZX0pLHQuQ29udGV4dC5vbihcImNsb3NlXCIsZnVuY3Rpb24odCl7dC50cmFuc3BvcnQmJnQudHJhbnNwb3J0LmlzVHJhbnNwb3J0JiZ0LnRyYW5zcG9ydC5kaXNwb3NlKCl9KSx0LlRyYW5zcG9ydH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxKSxpKDYpLGkoMTYpLGkoODIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Pc2NpbGxhdG9yPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCJdLHQuT3NjaWxsYXRvcik7dC5Tb3VyY2UuY2FsbCh0aGlzLGUpLHRoaXMuX29zY2lsbGF0b3I9bnVsbCx0aGlzLmZyZXF1ZW5jeT1uZXcgdC5TaWduYWwoZS5mcmVxdWVuY3ksdC5UeXBlLkZyZXF1ZW5jeSksdGhpcy5kZXR1bmU9bmV3IHQuU2lnbmFsKGUuZGV0dW5lLHQuVHlwZS5DZW50cyksdGhpcy5fd2F2ZT1udWxsLHRoaXMuX3BhcnRpYWxzPWUucGFydGlhbHMsdGhpcy5fcGFydGlhbENvdW50PWUucGFydGlhbENvdW50LHRoaXMuX3BoYXNlPWUucGhhc2UsdGhpcy5fdHlwZT1lLnR5cGUsZS5wYXJ0aWFsQ291bnQmJmUudHlwZSE9PXQuT3NjaWxsYXRvci5UeXBlLkN1c3RvbSYmKHRoaXMuX3R5cGU9dGhpcy5iYXNlVHlwZStlLnBhcnRpYWxDb3VudC50b1N0cmluZygpKSx0aGlzLnBoYXNlPXRoaXMuX3BoYXNlLHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCJdKX0sdC5leHRlbmQodC5Pc2NpbGxhdG9yLHQuU291cmNlKSx0Lk9zY2lsbGF0b3IuZGVmYXVsdHM9e3R5cGU6XCJzaW5lXCIsZnJlcXVlbmN5OjQ0MCxkZXR1bmU6MCxwaGFzZTowLHBhcnRpYWxzOltdLHBhcnRpYWxDb3VudDowfSx0Lk9zY2lsbGF0b3IuVHlwZT17U2luZTpcInNpbmVcIixUcmlhbmdsZTpcInRyaWFuZ2xlXCIsU2F3dG9vdGg6XCJzYXd0b290aFwiLFNxdWFyZTpcInNxdWFyZVwiLEN1c3RvbTpcImN1c3RvbVwifSx0Lk9zY2lsbGF0b3IucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihlKXt0aGlzLmxvZyhcInN0YXJ0XCIsZSksdGhpcy5fb3NjaWxsYXRvcj1uZXcgdC5Pc2NpbGxhdG9yTm9kZSx0aGlzLl93YXZlP3RoaXMuX29zY2lsbGF0b3Iuc2V0UGVyaW9kaWNXYXZlKHRoaXMuX3dhdmUpOnRoaXMuX29zY2lsbGF0b3IudHlwZT10aGlzLl90eXBlLHRoaXMuX29zY2lsbGF0b3IuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9vc2NpbGxhdG9yLmZyZXF1ZW5jeSksdGhpcy5kZXR1bmUuY29ubmVjdCh0aGlzLl9vc2NpbGxhdG9yLmRldHVuZSksZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KGUpfSx0Lk9zY2lsbGF0b3IucHJvdG90eXBlLl9zdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvZyhcInN0b3BcIix0KSx0aGlzLl9vc2NpbGxhdG9yJiYodD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9vc2NpbGxhdG9yLnN0b3AodCkpLHRoaXN9LHQuT3NjaWxsYXRvci5wcm90b3R5cGUucmVzdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvciYmdGhpcy5fb3NjaWxsYXRvci5jYW5jZWxTdG9wKCksdGhpcy5fc3RhdGUuY2FuY2VsKHRoaXMudG9TZWNvbmRzKHQpKSx0aGlzfSx0Lk9zY2lsbGF0b3IucHJvdG90eXBlLnN5bmNGcmVxdWVuY3k9ZnVuY3Rpb24oKXtyZXR1cm4gdC5UcmFuc3BvcnQuc3luY1NpZ25hbCh0aGlzLmZyZXF1ZW5jeSksdGhpc30sdC5Pc2NpbGxhdG9yLnByb3RvdHlwZS51bnN5bmNGcmVxdWVuY3k9ZnVuY3Rpb24oKXtyZXR1cm4gdC5UcmFuc3BvcnQudW5zeW5jU2lnbmFsKHRoaXMuZnJlcXVlbmN5KSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Pc2NpbGxhdG9yLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRSZWFsSW1hZ2luYXJ5KHQsdGhpcy5fcGhhc2UpLGk9dGhpcy5jb250ZXh0LmNyZWF0ZVBlcmlvZGljV2F2ZShlWzBdLGVbMV0pO3RoaXMuX3dhdmU9aSxudWxsIT09dGhpcy5fb3NjaWxsYXRvciYmdGhpcy5fb3NjaWxsYXRvci5zZXRQZXJpb2RpY1dhdmUodGhpcy5fd2F2ZSksdGhpcy5fdHlwZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9zY2lsbGF0b3IucHJvdG90eXBlLFwiYmFzZVR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGUucmVwbGFjZSh0aGlzLnBhcnRpYWxDb3VudCxcIlwiKX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMucGFydGlhbENvdW50JiZ0aGlzLl90eXBlIT09dC5Pc2NpbGxhdG9yLlR5cGUuQ3VzdG9tJiZlIT09dC5Pc2NpbGxhdG9yLlR5cGUuQ3VzdG9tP3RoaXMudHlwZT1lK3RoaXMucGFydGlhbENvdW50OnRoaXMudHlwZT1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9zY2lsbGF0b3IucHJvdG90eXBlLFwicGFydGlhbENvdW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJ0aWFsQ291bnR9LHNldDpmdW5jdGlvbihlKXt2YXIgaT10aGlzLl90eXBlLG49L14oc2luZXx0cmlhbmdsZXxzcXVhcmV8c2F3dG9vdGgpKFxcZCspJC8uZXhlYyh0aGlzLl90eXBlKTtuJiYoaT1uWzFdKSx0aGlzLl90eXBlIT09dC5Pc2NpbGxhdG9yLlR5cGUuQ3VzdG9tJiYodGhpcy50eXBlPTA9PT1lP2k6aStlLnRvU3RyaW5nKCkpfX0pLHQuT3NjaWxsYXRvci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7Y29uc3QgZT10LnByb3RvdHlwZS5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLnR5cGUhPT10Lk9zY2lsbGF0b3IuVHlwZS5DdXN0b20mJmRlbGV0ZSBlLnBhcnRpYWxzLGV9LHQuT3NjaWxsYXRvci5wcm90b3R5cGUuX2dldFJlYWxJbWFnaW5hcnk9ZnVuY3Rpb24oZSxpKXt2YXIgbj0yMDQ4LG89bmV3IEZsb2F0MzJBcnJheShuKSxzPW5ldyBGbG9hdDMyQXJyYXkobikscj0xO2lmKGU9PT10Lk9zY2lsbGF0b3IuVHlwZS5DdXN0b20pcj10aGlzLl9wYXJ0aWFscy5sZW5ndGgrMSx0aGlzLl9wYXJ0aWFsQ291bnQ9dGhpcy5fcGFydGlhbHMubGVuZ3RoLG49cjtlbHNle3ZhciBhPS9eKHNpbmV8dHJpYW5nbGV8c3F1YXJlfHNhd3Rvb3RoKShcXGQrKSQvLmV4ZWMoZSk7YT8ocj1wYXJzZUludChhWzJdKSsxLHRoaXMuX3BhcnRpYWxDb3VudD1wYXJzZUludChhWzJdKSxlPWFbMV0sbj1yPU1hdGgubWF4KHIsMikpOnRoaXMuX3BhcnRpYWxDb3VudD0wLHRoaXMuX3BhcnRpYWxzPVtdfWZvcih2YXIgbD0xO2w8bjsrK2wpe3ZhciBoLHU9Mi8obCpNYXRoLlBJKTtzd2l0Y2goZSl7Y2FzZSB0Lk9zY2lsbGF0b3IuVHlwZS5TaW5lOmg9bDw9cj8xOjAsdGhpcy5fcGFydGlhbHNbbC0xXT1oO2JyZWFrO2Nhc2UgdC5Pc2NpbGxhdG9yLlR5cGUuU3F1YXJlOmg9MSZsPzIqdTowLHRoaXMuX3BhcnRpYWxzW2wtMV09aDticmVhaztjYXNlIHQuT3NjaWxsYXRvci5UeXBlLlNhd3Rvb3RoOmg9dSooMSZsPzE6LTEpLHRoaXMuX3BhcnRpYWxzW2wtMV09aDticmVhaztjYXNlIHQuT3NjaWxsYXRvci5UeXBlLlRyaWFuZ2xlOmg9MSZsP3UqdSoyKihsLTE+PjEmMT8tMToxKTowLHRoaXMuX3BhcnRpYWxzW2wtMV09aDticmVhaztjYXNlIHQuT3NjaWxsYXRvci5UeXBlLkN1c3RvbTpoPXRoaXMuX3BhcnRpYWxzW2wtMV07YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVG9uZS5Pc2NpbGxhdG9yOiBpbnZhbGlkIHR5cGU6IFwiK2UpfTAhPT1oPyhvW2xdPS1oKk1hdGguc2luKGkqbCksc1tsXT1oKk1hdGguY29zKGkqbCkpOihvW2xdPTAsc1tsXT0wKX1yZXR1cm5bbyxzXX0sdC5Pc2NpbGxhdG9yLnByb3RvdHlwZS5faW52ZXJzZUZGVD1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aCxzPTA7czxvO3MrKyluKz10W3NdKk1hdGguY29zKHMqaSkrZVtzXSpNYXRoLnNpbihzKmkpO3JldHVybiBufSx0Lk9zY2lsbGF0b3IucHJvdG90eXBlLl9nZXRJbml0aWFsVmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ2V0UmVhbEltYWdpbmFyeSh0aGlzLl90eXBlLDApLGU9dFswXSxpPXRbMV0sbj0wLG89MipNYXRoLlBJLHM9MDtzPDg7cysrKW49TWF0aC5tYXgodGhpcy5faW52ZXJzZUZGVChlLGkscy84Km8pLG4pO3JldHVybi10aGlzLl9pbnZlcnNlRkZUKGUsaSx0aGlzLl9waGFzZSkvbn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwYXJ0aWFsc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFydGlhbHN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9wYXJ0aWFscz1lLHRoaXMudHlwZT10Lk9zY2lsbGF0b3IuVHlwZS5DdXN0b219fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwaGFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGhhc2UqKDE4MC9NYXRoLlBJKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BoYXNlPXQqTWF0aC5QSS8xODAsdGhpcy50eXBlPXRoaXMuX3R5cGV9fSksdC5Pc2NpbGxhdG9yLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksbnVsbCE9PXRoaXMuX29zY2lsbGF0b3ImJih0aGlzLl9vc2NpbGxhdG9yLmRpc3Bvc2UoKSx0aGlzLl9vc2NpbGxhdG9yPW51bGwpLHRoaXMuX3dhdmU9bnVsbCx0aGlzLl93cml0YWJsZShbXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSksdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5PW51bGwsdGhpcy5kZXR1bmUuZGlzcG9zZSgpLHRoaXMuZGV0dW5lPW51bGwsdGhpcy5fcGFydGlhbHM9bnVsbCx0aGlzfSx0Lk9zY2lsbGF0b3J9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMTQpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkRlbGF5PWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZGVsYXlUaW1lXCIsXCJtYXhEZWxheVwiXSx0LkRlbGF5KTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMsZSksdGhpcy5fbWF4RGVsYXk9TWF0aC5tYXgodGhpcy50b1NlY29uZHMoZS5tYXhEZWxheSksdGhpcy50b1NlY29uZHMoZS5kZWxheVRpbWUpKSx0aGlzLl9kZWxheU5vZGU9dGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLmNvbnRleHQuY3JlYXRlRGVsYXkodGhpcy5fbWF4RGVsYXkpLHRoaXMuZGVsYXlUaW1lPW5ldyB0LlBhcmFtKHtwYXJhbTp0aGlzLl9kZWxheU5vZGUuZGVsYXlUaW1lLHVuaXRzOnQuVHlwZS5UaW1lLHZhbHVlOmUuZGVsYXlUaW1lfSksdGhpcy5fcmVhZE9ubHkoXCJkZWxheVRpbWVcIil9LHQuZXh0ZW5kKHQuRGVsYXksdC5BdWRpb05vZGUpLHQuRGVsYXkuZGVmYXVsdHM9e21heERlbGF5OjEsZGVsYXlUaW1lOjB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkRlbGF5LnByb3RvdHlwZSxcIm1heERlbGF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhEZWxheX19KSx0LkRlbGF5LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZGVsYXlOb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLl9kZWxheU5vZGU9bnVsbCx0aGlzLl93cml0YWJsZShcImRlbGF5VGltZVwiKSx0aGlzLmRlbGF5VGltZT1udWxsLHRoaXN9LHQuRGVsYXl9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMyksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU3BsaXQ9ZnVuY3Rpb24oKXt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuY3JlYXRlSW5zT3V0cygwLDIpLHRoaXMuX3NwbGl0dGVyPXRoaXMuaW5wdXQ9dGhpcy5jb250ZXh0LmNyZWF0ZUNoYW5uZWxTcGxpdHRlcigyKSx0aGlzLmxlZnQ9dGhpcy5vdXRwdXRbMF09bmV3IHQuR2Fpbix0aGlzLnJpZ2h0PXRoaXMub3V0cHV0WzFdPW5ldyB0LkdhaW4sdGhpcy5fc3BsaXR0ZXIuY29ubmVjdCh0aGlzLmxlZnQsMCwwKSx0aGlzLl9zcGxpdHRlci5jb25uZWN0KHRoaXMucmlnaHQsMSwwKX0sdC5leHRlbmQodC5TcGxpdCx0LkF1ZGlvTm9kZSksdC5TcGxpdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3NwbGl0dGVyLmRpc2Nvbm5lY3QoKSx0aGlzLmxlZnQuZGlzcG9zZSgpLHRoaXMubGVmdD1udWxsLHRoaXMucmlnaHQuZGlzcG9zZSgpLHRoaXMucmlnaHQ9bnVsbCx0aGlzLl9zcGxpdHRlcj1udWxsLHRoaXN9LHQuU3BsaXR9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMzUpLGkoMjQpLGkoMzQpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXt0LkNvbnRleHQ9ZnVuY3Rpb24oKXt0LkVtaXR0ZXIuY2FsbCh0aGlzKTt2YXIgaT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJjb250ZXh0XCJdLHQuQ29udGV4dCk7aWYoIWkuY29udGV4dCYmKGkuY29udGV4dD1uZXcgdC5nbG9iYWwuQXVkaW9Db250ZXh0LCFpLmNvbnRleHQpKXRocm93IG5ldyBFcnJvcihcImNvdWxkIG5vdCBjcmVhdGUgQXVkaW9Db250ZXh0LiBQb3NzaWJseSB0b28gbWFueSBBdWRpb0NvbnRleHRzIHJ1bm5pbmcgYWxyZWFkeS5cIik7Zm9yKHRoaXMuX2NvbnRleHQ9aS5jb250ZXh0O3RoaXMuX2NvbnRleHQucmF3Q29udGV4dDspdGhpcy5fY29udGV4dD10aGlzLl9jb250ZXh0LnJhd0NvbnRleHQ7Zm9yKHZhciBuIGluIHRoaXMuX2NvbnRleHQpdGhpcy5fZGVmaW5lUHJvcGVydHkodGhpcy5fY29udGV4dCxuKTt0aGlzLl9sYXRlbmN5SGludD1pLmxhdGVuY3lIaW50LHRoaXMuX2NvbnN0YW50cz17fSx0aGlzLmxvb2tBaGVhZD1pLmxvb2tBaGVhZCx0aGlzLl9jb21wdXRlZFVwZGF0ZUludGVydmFsPTAsdGhpcy5fdGlja2VyPW5ldyBlKHRoaXMuZW1pdC5iaW5kKHRoaXMsXCJ0aWNrXCIpLGkuY2xvY2tTb3VyY2UsaS51cGRhdGVJbnRlcnZhbCksdGhpcy5fdGltZW91dHM9bmV3IHQuVGltZWxpbmUsdGhpcy5fdGltZW91dElkcz0wLHRoaXMub24oXCJ0aWNrXCIsdGhpcy5fdGltZW91dExvb3AuYmluZCh0aGlzKSksdGhpcy5fY29udGV4dC5vbnN0YXRlY2hhbmdlPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcInN0YXRlY2hhbmdlXCIsdCl9LmJpbmQodGhpcyl9LHQuZXh0ZW5kKHQuQ29udGV4dCx0LkVtaXR0ZXIpLHQuRW1pdHRlci5taXhpbih0LkNvbnRleHQpLHQuQ29udGV4dC5kZWZhdWx0cz17Y2xvY2tTb3VyY2U6XCJ3b3JrZXJcIixsYXRlbmN5SGludDpcImludGVyYWN0aXZlXCIsbG9va0FoZWFkOi4xLHVwZGF0ZUludGVydmFsOi4wM30sdC5Db250ZXh0LnByb3RvdHlwZS5pc0NvbnRleHQ9ITAsdC5Db250ZXh0LnByb3RvdHlwZS5fZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSxpKXt0LmlzVW5kZWYodGhpc1tpXSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGkse2dldDpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGVbaV0/ZVtpXS5iaW5kKGUpOmVbaV19LHNldDpmdW5jdGlvbih0KXtlW2ldPXR9fSl9LHQuQ29udGV4dC5wcm90b3R5cGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHQuY3VycmVudFRpbWUrdGhpcy5sb29rQWhlYWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNvbnRleHQucHJvdG90eXBlLFwiZGVzdGluYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFzdGVyP3RoaXMubWFzdGVyOnRoaXMuX2NvbnRleHQuZGVzdGluYXRpb259fSksdC5Db250ZXh0LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm5cInN1c3BlbmRlZFwiPT09dGhpcy5fY29udGV4dC5zdGF0ZSYmdGhpcy5fY29udGV4dCBpbnN0YW5jZW9mIEF1ZGlvQ29udGV4dD90aGlzLl9jb250ZXh0LnJlc3VtZSgpOlByb21pc2UucmVzb2x2ZSgpfSx0LkNvbnRleHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIGU9UHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuIHRoaXMhPT10Lmdsb2JhbC5UT05FX0FVRElPX0NPTlRFWFQmJihlPXRoaXMucmF3Q29udGV4dC5jbG9zZSgpKSxlLnRoZW4oZnVuY3Rpb24oKXt0LkNvbnRleHQuZW1pdChcImNsb3NlXCIsdGhpcyl9LmJpbmQodGhpcykpfSx0LkNvbnRleHQucHJvdG90eXBlLmdldENvbnN0YW50PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2NvbnN0YW50c1t0XSlyZXR1cm4gdGhpcy5fY29uc3RhbnRzW3RdO2Zvcih2YXIgZT10aGlzLl9jb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLDEyOCx0aGlzLl9jb250ZXh0LnNhbXBsZVJhdGUpLGk9ZS5nZXRDaGFubmVsRGF0YSgwKSxuPTA7bjxpLmxlbmd0aDtuKyspaVtuXT10O3ZhciBvPXRoaXMuX2NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7cmV0dXJuIG8uY2hhbm5lbENvdW50PTEsby5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIixvLmJ1ZmZlcj1lLG8ubG9vcD0hMCxvLnN0YXJ0KDApLHRoaXMuX2NvbnN0YW50c1t0XT1vLG99LHQuQ29udGV4dC5wcm90b3R5cGUuX3RpbWVvdXRMb29wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubm93KCk7dGhpcy5fdGltZW91dHMmJnRoaXMuX3RpbWVvdXRzLmxlbmd0aCYmdGhpcy5fdGltZW91dHMucGVlaygpLnRpbWU8PXQ7KXRoaXMuX3RpbWVvdXRzLnNoaWZ0KCkuY2FsbGJhY2soKX0sdC5Db250ZXh0LnByb3RvdHlwZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5fdGltZW91dElkcysrO3ZhciBpPXRoaXMubm93KCk7cmV0dXJuIHRoaXMuX3RpbWVvdXRzLmFkZCh7Y2FsbGJhY2s6dCx0aW1lOmkrZSxpZDp0aGlzLl90aW1lb3V0SWRzfSksdGhpcy5fdGltZW91dElkc30sdC5Db250ZXh0LnByb3RvdHlwZS5jbGVhclRpbWVvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpbWVvdXRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pZD09PXQmJnRoaXMucmVtb3ZlKGUpfSksdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ29udGV4dC5wcm90b3R5cGUsXCJ1cGRhdGVJbnRlcnZhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlja2VyLnVwZGF0ZUludGVydmFsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGlja2VyLnVwZGF0ZUludGVydmFsPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ29udGV4dC5wcm90b3R5cGUsXCJyYXdDb250ZXh0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNvbnRleHQucHJvdG90eXBlLFwiY2xvY2tTb3VyY2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpY2tlci50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGlja2VyLnR5cGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Db250ZXh0LnByb3RvdHlwZSxcImxhdGVuY3lIaW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXRlbmN5SGludH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciBpPWU7aWYodGhpcy5fbGF0ZW5jeUhpbnQ9ZSx0LmlzU3RyaW5nKGUpKXN3aXRjaChlKXtjYXNlXCJpbnRlcmFjdGl2ZVwiOmk9LjEsdGhpcy5fY29udGV4dC5sYXRlbmN5SGludD1lO2JyZWFrO2Nhc2VcInBsYXliYWNrXCI6aT0uOCx0aGlzLl9jb250ZXh0LmxhdGVuY3lIaW50PWU7YnJlYWs7Y2FzZVwiYmFsYW5jZWRcIjppPS4yNSx0aGlzLl9jb250ZXh0LmxhdGVuY3lIaW50PWU7YnJlYWs7Y2FzZVwiZmFzdGVzdFwiOnRoaXMuX2NvbnRleHQubGF0ZW5jeUhpbnQ9XCJpbnRlcmFjdGl2ZVwiLGk9LjAxfXRoaXMubG9va0FoZWFkPWksdGhpcy51cGRhdGVJbnRlcnZhbD1pLzN9fSksdC5Db250ZXh0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvc2UoKS50aGVuKGZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHQuRW1pdHRlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3RpY2tlci5kaXNwb3NlKCksdGhpcy5fdGlja2VyPW51bGwsdGhpcy5fdGltZW91dHMuZGlzcG9zZSgpLHRoaXMuX3RpbWVvdXRzPW51bGwsdGhpcy5fY29uc3RhbnRzKXRoaXMuX2NvbnN0YW50c1tlXS5kaXNjb25uZWN0KCk7dGhpcy5fY29uc3RhbnRzPW51bGx9LmJpbmQodGhpcykpfTt2YXIgZT1mdW5jdGlvbihlLGksbil7dGhpcy5fdHlwZT1pLHRoaXMuX3VwZGF0ZUludGVydmFsPW4sdGhpcy5fY2FsbGJhY2s9dC5kZWZhdWx0QXJnKGUsdC5ub09wKSx0aGlzLl9jcmVhdGVDbG9jaygpfTtpZihlLlR5cGU9e1dvcmtlcjpcIndvcmtlclwiLFRpbWVvdXQ6XCJ0aW1lb3V0XCIsT2ZmbGluZTpcIm9mZmxpbmVcIn0sZS5wcm90b3R5cGUuX2NyZWF0ZVdvcmtlcj1mdW5jdGlvbigpe3QuZ2xvYmFsLlVSTD10Lmdsb2JhbC5VUkx8fHQuZ2xvYmFsLndlYmtpdFVSTDt2YXIgZT1uZXcgQmxvYihbXCJ2YXIgdGltZW91dFRpbWUgPSBcIisoMWUzKnRoaXMuX3VwZGF0ZUludGVydmFsKS50b0ZpeGVkKDEpK1wiO3NlbGYub25tZXNzYWdlID0gZnVuY3Rpb24obXNnKXtcXHR0aW1lb3V0VGltZSA9IHBhcnNlSW50KG1zZy5kYXRhKTt9O2Z1bmN0aW9uIHRpY2soKXtcXHRzZXRUaW1lb3V0KHRpY2ssIHRpbWVvdXRUaW1lKTtcXHRzZWxmLnBvc3RNZXNzYWdlKCd0aWNrJyk7fXRpY2soKTtcIl0pLGk9VVJMLmNyZWF0ZU9iamVjdFVSTChlKSxuPW5ldyBXb3JrZXIoaSk7bi5vbm1lc3NhZ2U9dGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKSx0aGlzLl93b3JrZXI9bn0sZS5wcm90b3R5cGUuX2NyZWF0ZVRpbWVvdXQ9ZnVuY3Rpb24oKXt0aGlzLl90aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVUaW1lb3V0KCksdGhpcy5fY2FsbGJhY2soKX0uYmluZCh0aGlzKSwxZTMqdGhpcy5fdXBkYXRlSW50ZXJ2YWwpfSxlLnByb3RvdHlwZS5fY3JlYXRlQ2xvY2s9ZnVuY3Rpb24oKXtpZih0aGlzLl90eXBlPT09ZS5UeXBlLldvcmtlcil0cnl7dGhpcy5fY3JlYXRlV29ya2VyKCl9Y2F0Y2godCl7dGhpcy5fdHlwZT1lLlR5cGUuVGltZW91dCx0aGlzLl9jcmVhdGVDbG9jaygpfWVsc2UgdGhpcy5fdHlwZT09PWUuVHlwZS5UaW1lb3V0JiZ0aGlzLl9jcmVhdGVUaW1lb3V0KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInVwZGF0ZUludGVydmFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVJbnRlcnZhbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZUludGVydmFsPU1hdGgubWF4KHQsMTI4LzQ0MTAwKSx0aGlzLl90eXBlPT09ZS5UeXBlLldvcmtlciYmdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKE1hdGgubWF4KDFlMyp0LDEpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZGlzcG9zZUNsb2NrKCksdGhpcy5fdHlwZT10LHRoaXMuX2NyZWF0ZUNsb2NrKCl9fSksZS5wcm90b3R5cGUuX2Rpc3Bvc2VDbG9jaz1mdW5jdGlvbigpe3RoaXMuX3RpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCksdGhpcy5fdGltZW91dD1udWxsKSx0aGlzLl93b3JrZXImJih0aGlzLl93b3JrZXIudGVybWluYXRlKCksdGhpcy5fd29ya2VyLm9ubWVzc2FnZT1udWxsLHRoaXMuX3dvcmtlcj1udWxsKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2VDbG9jaygpLHRoaXMuX2NhbGxiYWNrPW51bGx9LHQuZ2V0Q29udGV4dChmdW5jdGlvbigpe3ZhciBlPUF1ZGlvTm9kZS5wcm90b3R5cGUuY29ubmVjdCxpPUF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzY29ubmVjdDtmdW5jdGlvbiBuKGksbixvKXtpZihpLmlucHV0KXJldHVybiBvPXQuZGVmYXVsdEFyZyhvLDApLHQuaXNBcnJheShpLmlucHV0KT90aGlzLmNvbm5lY3QoaS5pbnB1dFtvXSk6dGhpcy5jb25uZWN0KGkuaW5wdXQsbixvKTt0cnl7cmV0dXJuIGkgaW5zdGFuY2VvZiBBdWRpb05vZGU/KGUuY2FsbCh0aGlzLGksbixvKSxpKTooZS5jYWxsKHRoaXMsaSxuKSxpKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJlcnJvciBjb25uZWN0aW5nIHRvIG5vZGU6IFwiK2krXCJcXG5cIit0KX19QXVkaW9Ob2RlLnByb3RvdHlwZS5jb25uZWN0IT09biYmKEF1ZGlvTm9kZS5wcm90b3R5cGUuY29ubmVjdD1uLEF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbihlLG4sbyl7aWYoZSYmZS5pbnB1dCYmdC5pc0FycmF5KGUuaW5wdXQpKW89dC5kZWZhdWx0QXJnKG8sMCksdGhpcy5kaXNjb25uZWN0KGUuaW5wdXRbb10sbiwwKTtlbHNlIGlmKGUmJmUuaW5wdXQpdGhpcy5kaXNjb25uZWN0KGUuaW5wdXQsbixvKTtlbHNlIHRyeXtlIGluc3RhbmNlb2YgQXVkaW9QYXJhbT9pLmNhbGwodGhpcyxlLG4pOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcImVycm9yIGRpc2Nvbm5lY3Rpbmcgbm9kZTogXCIrZStcIlxcblwiK3QpfX0pfSksdC5zdXBwb3J0ZWQmJiF0LmluaXRpYWxpemVkKXtpZih0Lmdsb2JhbC5UT05FX0FVRElPX0NPTlRFWFR8fCh0Lmdsb2JhbC5UT05FX0FVRElPX0NPTlRFWFQ9bmV3IHQuQ29udGV4dCksdC5jb250ZXh0PXQuZ2xvYmFsLlRPTkVfQVVESU9fQ09OVEVYVCwhdC5nbG9iYWwuVE9ORV9TSUxFTkNFX1ZFUlNJT05fTE9HR0lORyl7dmFyIGk9XCJ2XCI7XCJkZXZcIj09PXQudmVyc2lvbiYmKGk9XCJcIik7dmFyIG49XCIgKiBUb25lLmpzIFwiK2krdC52ZXJzaW9uK1wiICogXCI7Y29uc29sZS5sb2coXCIlY1wiK24sXCJiYWNrZ3JvdW5kOiAjMDAwOyBjb2xvcjogI2ZmZlwiKX19ZWxzZSB0LnN1cHBvcnRlZHx8Y29uc29sZS53YXJuKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgVG9uZS5qc1wiKTtyZXR1cm4gdC5Db250ZXh0fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDQpLGkoNDApXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5JbnN0cnVtZW50PWZ1bmN0aW9uKGUpe2U9dC5kZWZhdWx0QXJnKGUsdC5JbnN0cnVtZW50LmRlZmF1bHRzKSx0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuX3ZvbHVtZT10aGlzLm91dHB1dD1uZXcgdC5Wb2x1bWUoZS52b2x1bWUpLHRoaXMudm9sdW1lPXRoaXMuX3ZvbHVtZS52b2x1bWUsdGhpcy5fcmVhZE9ubHkoXCJ2b2x1bWVcIiksdGhpcy5fc2NoZWR1bGVkRXZlbnRzPVtdfSx0LmV4dGVuZCh0Lkluc3RydW1lbnQsdC5BdWRpb05vZGUpLHQuSW5zdHJ1bWVudC5kZWZhdWx0cz17dm9sdW1lOjB9LHQuSW5zdHJ1bWVudC5wcm90b3R5cGUudHJpZ2dlckF0dGFjaz10Lm5vT3AsdC5JbnN0cnVtZW50LnByb3RvdHlwZS50cmlnZ2VyUmVsZWFzZT10Lm5vT3AsdC5JbnN0cnVtZW50LnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyQXR0YWNrXCIsMSksdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJSZWxlYXNlXCIsMCksdGhpc30sdC5JbnN0cnVtZW50LnByb3RvdHlwZS5fc3luY01ldGhvZD1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXNbXCJfb3JpZ2luYWxfXCIrZV09dGhpc1tlXTt0aGlzW2VdPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxvPWVbaV0scz10LlRyYW5zcG9ydC5zY2hlZHVsZShmdW5jdGlvbih0KXtlW2ldPXQsbi5hcHBseSh0aGlzLGUpfS5iaW5kKHRoaXMpLG8pO3RoaXMuX3NjaGVkdWxlZEV2ZW50cy5wdXNoKHMpfS5iaW5kKHRoaXMpfSx0Lkluc3RydW1lbnQucHJvdG90eXBlLnVuc3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2hlZHVsZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbihlKXt0LlRyYW5zcG9ydC5jbGVhcihlKX0pLHRoaXMuX3NjaGVkdWxlZEV2ZW50cz1bXSx0aGlzLl9vcmlnaW5hbF90cmlnZ2VyQXR0YWNrJiYodGhpcy50cmlnZ2VyQXR0YWNrPXRoaXMuX29yaWdpbmFsX3RyaWdnZXJBdHRhY2ssdGhpcy50cmlnZ2VyUmVsZWFzZT10aGlzLl9vcmlnaW5hbF90cmlnZ2VyUmVsZWFzZSksdGhpc30sdC5JbnN0cnVtZW50LnByb3RvdHlwZS50cmlnZ2VyQXR0YWNrUmVsZWFzZT1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gaT10aGlzLnRvU2Vjb25kcyhpKSxlPXRoaXMudG9TZWNvbmRzKGUpLHRoaXMudHJpZ2dlckF0dGFjayh0LGksbiksdGhpcy50cmlnZ2VyUmVsZWFzZShpK2UpLHRoaXN9LHQuSW5zdHJ1bWVudC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCksdGhpcy5fdm9sdW1lPW51bGwsdGhpcy5fd3JpdGFibGUoW1widm9sdW1lXCJdKSx0aGlzLnZvbHVtZT1udWxsLHRoaXMudW5zeW5jKCksdGhpcy5fc2NoZWR1bGVkRXZlbnRzPW51bGwsdGhpc30sdC5JbnN0cnVtZW50fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDcpLGkoMSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkF1ZGlvVG9HYWluPWZ1bmN0aW9uKCl7dC5TaWduYWxCYXNlLmNhbGwodGhpcyksdGhpcy5fbm9ybT10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LldhdmVTaGFwZXIoZnVuY3Rpb24odCl7cmV0dXJuKHQrMSkvMn0pfSx0LmV4dGVuZCh0LkF1ZGlvVG9HYWluLHQuU2lnbmFsQmFzZSksdC5BdWRpb1RvR2Fpbi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNpZ25hbEJhc2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9ub3JtLmRpc3Bvc2UoKSx0aGlzLl9ub3JtPW51bGwsdGhpc30sdC5BdWRpb1RvR2Fpbn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxKSxpKDEzKSxpKDkzKSxpKDMpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNyb3NzRmFkZT1mdW5jdGlvbihlKXt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuY3JlYXRlSW5zT3V0cygyLDEpLHRoaXMuYT10aGlzLmlucHV0WzBdPW5ldyB0LkdhaW4sdGhpcy5iPXRoaXMuaW5wdXRbMV09bmV3IHQuR2Fpbix0aGlzLmZhZGU9bmV3IHQuU2lnbmFsKHQuZGVmYXVsdEFyZyhlLC41KSx0LlR5cGUuTm9ybWFsUmFuZ2UpLHRoaXMuX2VxdWFsUG93ZXJBPW5ldyB0LkVxdWFsUG93ZXJHYWluLHRoaXMuX2VxdWFsUG93ZXJCPW5ldyB0LkVxdWFsUG93ZXJHYWluLHRoaXMuX29uZT10aGlzLmNvbnRleHQuZ2V0Q29uc3RhbnQoMSksdGhpcy5faW52ZXJ0PW5ldyB0LlN1YnRyYWN0LHRoaXMuYS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLmIuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5mYWRlLmNoYWluKHRoaXMuX2VxdWFsUG93ZXJCLHRoaXMuYi5nYWluKSx0aGlzLl9vbmUuY29ubmVjdCh0aGlzLl9pbnZlcnQsMCwwKSx0aGlzLmZhZGUuY29ubmVjdCh0aGlzLl9pbnZlcnQsMCwxKSx0aGlzLl9pbnZlcnQuY2hhaW4odGhpcy5fZXF1YWxQb3dlckEsdGhpcy5hLmdhaW4pLHRoaXMuX3JlYWRPbmx5KFwiZmFkZVwiKX0sdC5leHRlbmQodC5Dcm9zc0ZhZGUsdC5BdWRpb05vZGUpLHQuQ3Jvc3NGYWRlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoXCJmYWRlXCIpLHRoaXMuX2VxdWFsUG93ZXJBLmRpc3Bvc2UoKSx0aGlzLl9lcXVhbFBvd2VyQT1udWxsLHRoaXMuX2VxdWFsUG93ZXJCLmRpc3Bvc2UoKSx0aGlzLl9lcXVhbFBvd2VyQj1udWxsLHRoaXMuZmFkZS5kaXNwb3NlKCksdGhpcy5mYWRlPW51bGwsdGhpcy5faW52ZXJ0LmRpc3Bvc2UoKSx0aGlzLl9pbnZlcnQ9bnVsbCx0aGlzLl9vbmU9bnVsbCx0aGlzLmEuZGlzcG9zZSgpLHRoaXMuYT1udWxsLHRoaXMuYi5kaXNwb3NlKCksdGhpcy5iPW51bGwsdGhpc30sdC5Dcm9zc0ZhZGV9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5UaW1lbGluZT1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcIm1lbW9yeVwiXSx0LlRpbWVsaW5lKTt0LmNhbGwodGhpcyksdGhpcy5fdGltZWxpbmU9W10sdGhpcy5tZW1vcnk9ZS5tZW1vcnl9LHQuZXh0ZW5kKHQuVGltZWxpbmUpLHQuVGltZWxpbmUuZGVmYXVsdHM9e21lbW9yeToxLzB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRpbWVsaW5lLnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZWxpbmUubGVuZ3RofX0pLHQuVGltZWxpbmUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtpZih0LmlzVW5kZWYoZS50aW1lKSl0aHJvdyBuZXcgRXJyb3IoXCJUb25lLlRpbWVsaW5lOiBldmVudHMgbXVzdCBoYXZlIGEgdGltZSBhdHRyaWJ1dGVcIik7ZS50aW1lPWUudGltZS52YWx1ZU9mKCk7dmFyIGk9dGhpcy5fc2VhcmNoKGUudGltZSk7aWYodGhpcy5fdGltZWxpbmUuc3BsaWNlKGkrMSwwLGUpLHRoaXMubGVuZ3RoPnRoaXMubWVtb3J5KXt2YXIgbj10aGlzLmxlbmd0aC10aGlzLm1lbW9yeTt0aGlzLl90aW1lbGluZS5zcGxpY2UoMCxuKX1yZXR1cm4gdGhpc30sdC5UaW1lbGluZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbWVsaW5lLmluZGV4T2YodCk7cmV0dXJuLTEhPT1lJiZ0aGlzLl90aW1lbGluZS5zcGxpY2UoZSwxKSx0aGlzfSx0LlRpbWVsaW5lLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSxpKXtpPXQuZGVmYXVsdEFyZyhpLFwidGltZVwiKTt2YXIgbj10aGlzLl9zZWFyY2goZSxpKTtyZXR1cm4tMSE9PW4/dGhpcy5fdGltZWxpbmVbbl06bnVsbH0sdC5UaW1lbGluZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lbGluZVswXX0sdC5UaW1lbGluZS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZWxpbmUuc2hpZnQoKX0sdC5UaW1lbGluZS5wcm90b3R5cGUuZ2V0QWZ0ZXI9ZnVuY3Rpb24oZSxpKXtpPXQuZGVmYXVsdEFyZyhpLFwidGltZVwiKTt2YXIgbj10aGlzLl9zZWFyY2goZSxpKTtyZXR1cm4gbisxPHRoaXMuX3RpbWVsaW5lLmxlbmd0aD90aGlzLl90aW1lbGluZVtuKzFdOm51bGx9LHQuVGltZWxpbmUucHJvdG90eXBlLmdldEJlZm9yZT1mdW5jdGlvbihlLGkpe2k9dC5kZWZhdWx0QXJnKGksXCJ0aW1lXCIpO3ZhciBuPXRoaXMuX3RpbWVsaW5lLmxlbmd0aDtpZihuPjAmJnRoaXMuX3RpbWVsaW5lW24tMV1baV08ZSlyZXR1cm4gdGhpcy5fdGltZWxpbmVbbi0xXTt2YXIgbz10aGlzLl9zZWFyY2goZSxpKTtyZXR1cm4gby0xPj0wP3RoaXMuX3RpbWVsaW5lW28tMV06bnVsbH0sdC5UaW1lbGluZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3RpbWVsaW5lLmxlbmd0aD4xKXt2YXIgZT10aGlzLl9zZWFyY2godCk7aWYoZT49MClpZih0aGlzLl90aW1lbGluZVtlXS50aW1lPT09dCl7Zm9yKHZhciBpPWU7aT49MCYmdGhpcy5fdGltZWxpbmVbaV0udGltZT09PXQ7aS0tKWU9aTt0aGlzLl90aW1lbGluZT10aGlzLl90aW1lbGluZS5zbGljZSgwLGUpfWVsc2UgdGhpcy5fdGltZWxpbmU9dGhpcy5fdGltZWxpbmUuc2xpY2UoMCxlKzEpO2Vsc2UgdGhpcy5fdGltZWxpbmU9W119ZWxzZSAxPT09dGhpcy5fdGltZWxpbmUubGVuZ3RoJiZ0aGlzLl90aW1lbGluZVswXS50aW1lPj10JiYodGhpcy5fdGltZWxpbmU9W10pO3JldHVybiB0aGlzfSx0LlRpbWVsaW5lLnByb3RvdHlwZS5jYW5jZWxCZWZvcmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fc2VhcmNoKHQpO3JldHVybiBlPj0wJiYodGhpcy5fdGltZWxpbmU9dGhpcy5fdGltZWxpbmUuc2xpY2UoZSsxKSksdGhpc30sdC5UaW1lbGluZS5wcm90b3R5cGUucHJldmlvdXNFdmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl90aW1lbGluZS5pbmRleE9mKHQpO3JldHVybiBlPjA/dGhpcy5fdGltZWxpbmVbZS0xXTpudWxsfSx0LlRpbWVsaW5lLnByb3RvdHlwZS5fc2VhcmNoPWZ1bmN0aW9uKGUsaSl7aWYoMD09PXRoaXMuX3RpbWVsaW5lLmxlbmd0aClyZXR1cm4tMTtpPXQuZGVmYXVsdEFyZyhpLFwidGltZVwiKTt2YXIgbj0wLG89dGhpcy5fdGltZWxpbmUubGVuZ3RoLHM9bztpZihvPjAmJnRoaXMuX3RpbWVsaW5lW28tMV1baV08PWUpcmV0dXJuIG8tMTtmb3IoO248czspe3ZhciByPU1hdGguZmxvb3Iobisocy1uKS8yKSxhPXRoaXMuX3RpbWVsaW5lW3JdLGw9dGhpcy5fdGltZWxpbmVbcisxXTtpZihhW2ldPT09ZSl7Zm9yKHZhciBoPXI7aDx0aGlzLl90aW1lbGluZS5sZW5ndGg7aCsrKXt0aGlzLl90aW1lbGluZVtoXVtpXT09PWUmJihyPWgpfXJldHVybiByfWlmKGFbaV08ZSYmbFtpXT5lKXJldHVybiByO2FbaV0+ZT9zPXI6bj1yKzF9cmV0dXJuLTF9LHQuVGltZWxpbmUucHJvdG90eXBlLl9pdGVyYXRlPWZ1bmN0aW9uKGUsaSxuKXtpPXQuZGVmYXVsdEFyZyhpLDApLG49dC5kZWZhdWx0QXJnKG4sdGhpcy5fdGltZWxpbmUubGVuZ3RoLTEpLHRoaXMuX3RpbWVsaW5lLnNsaWNlKGksbisxKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuY2FsbCh0aGlzLHQpfS5iaW5kKHRoaXMpKX0sdC5UaW1lbGluZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlcmF0ZSh0KSx0aGlzfSx0LlRpbWVsaW5lLnByb3RvdHlwZS5mb3JFYWNoQmVmb3JlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fc2VhcmNoKHQpO3JldHVybi0xIT09aSYmdGhpcy5faXRlcmF0ZShlLDAsaSksdGhpc30sdC5UaW1lbGluZS5wcm90b3R5cGUuZm9yRWFjaEFmdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fc2VhcmNoKHQpO3JldHVybiB0aGlzLl9pdGVyYXRlKGUsaSsxKSx0aGlzfSx0LlRpbWVsaW5lLnByb3RvdHlwZS5mb3JFYWNoQmV0d2Vlbj1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fc2VhcmNoKHQpLG89dGhpcy5fc2VhcmNoKGUpO3JldHVybi0xIT09biYmLTEhPT1vPyh0aGlzLl90aW1lbGluZVtuXS50aW1lIT09dCYmKG4rPTEpLHRoaXMuX3RpbWVsaW5lW29dLnRpbWU9PT1lJiYoby09MSksdGhpcy5faXRlcmF0ZShpLG4sbykpOi0xPT09biYmdGhpcy5faXRlcmF0ZShpLDAsbyksdGhpc30sdC5UaW1lbGluZS5wcm90b3R5cGUuZm9yRWFjaEZyb209ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fc2VhcmNoKHQpO2k+PTAmJnRoaXMuX3RpbWVsaW5lW2ldLnRpbWU+PXQ7KWktLTtyZXR1cm4gdGhpcy5faXRlcmF0ZShlLGkrMSksdGhpc30sdC5UaW1lbGluZS5wcm90b3R5cGUuZm9yRWFjaEF0VGltZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3NlYXJjaCh0KTtyZXR1cm4tMSE9PWkmJnRoaXMuX2l0ZXJhdGUoZnVuY3Rpb24oaSl7aS50aW1lPT09dCYmZS5jYWxsKHRoaXMsaSl9LDAsaSksdGhpc30sdC5UaW1lbGluZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fdGltZWxpbmU9bnVsbCx0aGlzfSx0LlRpbWVsaW5lfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDIxKSxpKDEpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Nb25vcGhvbmljPWZ1bmN0aW9uKGUpe2U9dC5kZWZhdWx0QXJnKGUsdC5Nb25vcGhvbmljLmRlZmF1bHRzKSx0Lkluc3RydW1lbnQuY2FsbCh0aGlzLGUpLHRoaXMucG9ydGFtZW50bz1lLnBvcnRhbWVudG99LHQuZXh0ZW5kKHQuTW9ub3Bob25pYyx0Lkluc3RydW1lbnQpLHQuTW9ub3Bob25pYy5kZWZhdWx0cz17cG9ydGFtZW50bzowfSx0Lk1vbm9waG9uaWMucHJvdG90eXBlLnRyaWdnZXJBdHRhY2s9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmxvZyhcInRyaWdnZXJBdHRhY2tcIix0LGUsaSksZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2soZSxpKSx0aGlzLnNldE5vdGUodCxlKSx0aGlzfSx0Lk1vbm9waG9uaWMucHJvdG90eXBlLnRyaWdnZXJSZWxlYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvZyhcInRyaWdnZXJSZWxlYXNlXCIsdCksdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlKHQpLHRoaXN9LHQuTW9ub3Bob25pYy5wcm90b3R5cGUuX3RyaWdnZXJFbnZlbG9wZUF0dGFjaz1mdW5jdGlvbigpe30sdC5Nb25vcGhvbmljLnByb3RvdHlwZS5fdHJpZ2dlckVudmVsb3BlUmVsZWFzZT1mdW5jdGlvbigpe30sdC5Nb25vcGhvbmljLnByb3RvdHlwZS5nZXRMZXZlbEF0VGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLmVudmVsb3BlLmdldFZhbHVlQXRUaW1lKHQpfSx0Lk1vbm9waG9uaWMucHJvdG90eXBlLnNldE5vdGU9ZnVuY3Rpb24odCxlKXtpZihlPXRoaXMudG9TZWNvbmRzKGUpLHRoaXMucG9ydGFtZW50bz4wJiZ0aGlzLmdldExldmVsQXRUaW1lKGUpPi4wNSl7dmFyIGk9dGhpcy50b1NlY29uZHModGhpcy5wb3J0YW1lbnRvKTt0aGlzLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUbyh0LGksZSl9ZWxzZSB0aGlzLmZyZXF1ZW5jeS5zZXRWYWx1ZUF0VGltZSh0LGUpO3JldHVybiB0aGlzfSx0Lk1vbm9waG9uaWN9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjkpLGkoNSksaSgxKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU2NhbGU9ZnVuY3Rpb24oZSxpKXt0LlNpZ25hbEJhc2UuY2FsbCh0aGlzKSx0aGlzLl9vdXRwdXRNaW49dC5kZWZhdWx0QXJnKGUsMCksdGhpcy5fb3V0cHV0TWF4PXQuZGVmYXVsdEFyZyhpLDEpLHRoaXMuX3NjYWxlPXRoaXMuaW5wdXQ9bmV3IHQuTXVsdGlwbHkoMSksdGhpcy5fYWRkPXRoaXMub3V0cHV0PW5ldyB0LkFkZCgwKSx0aGlzLl9zY2FsZS5jb25uZWN0KHRoaXMuX2FkZCksdGhpcy5fc2V0UmFuZ2UoKX0sdC5leHRlbmQodC5TY2FsZSx0LlNpZ25hbEJhc2UpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlNjYWxlLnByb3RvdHlwZSxcIm1pblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3V0cHV0TWlufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3V0cHV0TWluPXQsdGhpcy5fc2V0UmFuZ2UoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5TY2FsZS5wcm90b3R5cGUsXCJtYXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX291dHB1dE1heH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX291dHB1dE1heD10LHRoaXMuX3NldFJhbmdlKCl9fSksdC5TY2FsZS5wcm90b3R5cGUuX3NldFJhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fYWRkLnZhbHVlPXRoaXMuX291dHB1dE1pbix0aGlzLl9zY2FsZS52YWx1ZT10aGlzLl9vdXRwdXRNYXgtdGhpcy5fb3V0cHV0TWlufSx0LlNjYWxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2lnbmFsQmFzZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2FkZC5kaXNwb3NlKCksdGhpcy5fYWRkPW51bGwsdGhpcy5fc2NhbGUuZGlzcG9zZSgpLHRoaXMuX3NjYWxlPW51bGwsdGhpc30sdC5TY2FsZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxKSxpKDMpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlZvbHVtZT1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcInZvbHVtZVwiXSx0LlZvbHVtZSk7dC5BdWRpb05vZGUuY2FsbCh0aGlzLGUpLHRoaXMub3V0cHV0PXRoaXMuaW5wdXQ9bmV3IHQuR2FpbihlLnZvbHVtZSx0LlR5cGUuRGVjaWJlbHMpLHRoaXMuX3VubXV0ZWRWb2x1bWU9ZS52b2x1bWUsdGhpcy52b2x1bWU9dGhpcy5vdXRwdXQuZ2Fpbix0aGlzLl9yZWFkT25seShcInZvbHVtZVwiKSx0aGlzLm11dGU9ZS5tdXRlfSx0LmV4dGVuZCh0LlZvbHVtZSx0LkF1ZGlvTm9kZSksdC5Wb2x1bWUuZGVmYXVsdHM9e3ZvbHVtZTowLG11dGU6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlZvbHVtZS5wcm90b3R5cGUsXCJtdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZvbHVtZS52YWx1ZT09PS0xLzB9LHNldDpmdW5jdGlvbih0KXshdGhpcy5tdXRlJiZ0Pyh0aGlzLl91bm11dGVkVm9sdW1lPXRoaXMudm9sdW1lLnZhbHVlLHRoaXMudm9sdW1lLnZhbHVlPS0xLzApOnRoaXMubXV0ZSYmIXQmJih0aGlzLnZvbHVtZS52YWx1ZT10aGlzLl91bm11dGVkVm9sdW1lKX19KSx0LlZvbHVtZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0LmRpc3Bvc2UoKSx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFwidm9sdW1lXCIpLHRoaXMudm9sdW1lLmRpc3Bvc2UoKSx0aGlzLnZvbHVtZT1udWxsLHRoaXN9LHQuVm9sdW1lfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDMpLGkoMzYpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5aZXJvPWZ1bmN0aW9uKCl7dC5TaWduYWxCYXNlLmNhbGwodGhpcyksdGhpcy5fZ2Fpbj10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LkdhaW4sdGhpcy5jb250ZXh0LmdldENvbnN0YW50KDApLmNvbm5lY3QodGhpcy5fZ2Fpbil9LHQuZXh0ZW5kKHQuWmVybyx0LlNpZ25hbEJhc2UpLHQuWmVyby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNpZ25hbEJhc2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9nYWluLmRpc3Bvc2UoKSx0aGlzLl9nYWluPW51bGwsdGhpc30sdC5aZXJvfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDEpLGkoMyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkFkZD1mdW5jdGlvbihlKXt0LlNpZ25hbC5jYWxsKHRoaXMpLHRoaXMuY3JlYXRlSW5zT3V0cygyLDApLHRoaXMuX3N1bT10aGlzLmlucHV0WzBdPXRoaXMuaW5wdXRbMV09dGhpcy5vdXRwdXQ9bmV3IHQuR2Fpbix0aGlzLl9wYXJhbT10aGlzLmlucHV0WzFdPW5ldyB0LlNpZ25hbChlKSx0aGlzLl9wYXJhbS5jb25uZWN0KHRoaXMuX3N1bSksdGhpcy5wcm94eT0hMX0sdC5leHRlbmQodC5BZGQsdC5TaWduYWwpLHQuQWRkLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2lnbmFsLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fc3VtLmRpc3Bvc2UoKSx0aGlzLl9zdW09bnVsbCx0aGlzfSx0LkFkZH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg0NyksaSgzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQW1wbGl0dWRlRW52ZWxvcGU9ZnVuY3Rpb24oKXt0LkVudmVsb3BlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LkdhaW4sdGhpcy5fc2lnLmNvbm5lY3QodGhpcy5vdXRwdXQuZ2Fpbil9LHQuZXh0ZW5kKHQuQW1wbGl0dWRlRW52ZWxvcGUsdC5FbnZlbG9wZSksdC5BbXBsaXR1ZGVFbnZlbG9wZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkVudmVsb3BlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpc30sdC5BbXBsaXR1ZGVFbnZlbG9wZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxMSksaSg2KSxpKDMpLGkoMiksaSg2MyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0LkJ1ZmZlclNvdXJjZT1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImJ1ZmZlclwiLFwib25sb2FkXCJdLHQuQnVmZmVyU291cmNlKTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMsZSksdGhpcy5vbmVuZGVkPWUub25lbmRlZCx0aGlzLl9zdGFydFRpbWU9LTEsdGhpcy5fc291cmNlU3RhcnRlZD0hMSx0aGlzLl9zb3VyY2VTdG9wcGVkPSExLHRoaXMuX3N0b3BUaW1lPS0xLHRoaXMuX2dhaW5Ob2RlPXRoaXMub3V0cHV0PW5ldyB0LkdhaW4oMCksdGhpcy5fc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKSx0aGlzLl9zb3VyY2UuY29ubmVjdCh0aGlzLl9nYWluTm9kZSksdGhpcy5fc291cmNlLm9uZW5kZWQ9dGhpcy5fb25lbmRlZC5iaW5kKHRoaXMpLHRoaXMuX2J1ZmZlcj1uZXcgdC5CdWZmZXIoZS5idWZmZXIsZS5vbmxvYWQpLHRoaXMucGxheWJhY2tSYXRlPW5ldyB0LlBhcmFtKHtwYXJhbTp0aGlzLl9zb3VyY2UucGxheWJhY2tSYXRlLHVuaXRzOnQuVHlwZS5Qb3NpdGl2ZSx2YWx1ZTplLnBsYXliYWNrUmF0ZX0pLHRoaXMuZmFkZUluPWUuZmFkZUluLHRoaXMuZmFkZU91dD1lLmZhZGVPdXQsdGhpcy5jdXJ2ZT1lLmN1cnZlLHRoaXMuX29uZW5kZWRUaW1lb3V0PS0xLHRoaXMubG9vcD1lLmxvb3AsdGhpcy5sb29wU3RhcnQ9ZS5sb29wU3RhcnQsdGhpcy5sb29wRW5kPWUubG9vcEVuZH0sdC5leHRlbmQodC5CdWZmZXJTb3VyY2UsdC5BdWRpb05vZGUpLHQuQnVmZmVyU291cmNlLmRlZmF1bHRzPXtvbmVuZGVkOnQubm9PcCxvbmxvYWQ6dC5ub09wLGxvb3A6ITEsbG9vcFN0YXJ0OjAsbG9vcEVuZDowLGZhZGVJbjowLGZhZGVPdXQ6MCxjdXJ2ZTpcImxpbmVhclwiLHBsYXliYWNrUmF0ZToxfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdGVBdFRpbWUodGhpcy5ub3coKSl9fSksdC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLmdldFN0YXRlQXRUaW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMudG9TZWNvbmRzKGUpLC0xIT09dGhpcy5fc3RhcnRUaW1lJiZ0aGlzLl9zdGFydFRpbWU8PWUmJigtMT09PXRoaXMuX3N0b3BUaW1lfHxlPHRoaXMuX3N0b3BUaW1lKSYmIXRoaXMuX3NvdXJjZVN0b3BwZWQ/dC5TdGF0ZS5TdGFydGVkOnQuU3RhdGUuU3RvcHBlZH0sdC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUsaSxuLG8pe3RoaXMubG9nKFwic3RhcnRcIixlLGksbixvKSx0aGlzLmFzc2VydCgtMT09PXRoaXMuX3N0YXJ0VGltZSxcImNhbiBvbmx5IGJlIHN0YXJ0ZWQgb25jZVwiKSx0aGlzLmFzc2VydCh0aGlzLmJ1ZmZlci5sb2FkZWQsXCJidWZmZXIgaXMgZWl0aGVyIG5vdCBzZXQgb3Igbm90IGxvYWRlZFwiKSx0aGlzLmFzc2VydCghdGhpcy5fc291cmNlU3RvcHBlZCxcInNvdXJjZSBpcyBhbHJlYWR5IHN0b3BwZWRcIiksZT10aGlzLnRvU2Vjb25kcyhlKSxpPXRoaXMubG9vcD90LmRlZmF1bHRBcmcoaSx0aGlzLmxvb3BTdGFydCk6dC5kZWZhdWx0QXJnKGksMCksaT10aGlzLnRvU2Vjb25kcyhpKSxpPU1hdGgubWF4KGksMCksbz10LmRlZmF1bHRBcmcobywxKTt2YXIgcz10aGlzLnRvU2Vjb25kcyh0aGlzLmZhZGVJbik7aWYocz4wPyh0aGlzLl9nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsZSksXCJsaW5lYXJcIj09PXRoaXMuY3VydmU/dGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShvLGUrcyk6dGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUobyxlLHMpKTp0aGlzLl9nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKG8sZSksdGhpcy5fc3RhcnRUaW1lPWUsdC5pc0RlZmluZWQobikpe3ZhciByPXRoaXMudG9TZWNvbmRzKG4pO3I9TWF0aC5tYXgociwwKSx0aGlzLnN0b3AoZStyKX1pZih0aGlzLmxvb3Ape3ZhciBhPXRoaXMubG9vcEVuZHx8dGhpcy5idWZmZXIuZHVyYXRpb24sbD10aGlzLmxvb3BTdGFydDtpPj1hJiYoaT0oaS1sKSUoYS1sKStsKX1yZXR1cm4gdGhpcy5fc291cmNlLmJ1ZmZlcj10aGlzLmJ1ZmZlci5nZXQoKSx0aGlzLl9zb3VyY2UubG9vcEVuZD10aGlzLmxvb3BFbmR8fHRoaXMuYnVmZmVyLmR1cmF0aW9uLGk8dGhpcy5idWZmZXIuZHVyYXRpb24mJih0aGlzLl9zb3VyY2VTdGFydGVkPSEwLHRoaXMuX3NvdXJjZS5zdGFydChlLGkpKSx0aGlzfSx0LkJ1ZmZlclNvdXJjZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbihlKXt0aGlzLmxvZyhcInN0b3BcIixlKSx0aGlzLmFzc2VydCh0aGlzLmJ1ZmZlci5sb2FkZWQsXCJidWZmZXIgaXMgZWl0aGVyIG5vdCBzZXQgb3Igbm90IGxvYWRlZFwiKSx0aGlzLmFzc2VydCghdGhpcy5fc291cmNlU3RvcHBlZCxcInNvdXJjZSBpcyBhbHJlYWR5IHN0b3BwZWRcIiksZT10aGlzLnRvU2Vjb25kcyhlKSwtMSE9PXRoaXMuX3N0b3BUaW1lJiZ0aGlzLmNhbmNlbFN0b3AoKTt2YXIgaT10aGlzLnRvU2Vjb25kcyh0aGlzLmZhZGVPdXQpO3JldHVybiB0aGlzLl9zdG9wVGltZT1lK2ksaT4wP1wibGluZWFyXCI9PT10aGlzLmN1cnZlP3RoaXMuX2dhaW5Ob2RlLmdhaW4ubGluZWFyUmFtcFRvKDAsaSxlKTp0aGlzLl9nYWluTm9kZS5nYWluLnRhcmdldFJhbXBUbygwLGksZSk6KHRoaXMuX2dhaW5Ob2RlLmdhaW4uY2FuY2VsQW5kSG9sZEF0VGltZShlKSx0aGlzLl9nYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsZSkpLHQuY29udGV4dC5jbGVhclRpbWVvdXQodGhpcy5fb25lbmRlZFRpbWVvdXQpLHRoaXMuX29uZW5kZWRUaW1lb3V0PXQuY29udGV4dC5zZXRUaW1lb3V0KHRoaXMuX29uZW5kZWQuYmluZCh0aGlzKSx0aGlzLl9zdG9wVGltZS10aGlzLm5vdygpKSx0aGlzfSx0LkJ1ZmZlclNvdXJjZS5wcm90b3R5cGUuY2FuY2VsU3RvcD1mdW5jdGlvbigpe2lmKC0xIT09dGhpcy5fc3RhcnRUaW1lJiYhdGhpcy5fc291cmNlU3RvcHBlZCl7dmFyIHQ9dGhpcy50b1NlY29uZHModGhpcy5mYWRlSW4pO3RoaXMuX2dhaW5Ob2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRoaXMuX3N0YXJ0VGltZSt0K3RoaXMuc2FtcGxlVGltZSksdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl9vbmVuZGVkVGltZW91dCksdGhpcy5fc3RvcFRpbWU9LTF9cmV0dXJuIHRoaXN9LHQuQnVmZmVyU291cmNlLnByb3RvdHlwZS5fb25lbmRlZD1mdW5jdGlvbigpe2lmKCF0aGlzLl9zb3VyY2VTdG9wcGVkKXt0aGlzLl9zb3VyY2VTdG9wcGVkPSEwO3ZhciB0PVwiZXhwb25lbnRpYWxcIj09PXRoaXMuY3VydmU/Mip0aGlzLmZhZGVPdXQ6MDt0aGlzLl9zb3VyY2VTdGFydGVkJiYtMSE9PXRoaXMuX3N0b3BUaW1lJiZ0aGlzLl9zb3VyY2Uuc3RvcCh0aGlzLl9zdG9wVGltZSt0KSx0aGlzLm9uZW5kZWQodGhpcyl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLFwibG9vcFN0YXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2UubG9vcFN0YXJ0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc291cmNlLmxvb3BTdGFydD10aGlzLnRvU2Vjb25kcyh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLFwibG9vcEVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlLmxvb3BFbmR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zb3VyY2UubG9vcEVuZD10aGlzLnRvU2Vjb25kcyh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9idWZmZXIuc2V0KHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkJ1ZmZlclNvdXJjZS5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2UubG9vcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZS5sb29wPXQsdGhpcy5jYW5jZWxTdG9wKCl9fSksdC5CdWZmZXJTb3VyY2UucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLm9uZW5kZWQ9bnVsbCx0aGlzLl9zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuX3NvdXJjZS5kaXNjb25uZWN0KCksdGhpcy5fc291cmNlPW51bGwsdGhpcy5fZ2Fpbk5vZGUuZGlzcG9zZSgpLHRoaXMuX2dhaW5Ob2RlPW51bGwsdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9zdGFydFRpbWU9LTEsdGhpcy5wbGF5YmFja1JhdGU9bnVsbCx0LmNvbnRleHQuY2xlYXJUaW1lb3V0KHRoaXMuX29uZW5kZWRUaW1lb3V0KSx0aGlzfSx0LkJ1ZmZlclNvdXJjZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4KSxpKDEpLGkoNSksaSgzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRmVlZGJhY2tFZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmZWVkYmFja1wiXSx0LkZlZWRiYWNrRWZmZWN0KTt0LkVmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5fZmVlZGJhY2tHYWluPW5ldyB0LkdhaW4oZS5mZWVkYmFjayx0LlR5cGUuTm9ybWFsUmFuZ2UpLHRoaXMuZmVlZGJhY2s9dGhpcy5fZmVlZGJhY2tHYWluLmdhaW4sdGhpcy5lZmZlY3RSZXR1cm4uY2hhaW4odGhpcy5fZmVlZGJhY2tHYWluLHRoaXMuZWZmZWN0U2VuZCksdGhpcy5fcmVhZE9ubHkoW1wiZmVlZGJhY2tcIl0pfSx0LmV4dGVuZCh0LkZlZWRiYWNrRWZmZWN0LHQuRWZmZWN0KSx0LkZlZWRiYWNrRWZmZWN0LmRlZmF1bHRzPXtmZWVkYmFjazouMTI1fSx0LkZlZWRiYWNrRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoW1wiZmVlZGJhY2tcIl0pLHRoaXMuX2ZlZWRiYWNrR2Fpbi5kaXNwb3NlKCksdGhpcy5fZmVlZGJhY2tHYWluPW51bGwsdGhpcy5mZWVkYmFjaz1udWxsLHRoaXN9LHQuRmVlZGJhY2tFZmZlY3R9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjQpLGkoNCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlRpbWVsaW5lU3RhdGU9ZnVuY3Rpb24oZSl7dC5UaW1lbGluZS5jYWxsKHRoaXMpLHRoaXMuX2luaXRpYWw9ZX0sdC5leHRlbmQodC5UaW1lbGluZVN0YXRlLHQuVGltZWxpbmUpLHQuVGltZWxpbmVTdGF0ZS5wcm90b3R5cGUuZ2V0VmFsdWVBdFRpbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXQodCk7cmV0dXJuIG51bGwhPT1lP2Uuc3RhdGU6dGhpcy5faW5pdGlhbH0sdC5UaW1lbGluZVN0YXRlLnByb3RvdHlwZS5zZXRTdGF0ZUF0VGltZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZCh7c3RhdGU6dCx0aW1lOmV9KSx0aGlzfSx0LlRpbWVsaW5lU3RhdGUucHJvdG90eXBlLmdldExhc3RTdGF0ZT1mdW5jdGlvbih0LGUpe2U9dGhpcy50b1NlY29uZHMoZSk7Zm9yKHZhciBpPXRoaXMuX3NlYXJjaChlKTtpPj0wO2ktLSl7dmFyIG49dGhpcy5fdGltZWxpbmVbaV07aWYobi5zdGF0ZT09PXQpcmV0dXJuIG59fSx0LlRpbWVsaW5lU3RhdGUucHJvdG90eXBlLmdldE5leHRTdGF0ZT1mdW5jdGlvbih0LGUpe2U9dGhpcy50b1NlY29uZHMoZSk7dmFyIGk9dGhpcy5fc2VhcmNoKGUpO2lmKC0xIT09aSlmb3IodmFyIG49aTtuPHRoaXMuX3RpbWVsaW5lLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMuX3RpbWVsaW5lW25dO2lmKG8uc3RhdGU9PT10KXJldHVybiBvfX0sdC5UaW1lbGluZVN0YXRlfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDY2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7aWYodC5zdXBwb3J0ZWQpeyF0Lmdsb2JhbC5oYXNPd25Qcm9wZXJ0eShcIkF1ZGlvQ29udGV4dFwiKSYmdC5nbG9iYWwuaGFzT3duUHJvcGVydHkoXCJ3ZWJraXRBdWRpb0NvbnRleHRcIikmJih0Lmdsb2JhbC5BdWRpb0NvbnRleHQ9dC5nbG9iYWwud2Via2l0QXVkaW9Db250ZXh0KSxBdWRpb0NvbnRleHQucHJvdG90eXBlLmNsb3NlfHwoQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVybiB0LmlzRnVuY3Rpb24odGhpcy5zdXNwZW5kKSYmdGhpcy5zdXNwZW5kKCksUHJvbWlzZS5yZXNvbHZlKCl9KSxBdWRpb0NvbnRleHQucHJvdG90eXBlLnJlc3VtZXx8KEF1ZGlvQ29udGV4dC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jcmVhdGVCdWZmZXIoMSwxLHRoaXMuc2FtcGxlUmF0ZSksZT10aGlzLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3JldHVybiBlLmJ1ZmZlcj10LGUuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uKSxlLnN0YXJ0KDApLFByb21pc2UucmVzb2x2ZSgpfSksIUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2FpbiYmQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVHYWluTm9kZSYmKEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2Fpbj1BdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUdhaW5Ob2RlKSwhQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVEZWxheSYmQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVEZWxheU5vZGUmJihBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZURlbGF5PUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRGVsYXlOb2RlKTt2YXIgZT0hMSxpPW5ldyBPZmZsaW5lQXVkaW9Db250ZXh0KDEsMSw0NDEwMCksbj1uZXcgVWludDMyQXJyYXkoWzExNzkwMTE0MTAsNDgsMTE2MzI4MDcyNyw1NDQ1MDEwOTQsMTYsMTMxMDczLDQ0MTAwLDE3NjQwMCwxMDQ4NTgwLDE2MzUwMTcwNjAsOCwwLDAsMCwwXSkuYnVmZmVyO3RyeXt2YXIgbz1pLmRlY29kZUF1ZGlvRGF0YShuKTtvJiZ0LmlzRnVuY3Rpb24oby50aGVuKSYmKGU9ITApfWNhdGNoKHQpe2U9ITF9ZXx8KEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuX25hdGl2ZV9kZWNvZGVBdWRpb0RhdGE9QXVkaW9Db250ZXh0LnByb3RvdHlwZS5kZWNvZGVBdWRpb0RhdGEsQXVkaW9Db250ZXh0LnByb3RvdHlwZS5kZWNvZGVBdWRpb0RhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsaSl7dGhpcy5fbmF0aXZlX2RlY29kZUF1ZGlvRGF0YSh0LGUsaSl9LmJpbmQodGhpcykpfSl9fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRW1pdHRlcj1mdW5jdGlvbigpe3QuY2FsbCh0aGlzKSx0aGlzLl9ldmVudHM9e319LHQuZXh0ZW5kKHQuRW1pdHRlciksdC5FbWl0dGVyLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10LnNwbGl0KC9cXFcrLyksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3RoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShvKXx8KHRoaXMuX2V2ZW50c1tvXT1bXSksdGhpcy5fZXZlbnRzW29dLnB1c2goZSl9cmV0dXJuIHRoaXN9LHQuRW1pdHRlci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5vZmYodCxpKX0uYmluZCh0aGlzKTtyZXR1cm4gdGhpcy5vbih0LGkpLHRoaXN9LHQuRW1pdHRlci5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsaSl7Zm9yKHZhciBuPWUuc3BsaXQoL1xcVysvKSxvPTA7bzxuLmxlbmd0aDtvKyspaWYoZT1uW29dLHRoaXMuX2V2ZW50cy5oYXNPd25Qcm9wZXJ0eShlKSlpZih0LmlzVW5kZWYoaSkpdGhpcy5fZXZlbnRzW2VdPVtdO2Vsc2UgZm9yKHZhciBzPXRoaXMuX2V2ZW50c1tlXSxyPTA7cjxzLmxlbmd0aDtyKyspc1tyXT09PWkmJnMuc3BsaWNlKHIsMSk7cmV0dXJuIHRoaXN9LHQuRW1pdHRlci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXtpZih0aGlzLl9ldmVudHMpe3ZhciBlPUFycmF5LmFwcGx5KG51bGwsYXJndW1lbnRzKS5zbGljZSgxKTtpZih0aGlzLl9ldmVudHMuaGFzT3duUHJvcGVydHkodCkpZm9yKHZhciBpPXRoaXMuX2V2ZW50c1t0XS5zbGljZSgwKSxuPTAsbz1pLmxlbmd0aDtuPG87bisrKWlbbl0uYXBwbHkodGhpcyxlKX1yZXR1cm4gdGhpc30sdC5FbWl0dGVyLm1peGluPWZ1bmN0aW9uKGUpe3ZhciBpPVtcIm9uXCIsXCJvbmNlXCIsXCJvZmZcIixcImVtaXRcIl07ZS5fZXZlbnRzPXt9O2Zvcih2YXIgbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dLHM9dC5FbWl0dGVyLnByb3RvdHlwZVtvXTtlW29dPXN9cmV0dXJuIHQuRW1pdHRlcn0sdC5FbWl0dGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9ldmVudHM9bnVsbCx0aGlzfSx0LkVtaXR0ZXJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlNpZ25hbEJhc2U9ZnVuY3Rpb24oKXt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpfSx0LmV4dGVuZCh0LlNpZ25hbEJhc2UsdC5BdWRpb05vZGUpLHQuU2lnbmFsQmFzZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlLGksbil7cmV0dXJuIHQuU2lnbmFsJiZ0LlNpZ25hbD09PWUuY29uc3RydWN0b3J8fHQuUGFyYW0mJnQuUGFyYW09PT1lLmNvbnN0cnVjdG9yPyhlLl9wYXJhbS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoMCksZS5fcGFyYW0uc2V0VmFsdWVBdFRpbWUoMCwwKSxlLm92ZXJyaWRkZW49ITApOmUgaW5zdGFuY2VvZiBBdWRpb1BhcmFtJiYoZS5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoMCksZS5zZXRWYWx1ZUF0VGltZSgwLDApKSx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuY29ubmVjdC5jYWxsKHRoaXMsZSxpLG4pLHRoaXN9LHQuU2lnbmFsQmFzZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2KSxpKDE3KSxpKDQ5KSxpKDcxKSxpKDQ4KSxpKDcwKSxpKDY5KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dC5PbW5pT3NjaWxsYXRvcj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwidHlwZVwiXSx0Lk9tbmlPc2NpbGxhdG9yKTt0LlNvdXJjZS5jYWxsKHRoaXMsZSksdGhpcy5mcmVxdWVuY3k9bmV3IHQuU2lnbmFsKGUuZnJlcXVlbmN5LHQuVHlwZS5GcmVxdWVuY3kpLHRoaXMuZGV0dW5lPW5ldyB0LlNpZ25hbChlLmRldHVuZSx0LlR5cGUuQ2VudHMpLHRoaXMuX3NvdXJjZVR5cGU9dm9pZCAwLHRoaXMuX29zY2lsbGF0b3I9bnVsbCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCJdKSx0aGlzLnNldChlKX0sdC5leHRlbmQodC5PbW5pT3NjaWxsYXRvcix0LlNvdXJjZSksdC5PbW5pT3NjaWxsYXRvci5kZWZhdWx0cz17ZnJlcXVlbmN5OjQ0MCxkZXR1bmU6MCx0eXBlOlwic2luZVwiLHBoYXNlOjB9O3ZhciBlPVwiUHVsc2VPc2NpbGxhdG9yXCIsaT1cIlBXTU9zY2lsbGF0b3JcIixuPVwiT3NjaWxsYXRvclwiLG89XCJGTU9zY2lsbGF0b3JcIixzPVwiQU1Pc2NpbGxhdG9yXCIscj1cIkZhdE9zY2lsbGF0b3JcIjt0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fb3NjaWxsYXRvci5zdGFydCh0KX0sdC5PbW5pT3NjaWxsYXRvci5wcm90b3R5cGUuX3N0b3A9ZnVuY3Rpb24odCl7dGhpcy5fb3NjaWxsYXRvci5zdG9wKHQpfSx0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZS5yZXN0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuX29zY2lsbGF0b3IucmVzdGFydCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1cIlwiO3JldHVybiB0aGlzLl9zb3VyY2VUeXBlPT09bz90PVwiZm1cIjp0aGlzLl9zb3VyY2VUeXBlPT09cz90PVwiYW1cIjp0aGlzLl9zb3VyY2VUeXBlPT09ciYmKHQ9XCJmYXRcIiksdCt0aGlzLl9vc2NpbGxhdG9yLnR5cGV9LHNldDpmdW5jdGlvbih0KXtcImZtXCI9PT10LnN1YnN0cigwLDIpPyh0aGlzLl9jcmVhdGVOZXdPc2NpbGxhdG9yKG8pLHRoaXMuX29zY2lsbGF0b3IudHlwZT10LnN1YnN0cigyKSk6XCJhbVwiPT09dC5zdWJzdHIoMCwyKT8odGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihzKSx0aGlzLl9vc2NpbGxhdG9yLnR5cGU9dC5zdWJzdHIoMikpOlwiZmF0XCI9PT10LnN1YnN0cigwLDMpPyh0aGlzLl9jcmVhdGVOZXdPc2NpbGxhdG9yKHIpLHRoaXMuX29zY2lsbGF0b3IudHlwZT10LnN1YnN0cigzKSk6XCJwd21cIj09PXQ/dGhpcy5fY3JlYXRlTmV3T3NjaWxsYXRvcihpKTpcInB1bHNlXCI9PT10P3RoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IoZSk6KHRoaXMuX2NyZWF0ZU5ld09zY2lsbGF0b3IobiksdGhpcy5fb3NjaWxsYXRvci50eXBlPXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZSxcInBhcnRpYWxzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFscz10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZSxcInBhcnRpYWxDb3VudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5wYXJ0aWFsQ291bnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vc2NpbGxhdG9yLnBhcnRpYWxDb3VudD10fX0pLHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLGkpe3JldHVyblwidHlwZVwiPT09ZT90aGlzLnR5cGU9aTp0LmlzT2JqZWN0KGUpJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmKHRoaXMudHlwZT1lLnR5cGUpLHQucHJvdG90eXBlLnNldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpc30sdC5PbW5pT3NjaWxsYXRvci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX29zY2lsbGF0b3IuZ2V0KHQpO3JldHVybiBlLnR5cGU9dGhpcy50eXBlLGV9LHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLl9jcmVhdGVOZXdPc2NpbGxhdG9yPWZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLl9zb3VyY2VUeXBlKXt0aGlzLl9zb3VyY2VUeXBlPWU7dmFyIGk9dFtlXSxuPXRoaXMubm93KCk7aWYobnVsbCE9PXRoaXMuX29zY2lsbGF0b3Ipe3ZhciBvPXRoaXMuX29zY2lsbGF0b3I7by5zdG9wKG4pLHRoaXMuY29udGV4dC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5kaXNwb3NlKCksbz1udWxsfSx0aGlzLmJsb2NrVGltZSl9dGhpcy5fb3NjaWxsYXRvcj1uZXcgaSx0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX29zY2lsbGF0b3IuZnJlcXVlbmN5KSx0aGlzLmRldHVuZS5jb25uZWN0KHRoaXMuX29zY2lsbGF0b3IuZGV0dW5lKSx0aGlzLl9vc2NpbGxhdG9yLmNvbm5lY3QodGhpcy5vdXRwdXQpLHRoaXMuc3RhdGU9PT10LlN0YXRlLlN0YXJ0ZWQmJnRoaXMuX29zY2lsbGF0b3Iuc3RhcnQobil9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5PbW5pT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwaGFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5waGFzZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29zY2lsbGF0b3IucGhhc2U9dH19KTt2YXIgYT17UHVsc2VPc2NpbGxhdG9yOlwicHVsc2VcIixQV01Pc2NpbGxhdG9yOlwicHdtXCIsT3NjaWxsYXRvcjpcIm9zY2lsbGF0b3JcIixGTU9zY2lsbGF0b3I6XCJmbVwiLEFNT3NjaWxsYXRvcjpcImFtXCIsRmF0T3NjaWxsYXRvcjpcImZhdFwifTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLFwic291cmNlVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYVt0aGlzLl9zb3VyY2VUeXBlXX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPVwic2luZVwiO1wicHdtXCIhPT10aGlzLl9vc2NpbGxhdG9yLnR5cGUmJlwicHVsc2VcIiE9PXRoaXMuX29zY2lsbGF0b3IudHlwZSYmKGU9dGhpcy5fb3NjaWxsYXRvci50eXBlKSx0PT09YS5GTU9zY2lsbGF0b3I/dGhpcy50eXBlPVwiZm1cIitlOnQ9PT1hLkFNT3NjaWxsYXRvcj90aGlzLnR5cGU9XCJhbVwiK2U6dD09PWEuRmF0T3NjaWxsYXRvcj90aGlzLnR5cGU9XCJmYXRcIitlOnQ9PT1hLk9zY2lsbGF0b3I/dGhpcy50eXBlPWU6dD09PWEuUHVsc2VPc2NpbGxhdG9yP3RoaXMudHlwZT1cInB1bHNlXCI6dD09PWEuUFdNT3NjaWxsYXRvciYmKHRoaXMudHlwZT1cInB3bVwiKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5PbW5pT3NjaWxsYXRvci5wcm90b3R5cGUsXCJiYXNlVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5iYXNlVHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc291cmNlVHlwZSE9PWEuUHVsc2VPc2NpbGxhdG9yJiZ0aGlzLnNvdXJjZVR5cGUhPT1hLlBXTU9zY2lsbGF0b3ImJih0aGlzLl9vc2NpbGxhdG9yLmJhc2VUeXBlPXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3NvdXJjZVR5cGU9PT1lKXJldHVybiB0aGlzLl9vc2NpbGxhdG9yLndpZHRofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZSxcImNvdW50XCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3NvdXJjZVR5cGU9PT1yKXJldHVybiB0aGlzLl9vc2NpbGxhdG9yLmNvdW50fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc291cmNlVHlwZT09PXImJih0aGlzLl9vc2NpbGxhdG9yLmNvdW50PXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZSxcInNwcmVhZFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2VUeXBlPT09cilyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5zcHJlYWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zb3VyY2VUeXBlPT09ciYmKHRoaXMuX29zY2lsbGF0b3Iuc3ByZWFkPXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk9tbmlPc2NpbGxhdG9yLnByb3RvdHlwZSxcIm1vZHVsYXRpb25UeXBlXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3NvdXJjZVR5cGU9PT1vfHx0aGlzLl9zb3VyY2VUeXBlPT09cylyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5tb2R1bGF0aW9uVHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZVR5cGUhPT1vJiZ0aGlzLl9zb3VyY2VUeXBlIT09c3x8KHRoaXMuX29zY2lsbGF0b3IubW9kdWxhdGlvblR5cGU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLFwibW9kdWxhdGlvbkluZGV4XCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3NvdXJjZVR5cGU9PT1vKXJldHVybiB0aGlzLl9vc2NpbGxhdG9yLm1vZHVsYXRpb25JbmRleH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5PbW5pT3NjaWxsYXRvci5wcm90b3R5cGUsXCJoYXJtb25pY2l0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2VUeXBlPT09b3x8dGhpcy5fc291cmNlVHlwZT09PXMpcmV0dXJuIHRoaXMuX29zY2lsbGF0b3IuaGFybW9uaWNpdHl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLFwibW9kdWxhdGlvbkZyZXF1ZW5jeVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9zb3VyY2VUeXBlPT09aSlyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci5tb2R1bGF0aW9uRnJlcXVlbmN5fX0pLHQuT21uaU9zY2lsbGF0b3IucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5Tb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSksdGhpcy5kZXR1bmUuZGlzcG9zZSgpLHRoaXMuZGV0dW5lPW51bGwsdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5PW51bGwsdGhpcy5fb3NjaWxsYXRvci5kaXNwb3NlKCksdGhpcy5fb3NjaWxsYXRvcj1udWxsLHRoaXMuX3NvdXJjZVR5cGU9bnVsbCx0aGlzfSx0Lk9tbmlPc2NpbGxhdG9yfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDMwKSxpKDM3KSxpKDEpLGkoMjUpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5TeW50aD1mdW5jdGlvbihlKXtlPXQuZGVmYXVsdEFyZyhlLHQuU3ludGguZGVmYXVsdHMpLHQuTW9ub3Bob25pYy5jYWxsKHRoaXMsZSksdGhpcy5vc2NpbGxhdG9yPW5ldyB0Lk9tbmlPc2NpbGxhdG9yKGUub3NjaWxsYXRvciksdGhpcy5mcmVxdWVuY3k9dGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeSx0aGlzLmRldHVuZT10aGlzLm9zY2lsbGF0b3IuZGV0dW5lLHRoaXMuZW52ZWxvcGU9bmV3IHQuQW1wbGl0dWRlRW52ZWxvcGUoZS5lbnZlbG9wZSksdGhpcy5vc2NpbGxhdG9yLmNoYWluKHRoaXMuZW52ZWxvcGUsdGhpcy5vdXRwdXQpLHRoaXMuX3JlYWRPbmx5KFtcIm9zY2lsbGF0b3JcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJlbnZlbG9wZVwiXSl9LHQuZXh0ZW5kKHQuU3ludGgsdC5Nb25vcGhvbmljKSx0LlN5bnRoLmRlZmF1bHRzPXtvc2NpbGxhdG9yOnt0eXBlOlwidHJpYW5nbGVcIn0sZW52ZWxvcGU6e2F0dGFjazouMDA1LGRlY2F5Oi4xLHN1c3RhaW46LjMscmVsZWFzZToxfX0sdC5TeW50aC5wcm90b3R5cGUuX3RyaWdnZXJFbnZlbG9wZUF0dGFjaz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVudmVsb3BlLnRyaWdnZXJBdHRhY2sodCxlKSx0aGlzLm9zY2lsbGF0b3Iuc3RhcnQodCksMD09PXRoaXMuZW52ZWxvcGUuc3VzdGFpbiYmdGhpcy5vc2NpbGxhdG9yLnN0b3AodCt0aGlzLmVudmVsb3BlLmF0dGFjayt0aGlzLmVudmVsb3BlLmRlY2F5KSx0aGlzfSx0LlN5bnRoLnByb3RvdHlwZS5fdHJpZ2dlckVudmVsb3BlUmVsZWFzZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLmVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHQpLHRoaXMub3NjaWxsYXRvci5zdG9wKHQrdGhpcy5lbnZlbG9wZS5yZWxlYXNlKSx0aGlzfSx0LlN5bnRoLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTW9ub3Bob25pYy5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcIm9zY2lsbGF0b3JcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJlbnZlbG9wZVwiXSksdGhpcy5vc2NpbGxhdG9yLmRpc3Bvc2UoKSx0aGlzLm9zY2lsbGF0b3I9bnVsbCx0aGlzLmVudmVsb3BlLmRpc3Bvc2UoKSx0aGlzLmVudmVsb3BlPW51bGwsdGhpcy5mcmVxdWVuY3k9bnVsbCx0aGlzLmRldHVuZT1udWxsLHRoaXN9LHQuU3ludGh9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNiksaSgxMSksaSgzMSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QuTm9pc2U9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ0eXBlXCJdLHQuTm9pc2UpO3QuU291cmNlLmNhbGwodGhpcyxlKSx0aGlzLl9zb3VyY2U9bnVsbCx0aGlzLl90eXBlPWUudHlwZSx0aGlzLl9wbGF5YmFja1JhdGU9ZS5wbGF5YmFja1JhdGV9LHQuZXh0ZW5kKHQuTm9pc2UsdC5Tb3VyY2UpLHQuTm9pc2UuZGVmYXVsdHM9e3R5cGU6XCJ3aGl0ZVwiLHBsYXliYWNrUmF0ZToxfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Ob2lzZS5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxzZXQ6ZnVuY3Rpb24oaSl7aWYodGhpcy5fdHlwZSE9PWkpe2lmKCEoaSBpbiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVG9uZS5Ob2lzZTogaW52YWxpZCB0eXBlOiBcIitpKTtpZih0aGlzLl90eXBlPWksdGhpcy5zdGF0ZT09PXQuU3RhdGUuU3RhcnRlZCl7dmFyIG49dGhpcy5ub3coKTt0aGlzLl9zdG9wKG4pLHRoaXMuX3N0YXJ0KG4pfX19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTm9pc2UucHJvdG90eXBlLFwicGxheWJhY2tSYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5YmFja1JhdGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wbGF5YmFja1JhdGU9dCx0aGlzLl9zb3VyY2UmJih0aGlzLl9zb3VyY2UucGxheWJhY2tSYXRlLnZhbHVlPXQpfX0pLHQuTm9pc2UucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihpKXt2YXIgbj1lW3RoaXMuX3R5cGVdO3RoaXMuX3NvdXJjZT1uZXcgdC5CdWZmZXJTb3VyY2UobikuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5fc291cmNlLmxvb3A9ITAsdGhpcy5fc291cmNlLnBsYXliYWNrUmF0ZS52YWx1ZT10aGlzLl9wbGF5YmFja1JhdGUsdGhpcy5fc291cmNlLnN0YXJ0KHRoaXMudG9TZWNvbmRzKGkpLE1hdGgucmFuZG9tKCkqKG4uZHVyYXRpb24tLjAwMSkpfSx0Lk5vaXNlLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbih0KXt0aGlzLl9zb3VyY2UmJih0aGlzLl9zb3VyY2Uuc3RvcCh0aGlzLnRvU2Vjb25kcyh0KSksdGhpcy5fc291cmNlPW51bGwpfSx0Lk5vaXNlLnByb3RvdHlwZS5yZXN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdG9wKHQpLHRoaXMuX3N0YXJ0KHQpLHRoaXN9LHQuTm9pc2UucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5Tb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSxudWxsIT09dGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlLmRpc2Nvbm5lY3QoKSx0aGlzLl9zb3VyY2U9bnVsbCksdGhpcy5fYnVmZmVyPW51bGwsdGhpc307dmFyIGU9e30saT17fTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwaW5rXCIse2dldDpmdW5jdGlvbigpe2lmKCFpLnBpbmspe2Zvcih2YXIgZT1bXSxuPTA7bjwyO24rKyl7dmFyIG8scyxyLGEsbCxoLHUsYz1uZXcgRmxvYXQzMkFycmF5KDIyMDUwMCk7ZVtuXT1jLG89cz1yPWE9bD1oPXU9MDtmb3IodmFyIHA9MDtwPDIyMDUwMDtwKyspe3ZhciBmPTIqTWF0aC5yYW5kb20oKS0xO289Ljk5ODg2Km8rLjA1NTUxNzkqZixzPS45OTMzMipzKy4wNzUwNzU5KmYscj0uOTY5KnIrLjE1Mzg1MipmLGE9Ljg2NjUqYSsuMzEwNDg1NipmLGw9LjU1KmwrLjUzMjk1MjIqZixoPS0uNzYxNipoLS4wMTY4OTgqZixjW3BdPW8rcytyK2ErbCtoK3UrLjUzNjIqZixjW3BdKj0uMTEsdT0uMTE1OTI2KmZ9fWkucGluaz0obmV3IHQuQnVmZmVyKS5mcm9tQXJyYXkoZSl9cmV0dXJuIGkucGlua319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImJyb3duXCIse2dldDpmdW5jdGlvbigpe2lmKCFpLmJyb3duKXtmb3IodmFyIGU9W10sbj0wO248MjtuKyspe3ZhciBvPW5ldyBGbG9hdDMyQXJyYXkoMjIwNTAwKTtlW25dPW87Zm9yKHZhciBzPTAscj0wO3I8MjIwNTAwO3IrKyl7dmFyIGE9MipNYXRoLnJhbmRvbSgpLTE7b1tyXT0ocysuMDIqYSkvMS4wMixzPW9bcl0sb1tyXSo9My41fX1pLmJyb3duPShuZXcgdC5CdWZmZXIpLmZyb21BcnJheShlKX1yZXR1cm4gaS5icm93bn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIndoaXRlXCIse2dldDpmdW5jdGlvbigpe2lmKCFpLndoaXRlKXtmb3IodmFyIGU9W10sbj0wO248MjtuKyspe3ZhciBvPW5ldyBGbG9hdDMyQXJyYXkoMjIwNTAwKTtlW25dPW87Zm9yKHZhciBzPTA7czwyMjA1MDA7cysrKW9bc109MipNYXRoLnJhbmRvbSgpLTF9aS53aGl0ZT0obmV3IHQuQnVmZmVyKS5mcm9tQXJyYXkoZSl9cmV0dXJuIGkud2hpdGV9fSksdC5Ob2lzZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyNyksaSgyMCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dC5NYXN0ZXI9ZnVuY3Rpb24oKXt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHQuZ2V0Q29udGV4dChmdW5jdGlvbigpe3RoaXMuY3JlYXRlSW5zT3V0cygxLDApLHRoaXMuX3ZvbHVtZT10aGlzLm91dHB1dD1uZXcgdC5Wb2x1bWUsdGhpcy52b2x1bWU9dGhpcy5fdm9sdW1lLnZvbHVtZSx0aGlzLl9yZWFkT25seShcInZvbHVtZVwiKSx0aGlzLmlucHV0LmNoYWluKHRoaXMub3V0cHV0LHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5jb250ZXh0Lm1hc3Rlcj10aGlzfS5iaW5kKHRoaXMpKX0sdC5leHRlbmQodC5NYXN0ZXIsdC5BdWRpb05vZGUpLHQuTWFzdGVyLmRlZmF1bHRzPXt2b2x1bWU6MCxtdXRlOiExfSx0Lk1hc3Rlci5wcm90b3R5cGUuaXNNYXN0ZXI9ITAsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTWFzdGVyLnByb3RvdHlwZSxcIm11dGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZS5tdXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lLm11dGU9dH19KSx0Lk1hc3Rlci5wcm90b3R5cGUuY2hhaW49ZnVuY3Rpb24oKXt0aGlzLmlucHV0LmRpc2Nvbm5lY3QoKSx0aGlzLmlucHV0LmNoYWluLmFwcGx5KHRoaXMuaW5wdXQsYXJndW1lbnRzKSxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXS5jb25uZWN0KHRoaXMub3V0cHV0KX0sdC5NYXN0ZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFwidm9sdW1lXCIpLHRoaXMuX3ZvbHVtZS5kaXNwb3NlKCksdGhpcy5fdm9sdW1lPW51bGwsdGhpcy52b2x1bWU9bnVsbH0sdC5BdWRpb05vZGUucHJvdG90eXBlLnRvTWFzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdCh0aGlzLmNvbnRleHQubWFzdGVyKSx0aGlzfTt2YXIgZT10Lk1hc3RlcjtyZXR1cm4gdC5NYXN0ZXI9bmV3IGUsdC5Db250ZXh0Lm9uKFwiaW5pdFwiLGZ1bmN0aW9uKGkpe2kubWFzdGVyJiZpLm1hc3Rlci5pc01hc3Rlcj90Lk1hc3Rlcj1pLm1hc3Rlcjp0Lk1hc3Rlcj1uZXcgZX0pLHQuQ29udGV4dC5vbihcImNsb3NlXCIsZnVuY3Rpb24odCl7dC5tYXN0ZXImJnQubWFzdGVyLmlzTWFzdGVyJiZ0Lm1hc3Rlci5kaXNwb3NlKCl9KSx0Lk1hc3Rlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4OSksaSg0NyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZyZXF1ZW5jeUVudmVsb3BlPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiYXR0YWNrXCIsXCJkZWNheVwiLFwic3VzdGFpblwiLFwicmVsZWFzZVwiXSx0LkVudmVsb3BlKTtlPXQuZGVmYXVsdEFyZyhlLHQuRnJlcXVlbmN5RW52ZWxvcGUuZGVmYXVsdHMpLHQuU2NhbGVkRW52ZWxvcGUuY2FsbCh0aGlzLGUpLHRoaXMuX29jdGF2ZXM9ZS5vY3RhdmVzLHRoaXMuYmFzZUZyZXF1ZW5jeT1lLmJhc2VGcmVxdWVuY3ksdGhpcy5vY3RhdmVzPWUub2N0YXZlcyx0aGlzLmV4cG9uZW50PWUuZXhwb25lbnR9LHQuZXh0ZW5kKHQuRnJlcXVlbmN5RW52ZWxvcGUsdC5FbnZlbG9wZSksdC5GcmVxdWVuY3lFbnZlbG9wZS5kZWZhdWx0cz17YmFzZUZyZXF1ZW5jeToyMDAsb2N0YXZlczo0LGV4cG9uZW50OjF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZyZXF1ZW5jeUVudmVsb3BlLnByb3RvdHlwZSxcImJhc2VGcmVxdWVuY3lcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjYWxlLm1pbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NjYWxlLm1pbj10aGlzLnRvRnJlcXVlbmN5KHQpLHRoaXMub2N0YXZlcz10aGlzLl9vY3RhdmVzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZyZXF1ZW5jeUVudmVsb3BlLnByb3RvdHlwZSxcIm9jdGF2ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29jdGF2ZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vY3RhdmVzPXQsdGhpcy5fc2NhbGUubWF4PXRoaXMuYmFzZUZyZXF1ZW5jeSpNYXRoLnBvdygyLHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZyZXF1ZW5jeUVudmVsb3BlLnByb3RvdHlwZSxcImV4cG9uZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHAudmFsdWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9leHAudmFsdWU9dH19KSx0LkZyZXF1ZW5jeUVudmVsb3BlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2NhbGVkRW52ZWxvcGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzfSx0LkZyZXF1ZW5jeUVudmVsb3BlfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDI2KSxpKDYxKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuU2NhbGVFeHA9ZnVuY3Rpb24oZSxpLG4pe3QuU2lnbmFsQmFzZS5jYWxsKHRoaXMpLHRoaXMuX3NjYWxlPXRoaXMub3V0cHV0PW5ldyB0LlNjYWxlKGUsaSksdGhpcy5fZXhwPXRoaXMuaW5wdXQ9bmV3IHQuUG93KHQuZGVmYXVsdEFyZyhuLDIpKSx0aGlzLl9leHAuY29ubmVjdCh0aGlzLl9zY2FsZSl9LHQuZXh0ZW5kKHQuU2NhbGVFeHAsdC5TaWduYWxCYXNlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5TY2FsZUV4cC5wcm90b3R5cGUsXCJleHBvbmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwLnZhbHVlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXhwLnZhbHVlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuU2NhbGVFeHAucHJvdG90eXBlLFwibWluXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZS5taW59LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zY2FsZS5taW49dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5TY2FsZUV4cC5wcm90b3R5cGUsXCJtYXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjYWxlLm1heH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NjYWxlLm1heD10fX0pLHQuU2NhbGVFeHAucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TaWduYWxCYXNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fc2NhbGUuZGlzcG9zZSgpLHRoaXMuX3NjYWxlPW51bGwsdGhpcy5fZXhwLmRpc3Bvc2UoKSx0aGlzLl9leHA9bnVsbCx0aGlzfSx0LlNjYWxlRXhwfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDE0KSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Db21wcmVzc29yPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1widGhyZXNob2xkXCIsXCJyYXRpb1wiXSx0LkNvbXByZXNzb3IpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5fY29tcHJlc3Nvcj10aGlzLmlucHV0PXRoaXMub3V0cHV0PXRoaXMuY29udGV4dC5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKSx0aGlzLnRocmVzaG9sZD1uZXcgdC5QYXJhbSh7cGFyYW06dGhpcy5fY29tcHJlc3Nvci50aHJlc2hvbGQsdW5pdHM6dC5UeXBlLkRlY2liZWxzLGNvbnZlcnQ6ITF9KSx0aGlzLmF0dGFjaz1uZXcgdC5QYXJhbSh0aGlzLl9jb21wcmVzc29yLmF0dGFjayx0LlR5cGUuVGltZSksdGhpcy5yZWxlYXNlPW5ldyB0LlBhcmFtKHRoaXMuX2NvbXByZXNzb3IucmVsZWFzZSx0LlR5cGUuVGltZSksdGhpcy5rbmVlPW5ldyB0LlBhcmFtKHtwYXJhbTp0aGlzLl9jb21wcmVzc29yLmtuZWUsdW5pdHM6dC5UeXBlLkRlY2liZWxzLGNvbnZlcnQ6ITF9KSx0aGlzLnJhdGlvPW5ldyB0LlBhcmFtKHtwYXJhbTp0aGlzLl9jb21wcmVzc29yLnJhdGlvLGNvbnZlcnQ6ITF9KSx0aGlzLl9yZWFkT25seShbXCJrbmVlXCIsXCJyZWxlYXNlXCIsXCJhdHRhY2tcIixcInJhdGlvXCIsXCJ0aHJlc2hvbGRcIl0pLHRoaXMuc2V0KGUpfSx0LmV4dGVuZCh0LkNvbXByZXNzb3IsdC5BdWRpb05vZGUpLHQuQ29tcHJlc3Nvci5kZWZhdWx0cz17cmF0aW86MTIsdGhyZXNob2xkOi0yNCxyZWxlYXNlOi4yNSxhdHRhY2s6LjAwMyxrbmVlOjMwfSx0LkNvbXByZXNzb3IucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJrbmVlXCIsXCJyZWxlYXNlXCIsXCJhdHRhY2tcIixcInJhdGlvXCIsXCJ0aHJlc2hvbGRcIl0pLHRoaXMuX2NvbXByZXNzb3IuZGlzY29ubmVjdCgpLHRoaXMuX2NvbXByZXNzb3I9bnVsbCx0aGlzLmF0dGFjay5kaXNwb3NlKCksdGhpcy5hdHRhY2s9bnVsbCx0aGlzLnJlbGVhc2UuZGlzcG9zZSgpLHRoaXMucmVsZWFzZT1udWxsLHRoaXMudGhyZXNob2xkLmRpc3Bvc2UoKSx0aGlzLnRocmVzaG9sZD1udWxsLHRoaXMucmF0aW8uZGlzcG9zZSgpLHRoaXMucmF0aW89bnVsbCx0aGlzLmtuZWUuZGlzcG9zZSgpLHRoaXMua25lZT1udWxsLHRoaXN9LHQuQ29tcHJlc3Nvcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyKSxpKDk2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQW5hbHlzZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ0eXBlXCIsXCJzaXplXCJdLHQuQW5hbHlzZXIpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5fYW5hbHlzZXI9dGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKSx0aGlzLl90eXBlPWUudHlwZSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLnNpemU9ZS5zaXplLHRoaXMudHlwZT1lLnR5cGV9LHQuZXh0ZW5kKHQuQW5hbHlzZXIsdC5BdWRpb05vZGUpLHQuQW5hbHlzZXIuZGVmYXVsdHM9e3NpemU6MTAyNCx0eXBlOlwiZmZ0XCIsc21vb3RoaW5nOi44fSx0LkFuYWx5c2VyLlR5cGU9e1dhdmVmb3JtOlwid2F2ZWZvcm1cIixGRlQ6XCJmZnRcIn0sdC5BbmFseXNlci5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZT09PXQuQW5hbHlzZXIuVHlwZS5GRlQ/dGhpcy5fYW5hbHlzZXIuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhKHRoaXMuX2J1ZmZlcik6dGhpcy5fdHlwZT09PXQuQW5hbHlzZXIuVHlwZS5XYXZlZm9ybSYmdGhpcy5fYW5hbHlzZXIuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YSh0aGlzLl9idWZmZXIpLHRoaXMuX2J1ZmZlcn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQW5hbHlzZXIucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hbmFseXNlci5mZnRTaXplPTIqdCx0aGlzLl9idWZmZXI9bmV3IEZsb2F0MzJBcnJheSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BbmFseXNlci5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoZSE9PXQuQW5hbHlzZXIuVHlwZS5XYXZlZm9ybSYmZSE9PXQuQW5hbHlzZXIuVHlwZS5GRlQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRvbmUuQW5hbHlzZXI6IGludmFsaWQgdHlwZTogXCIrZSk7dGhpcy5fdHlwZT1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkFuYWx5c2VyLnByb3RvdHlwZSxcInNtb290aGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50PXR9fSksdC5BbmFseXNlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fYW5hbHlzZXIuZGlzY29ubmVjdCgpLHRoaXMuX2FuYWx5c2VyPW51bGwsdGhpcy5fYnVmZmVyPW51bGx9LHQuQW5hbHlzZXJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNjUpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5UcmFuc3BvcnRUaW1lPWZ1bmN0aW9uKGUsaSl7aWYoISh0aGlzIGluc3RhbmNlb2YgdC5UcmFuc3BvcnRUaW1lKSlyZXR1cm4gbmV3IHQuVHJhbnNwb3J0VGltZShlLGkpO3QuVGltZS5jYWxsKHRoaXMsZSxpKX0sdC5leHRlbmQodC5UcmFuc3BvcnRUaW1lLHQuVGltZSksdC5UcmFuc3BvcnRUaW1lLnByb3RvdHlwZS5fbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHQuVHJhbnNwb3J0LnNlY29uZHN9LHQuVHJhbnNwb3J0VGltZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2NCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3QuRnJlcXVlbmN5PWZ1bmN0aW9uKGUsaSl7aWYoISh0aGlzIGluc3RhbmNlb2YgdC5GcmVxdWVuY3kpKXJldHVybiBuZXcgdC5GcmVxdWVuY3koZSxpKTt0LlRpbWVCYXNlLmNhbGwodGhpcyxlLGkpfSx0LmV4dGVuZCh0LkZyZXF1ZW5jeSx0LlRpbWVCYXNlKSx0LkZyZXF1ZW5jeS5wcm90b3R5cGUuX2V4cHJlc3Npb25zPU9iamVjdC5hc3NpZ24oe30sdC5UaW1lQmFzZS5wcm90b3R5cGUuX2V4cHJlc3Npb25zLHttaWRpOntyZWdleHA6L14oXFxkKyg/OlxcLlxcZCspP21pZGkpLyxtZXRob2Q6ZnVuY3Rpb24oZSl7cmV0dXJuXCJtaWRpXCI9PT10aGlzLl9kZWZhdWx0VW5pdHM/ZTp0LkZyZXF1ZW5jeS5tdG9mKGUpfX0sbm90ZTp7cmVnZXhwOi9eKFthLWddezF9KD86YnwjfHh8YmIpPykoLT9bMC05XSspL2ksbWV0aG9kOmZ1bmN0aW9uKGksbil7dmFyIG89ZVtpLnRvTG93ZXJDYXNlKCldKzEyKihwYXJzZUludChuKSsxKTtyZXR1cm5cIm1pZGlcIj09PXRoaXMuX2RlZmF1bHRVbml0cz9vOnQuRnJlcXVlbmN5Lm10b2Yobyl9fSx0cjp7cmVnZXhwOi9eKFxcZCsoPzpcXC5cXGQrKT8pOihcXGQrKD86XFwuXFxkKyk/KTo/KFxcZCsoPzpcXC5cXGQrKT8pPy8sbWV0aG9kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0xO3JldHVybiB0JiZcIjBcIiE9PXQmJihuKj10aGlzLl9iZWF0c1RvVW5pdHModGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpKnBhcnNlRmxvYXQodCkpKSxlJiZcIjBcIiE9PWUmJihuKj10aGlzLl9iZWF0c1RvVW5pdHMocGFyc2VGbG9hdChlKSkpLGkmJlwiMFwiIT09aSYmKG4qPXRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KGkpLzQpKSxufX19KSx0LkZyZXF1ZW5jeS5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnZhbHVlT2YoKSp0LmludGVydmFsVG9GcmVxdWVuY3lSYXRpbyhlKSl9LHQuRnJlcXVlbmN5LnByb3RvdHlwZS5oYXJtb25pemU9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zcG9zZSh0KX0uYmluZCh0aGlzKSl9LHQuRnJlcXVlbmN5LnByb3RvdHlwZS50b01pZGk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5GcmVxdWVuY3kuZnRvbSh0aGlzLnZhbHVlT2YoKSl9LHQuRnJlcXVlbmN5LnByb3RvdHlwZS50b05vdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvRnJlcXVlbmN5KCksbj1NYXRoLmxvZzIoZS90LkZyZXF1ZW5jeS5BNCksbz1NYXRoLnJvdW5kKDEyKm4pKzU3LHM9TWF0aC5mbG9vcihvLzEyKTtyZXR1cm4gczwwJiYobys9LTEyKnMpLGlbbyUxMl0rcy50b1N0cmluZygpfSx0LkZyZXF1ZW5jeS5wcm90b3R5cGUudG9TZWNvbmRzPWZ1bmN0aW9uKCl7cmV0dXJuIDEvdC5UaW1lQmFzZS5wcm90b3R5cGUudG9TZWNvbmRzLmNhbGwodGhpcyl9LHQuRnJlcXVlbmN5LnByb3RvdHlwZS50b0ZyZXF1ZW5jeT1mdW5jdGlvbigpe3JldHVybiB0LlRpbWVCYXNlLnByb3RvdHlwZS50b0ZyZXF1ZW5jeS5jYWxsKHRoaXMpfSx0LkZyZXF1ZW5jeS5wcm90b3R5cGUudG9UaWNrcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2JlYXRzVG9Vbml0cygxKSxpPXRoaXMudmFsdWVPZigpL2U7cmV0dXJuIE1hdGguZmxvb3IoaSp0LlRyYW5zcG9ydC5QUFEpfSx0LkZyZXF1ZW5jeS5wcm90b3R5cGUuX25vQXJnPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHQuRnJlcXVlbmN5LnByb3RvdHlwZS5fZnJlcXVlbmN5VG9Vbml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5GcmVxdWVuY3kucHJvdG90eXBlLl90aWNrc1RvVW5pdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIDEvKDYwKmUvKHQuVHJhbnNwb3J0LmJwbS52YWx1ZSp0LlRyYW5zcG9ydC5QUFEpKX0sdC5GcmVxdWVuY3kucHJvdG90eXBlLl9iZWF0c1RvVW5pdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIDEvdC5UaW1lQmFzZS5wcm90b3R5cGUuX2JlYXRzVG9Vbml0cy5jYWxsKHRoaXMsZSl9LHQuRnJlcXVlbmN5LnByb3RvdHlwZS5fc2Vjb25kc1RvVW5pdHM9ZnVuY3Rpb24odCl7cmV0dXJuIDEvdH0sdC5GcmVxdWVuY3kucHJvdG90eXBlLl9kZWZhdWx0VW5pdHM9XCJoelwiO3ZhciBlPXtjYmI6LTIsY2I6LTEsYzowLFwiYyNcIjoxLGN4OjIsZGJiOjAsZGI6MSxkOjIsXCJkI1wiOjMsZHg6NCxlYmI6MixlYjozLGU6NCxcImUjXCI6NSxleDo2LGZiYjozLGZiOjQsZjo1LFwiZiNcIjo2LGZ4OjcsZ2JiOjUsZ2I6NixnOjcsXCJnI1wiOjgsZ3g6OSxhYmI6NyxhYjo4LGE6OSxcImEjXCI6MTAsYXg6MTEsYmJiOjksYmI6MTAsYjoxMSxcImIjXCI6MTIsYng6MTN9LGk9W1wiQ1wiLFwiQyNcIixcIkRcIixcIkQjXCIsXCJFXCIsXCJGXCIsXCJGI1wiLFwiR1wiLFwiRyNcIixcIkFcIixcIkEjXCIsXCJCXCJdO3JldHVybiB0LkZyZXF1ZW5jeS5BND00NDAsdC5GcmVxdWVuY3kubXRvZj1mdW5jdGlvbihlKXtyZXR1cm4gdC5GcmVxdWVuY3kuQTQqTWF0aC5wb3coMiwoZS02OSkvMTIpfSx0LkZyZXF1ZW5jeS5mdG9tPWZ1bmN0aW9uKGUpe3JldHVybiA2OStNYXRoLnJvdW5kKDEyKk1hdGgubG9nMihlL3QuRnJlcXVlbmN5LkE0KSl9LHQuRnJlcXVlbmN5fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDEpLGkoNjEpLGkoNCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRW52ZWxvcGU9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJhdHRhY2tcIixcImRlY2F5XCIsXCJzdXN0YWluXCIsXCJyZWxlYXNlXCJdLHQuRW52ZWxvcGUpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5hdHRhY2s9ZS5hdHRhY2ssdGhpcy5kZWNheT1lLmRlY2F5LHRoaXMuc3VzdGFpbj1lLnN1c3RhaW4sdGhpcy5yZWxlYXNlPWUucmVsZWFzZSx0aGlzLl9hdHRhY2tDdXJ2ZT1cImxpbmVhclwiLHRoaXMuX3JlbGVhc2VDdXJ2ZT1cImV4cG9uZW50aWFsXCIsdGhpcy5fc2lnPXRoaXMub3V0cHV0PW5ldyB0LlNpZ25hbCgwKSx0aGlzLmF0dGFja0N1cnZlPWUuYXR0YWNrQ3VydmUsdGhpcy5yZWxlYXNlQ3VydmU9ZS5yZWxlYXNlQ3VydmUsdGhpcy5kZWNheUN1cnZlPWUuZGVjYXlDdXJ2ZX0sdC5leHRlbmQodC5FbnZlbG9wZSx0LkF1ZGlvTm9kZSksdC5FbnZlbG9wZS5kZWZhdWx0cz17YXR0YWNrOi4wMSxkZWNheTouMSxzdXN0YWluOi41LHJlbGVhc2U6MSxhdHRhY2tDdXJ2ZTpcImxpbmVhclwiLGRlY2F5Q3VydmU6XCJleHBvbmVudGlhbFwiLHJlbGVhc2VDdXJ2ZTpcImV4cG9uZW50aWFsXCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkVudmVsb3BlLnByb3RvdHlwZSxcInZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlQXRUaW1lKHRoaXMubm93KCkpfX0pLHQuRW52ZWxvcGUucHJvdG90eXBlLl9nZXRDdXJ2ZT1mdW5jdGlvbihlLGkpe2lmKHQuaXNTdHJpbmcoZSkpcmV0dXJuIGU7aWYodC5pc0FycmF5KGUpKXtmb3IodmFyIG4gaW4gdC5FbnZlbG9wZS5UeXBlKWlmKHQuRW52ZWxvcGUuVHlwZVtuXVtpXT09PWUpcmV0dXJuIG47cmV0dXJuIGV9fSx0LkVudmVsb3BlLnByb3RvdHlwZS5fc2V0Q3VydmU9ZnVuY3Rpb24oZSxpLG4pe2lmKHQuRW52ZWxvcGUuVHlwZS5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIG89dC5FbnZlbG9wZS5UeXBlW25dO3QuaXNPYmplY3Qobyk/dGhpc1tlXT1vW2ldOnRoaXNbZV09b31lbHNle2lmKCF0LmlzQXJyYXkobikpdGhyb3cgbmV3IEVycm9yKFwiVG9uZS5FbnZlbG9wZTogaW52YWxpZCBjdXJ2ZTogXCIrbik7dGhpc1tlXT1ufX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRW52ZWxvcGUucHJvdG90eXBlLFwiYXR0YWNrQ3VydmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEN1cnZlKHRoaXMuX2F0dGFja0N1cnZlLFwiSW5cIil9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zZXRDdXJ2ZShcIl9hdHRhY2tDdXJ2ZVwiLFwiSW5cIix0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5FbnZlbG9wZS5wcm90b3R5cGUsXCJyZWxlYXNlQ3VydmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEN1cnZlKHRoaXMuX3JlbGVhc2VDdXJ2ZSxcIk91dFwiKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldEN1cnZlKFwiX3JlbGVhc2VDdXJ2ZVwiLFwiT3V0XCIsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRW52ZWxvcGUucHJvdG90eXBlLFwiZGVjYXlDdXJ2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVjYXlDdXJ2ZX0sc2V0OmZ1bmN0aW9uKHQpe2lmKCFbXCJsaW5lYXJcIixcImV4cG9uZW50aWFsXCJdLmluY2x1ZGVzKHQpKXRocm93IG5ldyBFcnJvcihcIlRvbmUuRW52ZWxvcGU6IGludmFsaWQgY3VydmU6IFwiK3QpO3RoaXMuX2RlY2F5Q3VydmU9dH19KSx0LkVudmVsb3BlLnByb3RvdHlwZS50cmlnZ2VyQXR0YWNrPWZ1bmN0aW9uKGUsaSl7dGhpcy5sb2coXCJ0cmlnZ2VyQXR0YWNrXCIsZSxpKSxlPXRoaXMudG9TZWNvbmRzKGUpO3ZhciBuPXRoaXMudG9TZWNvbmRzKHRoaXMuYXR0YWNrKSxvPXRoaXMudG9TZWNvbmRzKHRoaXMuZGVjYXkpO2k9dC5kZWZhdWx0QXJnKGksMSk7dmFyIHM9dGhpcy5nZXRWYWx1ZUF0VGltZShlKTtzPjAmJihuPSgxLXMpLygxL24pKTtpZihcImxpbmVhclwiPT09dGhpcy5fYXR0YWNrQ3VydmUpdGhpcy5fc2lnLmxpbmVhclJhbXBUbyhpLG4sZSk7ZWxzZSBpZihcImV4cG9uZW50aWFsXCI9PT10aGlzLl9hdHRhY2tDdXJ2ZSl0aGlzLl9zaWcudGFyZ2V0UmFtcFRvKGksbixlKTtlbHNlIGlmKG4+MCl7dGhpcy5fc2lnLmNhbmNlbEFuZEhvbGRBdFRpbWUoZSk7Zm9yKHZhciByPXRoaXMuX2F0dGFja0N1cnZlLGE9MTthPHIubGVuZ3RoO2ErKylpZihyW2EtMV08PXMmJnM8PXJbYV0peyhyPXRoaXMuX2F0dGFja0N1cnZlLnNsaWNlKGEpKVswXT1zO2JyZWFrfXRoaXMuX3NpZy5zZXRWYWx1ZUN1cnZlQXRUaW1lKHIsZSxuLGkpfWlmKG8pe3ZhciBsPWkqdGhpcy5zdXN0YWluLGg9ZStuO3RoaXMubG9nKFwiZGVjYXlcIixoKSxcImxpbmVhclwiPT09dGhpcy5fZGVjYXlDdXJ2ZT90aGlzLl9zaWcubGluZWFyUmFtcFRvKGwsbyxoK3RoaXMuc2FtcGxlVGltZSk6XCJleHBvbmVudGlhbFwiPT09dGhpcy5fZGVjYXlDdXJ2ZSYmdGhpcy5fc2lnLmV4cG9uZW50aWFsQXBwcm9hY2hWYWx1ZUF0VGltZShsLGgsbyl9cmV0dXJuIHRoaXN9LHQuRW52ZWxvcGUucHJvdG90eXBlLnRyaWdnZXJSZWxlYXNlPWZ1bmN0aW9uKGUpe3RoaXMubG9nKFwidHJpZ2dlclJlbGVhc2VcIixlKSxlPXRoaXMudG9TZWNvbmRzKGUpO3ZhciBpPXRoaXMuZ2V0VmFsdWVBdFRpbWUoZSk7aWYoaT4wKXt2YXIgbj10aGlzLnRvU2Vjb25kcyh0aGlzLnJlbGVhc2UpO2lmKFwibGluZWFyXCI9PT10aGlzLl9yZWxlYXNlQ3VydmUpdGhpcy5fc2lnLmxpbmVhclJhbXBUbygwLG4sZSk7ZWxzZSBpZihcImV4cG9uZW50aWFsXCI9PT10aGlzLl9yZWxlYXNlQ3VydmUpdGhpcy5fc2lnLnRhcmdldFJhbXBUbygwLG4sZSk7ZWxzZXt2YXIgbz10aGlzLl9yZWxlYXNlQ3VydmU7dC5pc0FycmF5KG8pJiYodGhpcy5fc2lnLmNhbmNlbEFuZEhvbGRBdFRpbWUoZSksdGhpcy5fc2lnLnNldFZhbHVlQ3VydmVBdFRpbWUobyxlLG4saSkpfX1yZXR1cm4gdGhpc30sdC5FbnZlbG9wZS5wcm90b3R5cGUuZ2V0VmFsdWVBdFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NpZy5nZXRWYWx1ZUF0VGltZSh0KX0sdC5FbnZlbG9wZS5wcm90b3R5cGUudHJpZ2dlckF0dGFja1JlbGVhc2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlPXRoaXMudG9TZWNvbmRzKGUpLHRoaXMudHJpZ2dlckF0dGFjayhlLGkpLHRoaXMudHJpZ2dlclJlbGVhc2UoZSt0aGlzLnRvU2Vjb25kcyh0KSksdGhpc30sdC5FbnZlbG9wZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zaWcuY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpLHRoaXN9LHQuRW52ZWxvcGUucHJvdG90eXBlLmNvbm5lY3Q9dC5TaWduYWxCYXNlLnByb3RvdHlwZS5jb25uZWN0LGZ1bmN0aW9uKCl7dmFyIGUsaSxuPVtdO2ZvcihlPTA7ZTwxMjg7ZSsrKW5bZV09TWF0aC5zaW4oZS8xMjcqKE1hdGguUEkvMikpO3ZhciBvPVtdO2ZvcihlPTA7ZTwxMjc7ZSsrKXtpPWUvMTI3O3ZhciBzPU1hdGguc2luKGkqKDIqTWF0aC5QSSkqNi40LU1hdGguUEkvMikrMTtvW2VdPXMvMTArLjgzKml9b1sxMjddPTE7dmFyIHI9W107Zm9yKGU9MDtlPDEyODtlKyspcltlXT1NYXRoLmNlaWwoZS8xMjcqNSkvNTt2YXIgYT1bXTtmb3IoZT0wO2U8MTI4O2UrKylpPWUvMTI3LGFbZV09LjUqKDEtTWF0aC5jb3MoTWF0aC5QSSppKSk7dmFyIGwsaD1bXTtmb3IoZT0wO2U8MTI4O2UrKyl7aT1lLzEyNzt2YXIgdT00Kk1hdGgucG93KGksMykrLjIsYz1NYXRoLmNvcyh1Kk1hdGguUEkqMippKTtoW2VdPU1hdGguYWJzKGMqKDEtaSkpfWZ1bmN0aW9uIHAodCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCksaT0wO2k8dC5sZW5ndGg7aSsrKWVbaV09MS10W2ldO3JldHVybiBlfXQuRW52ZWxvcGUuVHlwZT17bGluZWFyOlwibGluZWFyXCIsZXhwb25lbnRpYWw6XCJleHBvbmVudGlhbFwiLGJvdW5jZTp7SW46cChoKSxPdXQ6aH0sY29zaW5lOntJbjpuLE91dDoobD1uLGwuc2xpY2UoMCkucmV2ZXJzZSgpKX0sc3RlcDp7SW46cixPdXQ6cChyKX0scmlwcGxlOntJbjpvLE91dDpwKG8pfSxzaW5lOntJbjphLE91dDpwKGEpfX19KCksdC5FbnZlbG9wZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3NpZy5kaXNwb3NlKCksdGhpcy5fc2lnPW51bGwsdGhpcy5fYXR0YWNrQ3VydmU9bnVsbCx0aGlzLl9yZWxlYXNlQ3VydmU9bnVsbCx0aGlzfSx0LkVudmVsb3BlfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDYpLGkoMTcpLGkoNSksaSgzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRk1Pc2NpbGxhdG9yPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCIsXCJtb2R1bGF0aW9uVHlwZVwiXSx0LkZNT3NjaWxsYXRvcik7dC5Tb3VyY2UuY2FsbCh0aGlzLGUpLHRoaXMuX2NhcnJpZXI9bmV3IHQuT3NjaWxsYXRvcihlLmZyZXF1ZW5jeSxlLnR5cGUpLHRoaXMuZnJlcXVlbmN5PW5ldyB0LlNpZ25hbChlLmZyZXF1ZW5jeSx0LlR5cGUuRnJlcXVlbmN5KSx0aGlzLmRldHVuZT10aGlzLl9jYXJyaWVyLmRldHVuZSx0aGlzLmRldHVuZS52YWx1ZT1lLmRldHVuZSx0aGlzLm1vZHVsYXRpb25JbmRleD1uZXcgdC5NdWx0aXBseShlLm1vZHVsYXRpb25JbmRleCksdGhpcy5tb2R1bGF0aW9uSW5kZXgudW5pdHM9dC5UeXBlLlBvc2l0aXZlLHRoaXMuX21vZHVsYXRvcj1uZXcgdC5Pc2NpbGxhdG9yKGUuZnJlcXVlbmN5LGUubW9kdWxhdGlvblR5cGUpLHRoaXMuaGFybW9uaWNpdHk9bmV3IHQuTXVsdGlwbHkoZS5oYXJtb25pY2l0eSksdGhpcy5oYXJtb25pY2l0eS51bml0cz10LlR5cGUuUG9zaXRpdmUsdGhpcy5fbW9kdWxhdGlvbk5vZGU9bmV3IHQuR2FpbigwKSx0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5KSx0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLmhhcm1vbmljaXR5LHRoaXMuX21vZHVsYXRvci5mcmVxdWVuY3kpLHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMubW9kdWxhdGlvbkluZGV4LHRoaXMuX21vZHVsYXRpb25Ob2RlKSx0aGlzLl9tb2R1bGF0b3IuY29ubmVjdCh0aGlzLl9tb2R1bGF0aW9uTm9kZS5nYWluKSx0aGlzLl9tb2R1bGF0aW9uTm9kZS5jb25uZWN0KHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5KSx0aGlzLl9jYXJyaWVyLmNvbm5lY3QodGhpcy5vdXRwdXQpLHRoaXMuZGV0dW5lLmNvbm5lY3QodGhpcy5fbW9kdWxhdG9yLmRldHVuZSksdGhpcy5waGFzZT1lLnBoYXNlLHRoaXMuX3JlYWRPbmx5KFtcIm1vZHVsYXRpb25JbmRleFwiLFwiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIixcImhhcm1vbmljaXR5XCJdKX0sdC5leHRlbmQodC5GTU9zY2lsbGF0b3IsdC5Tb3VyY2UpLHQuRk1Pc2NpbGxhdG9yLmRlZmF1bHRzPXtmcmVxdWVuY3k6NDQwLGRldHVuZTowLHBoYXNlOjAsdHlwZTpcInNpbmVcIixtb2R1bGF0aW9uSW5kZXg6Mixtb2R1bGF0aW9uVHlwZTpcInNxdWFyZVwiLGhhcm1vbmljaXR5OjF9LHQuRk1Pc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fbW9kdWxhdG9yLnN0YXJ0KHQpLHRoaXMuX2NhcnJpZXIuc3RhcnQodCl9LHQuRk1Pc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbih0KXt0aGlzLl9tb2R1bGF0b3Iuc3RvcCh0KSx0aGlzLl9jYXJyaWVyLnN0b3AodCl9LHQuRk1Pc2NpbGxhdG9yLnByb3RvdHlwZS5yZXN0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuX21vZHVsYXRvci5yZXN0YXJ0KHQpLHRoaXMuX2NhcnJpZXIucmVzdGFydCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRk1Pc2NpbGxhdG9yLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NhcnJpZXIudHlwZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZNT3NjaWxsYXRvci5wcm90b3R5cGUsXCJiYXNlVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2Fycmllci5iYXNlVHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NhcnJpZXIuYmFzZVR5cGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5GTU9zY2lsbGF0b3IucHJvdG90eXBlLFwicGFydGlhbENvdW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXJyaWVyLnBhcnRpYWxDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NhcnJpZXIucGFydGlhbENvdW50PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRk1Pc2NpbGxhdG9yLnByb3RvdHlwZSxcIm1vZHVsYXRpb25UeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2R1bGF0b3IudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX21vZHVsYXRvci50eXBlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRk1Pc2NpbGxhdG9yLnByb3RvdHlwZSxcInBoYXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXJyaWVyLnBoYXNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2Fycmllci5waGFzZT10LHRoaXMuX21vZHVsYXRvci5waGFzZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZNT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwYXJ0aWFsc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2Fycmllci5wYXJ0aWFsc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NhcnJpZXIucGFydGlhbHM9dH19KSx0LkZNT3NjaWxsYXRvci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcIm1vZHVsYXRpb25JbmRleFwiLFwiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIixcImhhcm1vbmljaXR5XCJdKSx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5mcmVxdWVuY3k9bnVsbCx0aGlzLmRldHVuZT1udWxsLHRoaXMuaGFybW9uaWNpdHkuZGlzcG9zZSgpLHRoaXMuaGFybW9uaWNpdHk9bnVsbCx0aGlzLl9jYXJyaWVyLmRpc3Bvc2UoKSx0aGlzLl9jYXJyaWVyPW51bGwsdGhpcy5fbW9kdWxhdG9yLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0b3I9bnVsbCx0aGlzLl9tb2R1bGF0aW9uTm9kZS5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdGlvbk5vZGU9bnVsbCx0aGlzLm1vZHVsYXRpb25JbmRleC5kaXNwb3NlKCksdGhpcy5tb2R1bGF0aW9uSW5kZXg9bnVsbCx0aGlzfSx0LkZNT3NjaWxsYXRvcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2KSxpKDE3KSxpKDEpLGkoNyksaSgzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUHVsc2VPc2NpbGxhdG9yPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ3aWR0aFwiXSx0Lk9zY2lsbGF0b3IpO3QuU291cmNlLmNhbGwodGhpcyxlKSx0aGlzLndpZHRoPW5ldyB0LlNpZ25hbChlLndpZHRoLHQuVHlwZS5Ob3JtYWxSYW5nZSksdGhpcy5fd2lkdGhHYXRlPW5ldyB0LkdhaW4oMCksdGhpcy5fc2F3dG9vdGg9bmV3IHQuT3NjaWxsYXRvcih7ZnJlcXVlbmN5OmUuZnJlcXVlbmN5LGRldHVuZTplLmRldHVuZSx0eXBlOlwic2F3dG9vdGhcIixwaGFzZTplLnBoYXNlfSksdGhpcy5mcmVxdWVuY3k9dGhpcy5fc2F3dG9vdGguZnJlcXVlbmN5LHRoaXMuZGV0dW5lPXRoaXMuX3Nhd3Rvb3RoLmRldHVuZSx0aGlzLl90aHJlc2g9bmV3IHQuV2F2ZVNoYXBlcihmdW5jdGlvbih0KXtyZXR1cm4gdDwwPy0xOjF9KSx0aGlzLl9zYXd0b290aC5jaGFpbih0aGlzLl90aHJlc2gsdGhpcy5vdXRwdXQpLHRoaXMud2lkdGguY2hhaW4odGhpcy5fd2lkdGhHYXRlLHRoaXMuX3RocmVzaCksdGhpcy5fcmVhZE9ubHkoW1wid2lkdGhcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCJdKX0sdC5leHRlbmQodC5QdWxzZU9zY2lsbGF0b3IsdC5Tb3VyY2UpLHQuUHVsc2VPc2NpbGxhdG9yLmRlZmF1bHRzPXtmcmVxdWVuY3k6NDQwLGRldHVuZTowLHBoYXNlOjAsd2lkdGg6LjJ9LHQuUHVsc2VPc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9zYXd0b290aC5zdGFydCh0KSx0aGlzLl93aWR0aEdhdGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLHQpfSx0LlB1bHNlT3NjaWxsYXRvci5wcm90b3R5cGUuX3N0b3A9ZnVuY3Rpb24odCl7dD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9zYXd0b290aC5zdG9wKHQpLHRoaXMuX3dpZHRoR2F0ZS5nYWluLnNldFZhbHVlQXRUaW1lKDAsdCl9LHQuUHVsc2VPc2NpbGxhdG9yLnByb3RvdHlwZS5yZXN0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuX3Nhd3Rvb3RoLnJlc3RhcnQodCksdGhpcy5fd2lkdGhHYXRlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHQpLHRoaXMuX3dpZHRoR2F0ZS5nYWluLnNldFZhbHVlQXRUaW1lKDEsdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlB1bHNlT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwaGFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2F3dG9vdGgucGhhc2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zYXd0b290aC5waGFzZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlB1bHNlT3NjaWxsYXRvci5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicHVsc2VcIn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QdWxzZU9zY2lsbGF0b3IucHJvdG90eXBlLFwiYmFzZVR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJwdWxzZVwifX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlB1bHNlT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwYXJ0aWFsc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5bXX19KSx0LlB1bHNlT3NjaWxsYXRvci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3Nhd3Rvb3RoLmRpc3Bvc2UoKSx0aGlzLl9zYXd0b290aD1udWxsLHRoaXMuX3dyaXRhYmxlKFtcIndpZHRoXCIsXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSksdGhpcy53aWR0aC5kaXNwb3NlKCksdGhpcy53aWR0aD1udWxsLHRoaXMuX3dpZHRoR2F0ZS5kaXNwb3NlKCksdGhpcy5fd2lkdGhHYXRlPW51bGwsdGhpcy5fdGhyZXNoLmRpc3Bvc2UoKSx0aGlzLl90aHJlc2g9bnVsbCx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGV0dW5lPW51bGwsdGhpc30sdC5QdWxzZU9zY2lsbGF0b3J9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMTYpLGkoNCksaSgzMyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkV2ZW50PWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcInZhbHVlXCJdLHQuRXZlbnQpO3QuY2FsbCh0aGlzKSx0aGlzLl9sb29wPWUubG9vcCx0aGlzLmNhbGxiYWNrPWUuY2FsbGJhY2ssdGhpcy52YWx1ZT1lLnZhbHVlLHRoaXMuX2xvb3BTdGFydD10aGlzLnRvVGlja3MoZS5sb29wU3RhcnQpLHRoaXMuX2xvb3BFbmQ9dGhpcy50b1RpY2tzKGUubG9vcEVuZCksdGhpcy5fc3RhdGU9bmV3IHQuVGltZWxpbmVTdGF0ZSh0LlN0YXRlLlN0b3BwZWQpLHRoaXMuX3BsYXliYWNrUmF0ZT0xLHRoaXMuX3N0YXJ0T2Zmc2V0PTAsdGhpcy5fcHJvYmFiaWxpdHk9ZS5wcm9iYWJpbGl0eSx0aGlzLl9odW1hbml6ZT1lLmh1bWFuaXplLHRoaXMubXV0ZT1lLm11dGUsdGhpcy5wbGF5YmFja1JhdGU9ZS5wbGF5YmFja1JhdGV9LHQuZXh0ZW5kKHQuRXZlbnQpLHQuRXZlbnQuZGVmYXVsdHM9e2NhbGxiYWNrOnQubm9PcCxsb29wOiExLGxvb3BFbmQ6XCIxbVwiLGxvb3BTdGFydDowLHBsYXliYWNrUmF0ZToxLHZhbHVlOm51bGwscHJvYmFiaWxpdHk6MSxtdXRlOiExLGh1bWFuaXplOiExfSx0LkV2ZW50LnByb3RvdHlwZS5fcmVzY2hlZHVsZUV2ZW50cz1mdW5jdGlvbihlKXtyZXR1cm4gZT10LmRlZmF1bHRBcmcoZSwtMSksdGhpcy5fc3RhdGUuZm9yRWFjaEZyb20oZSxmdW5jdGlvbihlKXt2YXIgaTtpZihlLnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkKXt0LmlzRGVmaW5lZChlLmlkKSYmdC5UcmFuc3BvcnQuY2xlYXIoZS5pZCk7dmFyIG49ZS50aW1lK01hdGgucm91bmQodGhpcy5zdGFydE9mZnNldC90aGlzLl9wbGF5YmFja1JhdGUpO2lmKHRoaXMuX2xvb3Ape2k9MS8wLHQuaXNOdW1iZXIodGhpcy5fbG9vcCkmJihpPXRoaXMuX2xvb3AqdGhpcy5fZ2V0TG9vcER1cmF0aW9uKCkpO3ZhciBvPXRoaXMuX3N0YXRlLmdldEFmdGVyKG4pO251bGwhPT1vJiYoaT1NYXRoLm1pbihpLG8udGltZS1uKSksaSE9PTEvMCYmKHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RvcHBlZCxuK2krMSksaT10LlRpY2tzKGkpKTt2YXIgcz10LlRpY2tzKHRoaXMuX2dldExvb3BEdXJhdGlvbigpKTtlLmlkPXQuVHJhbnNwb3J0LnNjaGVkdWxlUmVwZWF0KHRoaXMuX3RpY2suYmluZCh0aGlzKSxzLHQuVGlja3MobiksaSl9ZWxzZSBlLmlkPXQuVHJhbnNwb3J0LnNjaGVkdWxlKHRoaXMuX3RpY2suYmluZCh0aGlzKSx0LlRpY2tzKG4pKX19LmJpbmQodGhpcykpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkV2ZW50LnByb3RvdHlwZSxcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0LlRyYW5zcG9ydC50aWNrcyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRXZlbnQucHJvdG90eXBlLFwic3RhcnRPZmZzZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0T2Zmc2V0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRPZmZzZXQ9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5FdmVudC5wcm90b3R5cGUsXCJwcm9iYWJpbGl0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvYmFiaWxpdHl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wcm9iYWJpbGl0eT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkV2ZW50LnByb3RvdHlwZSxcImh1bWFuaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9odW1hbml6ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2h1bWFuaXplPXR9fSksdC5FdmVudC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy50b1RpY2tzKGUpLHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGUpPT09dC5TdGF0ZS5TdG9wcGVkJiYodGhpcy5fc3RhdGUuYWRkKHtzdGF0ZTp0LlN0YXRlLlN0YXJ0ZWQsdGltZTplLGlkOnZvaWQgMH0pLHRoaXMuX3Jlc2NoZWR1bGVFdmVudHMoZSkpLHRoaXN9LHQuRXZlbnQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oZSl7aWYodGhpcy5jYW5jZWwoZSksZT10aGlzLnRvVGlja3MoZSksdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoZSk9PT10LlN0YXRlLlN0YXJ0ZWQpe3RoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RvcHBlZCxlKTt2YXIgaT10aGlzLl9zdGF0ZS5nZXRCZWZvcmUoZSksbj1lO251bGwhPT1pJiYobj1pLnRpbWUpLHRoaXMuX3Jlc2NoZWR1bGVFdmVudHMobil9cmV0dXJuIHRoaXN9LHQuRXZlbnQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihlKXtyZXR1cm4gZT10LmRlZmF1bHRBcmcoZSwtMS8wKSxlPXRoaXMudG9UaWNrcyhlKSx0aGlzLl9zdGF0ZS5mb3JFYWNoRnJvbShlLGZ1bmN0aW9uKGUpe3QuVHJhbnNwb3J0LmNsZWFyKGUuaWQpfSksdGhpcy5fc3RhdGUuY2FuY2VsKGUpLHRoaXN9LHQuRXZlbnQucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKGUpe3ZhciBpPXQuVHJhbnNwb3J0LmdldFRpY2tzQXRUaW1lKGUpO2lmKCF0aGlzLm11dGUmJnRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGkpPT09dC5TdGF0ZS5TdGFydGVkKXtpZih0aGlzLnByb2JhYmlsaXR5PDEmJk1hdGgucmFuZG9tKCk+dGhpcy5wcm9iYWJpbGl0eSlyZXR1cm47aWYodGhpcy5odW1hbml6ZSl7dmFyIG49LjAyO3QuaXNCb29sZWFuKHRoaXMuaHVtYW5pemUpfHwobj10aGlzLnRvU2Vjb25kcyh0aGlzLmh1bWFuaXplKSksZSs9KDIqTWF0aC5yYW5kb20oKS0xKSpufXRoaXMuY2FsbGJhY2soZSx0aGlzLnZhbHVlKX19LHQuRXZlbnQucHJvdG90eXBlLl9nZXRMb29wRHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgodGhpcy5fbG9vcEVuZC10aGlzLl9sb29wU3RhcnQpL3RoaXMuX3BsYXliYWNrUmF0ZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkV2ZW50LnByb3RvdHlwZSxcImxvb3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvb3B9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wPXQsdGhpcy5fcmVzY2hlZHVsZUV2ZW50cygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkV2ZW50LnByb3RvdHlwZSxcInBsYXliYWNrUmF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxheWJhY2tSYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcGxheWJhY2tSYXRlPXQsdGhpcy5fcmVzY2hlZHVsZUV2ZW50cygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkV2ZW50LnByb3RvdHlwZSxcImxvb3BFbmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVGlja3ModGhpcy5fbG9vcEVuZCkudG9TZWNvbmRzKCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wRW5kPXRoaXMudG9UaWNrcyh0KSx0aGlzLl9sb29wJiZ0aGlzLl9yZXNjaGVkdWxlRXZlbnRzKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRXZlbnQucHJvdG90eXBlLFwibG9vcFN0YXJ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlRpY2tzKHRoaXMuX2xvb3BTdGFydCkudG9TZWNvbmRzKCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wU3RhcnQ9dGhpcy50b1RpY2tzKHQpLHRoaXMuX2xvb3AmJnRoaXMuX3Jlc2NoZWR1bGVFdmVudHMoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5FdmVudC5wcm90b3R5cGUsXCJwcm9ncmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9sb29wKXt2YXIgZT10LlRyYW5zcG9ydC50aWNrcyxpPXRoaXMuX3N0YXRlLmdldChlKTtpZihudWxsIT09aSYmaS5zdGF0ZT09PXQuU3RhdGUuU3RhcnRlZCl7dmFyIG49dGhpcy5fZ2V0TG9vcER1cmF0aW9uKCk7cmV0dXJuKGUtaS50aW1lKSVuL259cmV0dXJuIDB9cmV0dXJuIDB9fSksdC5FdmVudC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCksdGhpcy5fc3RhdGUuZGlzcG9zZSgpLHRoaXMuX3N0YXRlPW51bGwsdGhpcy5jYWxsYmFjaz1udWxsLHRoaXMudmFsdWU9bnVsbH0sdC5FdmVudH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxKSxpKDEzKSxpKDI5KSxpKDEwKSxpKDMpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk1pZFNpZGVNZXJnZT1mdW5jdGlvbigpe3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDIsMCksdGhpcy5taWQ9dGhpcy5pbnB1dFswXT1uZXcgdC5HYWluLHRoaXMuX2xlZnQ9bmV3IHQuQWRkLHRoaXMuX3RpbWVzVHdvTGVmdD1uZXcgdC5NdWx0aXBseShNYXRoLlNRUlQxXzIpLHRoaXMuc2lkZT10aGlzLmlucHV0WzFdPW5ldyB0LkdhaW4sdGhpcy5fcmlnaHQ9bmV3IHQuU3VidHJhY3QsdGhpcy5fdGltZXNUd29SaWdodD1uZXcgdC5NdWx0aXBseShNYXRoLlNRUlQxXzIpLHRoaXMuX21lcmdlPXRoaXMub3V0cHV0PW5ldyB0Lk1lcmdlLHRoaXMubWlkLmNvbm5lY3QodGhpcy5fbGVmdCwwLDApLHRoaXMuc2lkZS5jb25uZWN0KHRoaXMuX2xlZnQsMCwxKSx0aGlzLm1pZC5jb25uZWN0KHRoaXMuX3JpZ2h0LDAsMCksdGhpcy5zaWRlLmNvbm5lY3QodGhpcy5fcmlnaHQsMCwxKSx0aGlzLl9sZWZ0LmNvbm5lY3QodGhpcy5fdGltZXNUd29MZWZ0KSx0aGlzLl9yaWdodC5jb25uZWN0KHRoaXMuX3RpbWVzVHdvUmlnaHQpLHRoaXMuX3RpbWVzVHdvTGVmdC5jb25uZWN0KHRoaXMuX21lcmdlLDAsMCksdGhpcy5fdGltZXNUd29SaWdodC5jb25uZWN0KHRoaXMuX21lcmdlLDAsMSl9LHQuZXh0ZW5kKHQuTWlkU2lkZU1lcmdlLHQuQXVkaW9Ob2RlKSx0Lk1pZFNpZGVNZXJnZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMubWlkLmRpc3Bvc2UoKSx0aGlzLm1pZD1udWxsLHRoaXMuc2lkZS5kaXNwb3NlKCksdGhpcy5zaWRlPW51bGwsdGhpcy5fbGVmdC5kaXNwb3NlKCksdGhpcy5fbGVmdD1udWxsLHRoaXMuX3RpbWVzVHdvTGVmdC5kaXNwb3NlKCksdGhpcy5fdGltZXNUd29MZWZ0PW51bGwsdGhpcy5fcmlnaHQuZGlzcG9zZSgpLHRoaXMuX3JpZ2h0PW51bGwsdGhpcy5fdGltZXNUd29SaWdodC5kaXNwb3NlKCksdGhpcy5fdGltZXNUd29SaWdodD1udWxsLHRoaXMuX21lcmdlLmRpc3Bvc2UoKSx0aGlzLl9tZXJnZT1udWxsLHRoaXN9LHQuTWlkU2lkZU1lcmdlfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDI5KSxpKDEzKSxpKDEpLGkoMTkpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk1pZFNpZGVTcGxpdD1mdW5jdGlvbigpe3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDAsMiksdGhpcy5fc3BsaXQ9dGhpcy5pbnB1dD1uZXcgdC5TcGxpdCx0aGlzLl9taWRBZGQ9bmV3IHQuQWRkLHRoaXMubWlkPXRoaXMub3V0cHV0WzBdPW5ldyB0Lk11bHRpcGx5KE1hdGguU1FSVDFfMiksdGhpcy5fc2lkZVN1YnRyYWN0PW5ldyB0LlN1YnRyYWN0LHRoaXMuc2lkZT10aGlzLm91dHB1dFsxXT1uZXcgdC5NdWx0aXBseShNYXRoLlNRUlQxXzIpLHRoaXMuX3NwbGl0LmNvbm5lY3QodGhpcy5fbWlkQWRkLDAsMCksdGhpcy5fc3BsaXQuY29ubmVjdCh0aGlzLl9taWRBZGQsMSwxKSx0aGlzLl9zcGxpdC5jb25uZWN0KHRoaXMuX3NpZGVTdWJ0cmFjdCwwLDApLHRoaXMuX3NwbGl0LmNvbm5lY3QodGhpcy5fc2lkZVN1YnRyYWN0LDEsMSksdGhpcy5fbWlkQWRkLmNvbm5lY3QodGhpcy5taWQpLHRoaXMuX3NpZGVTdWJ0cmFjdC5jb25uZWN0KHRoaXMuc2lkZSl9LHQuZXh0ZW5kKHQuTWlkU2lkZVNwbGl0LHQuQXVkaW9Ob2RlKSx0Lk1pZFNpZGVTcGxpdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMubWlkLmRpc3Bvc2UoKSx0aGlzLm1pZD1udWxsLHRoaXMuc2lkZS5kaXNwb3NlKCksdGhpcy5zaWRlPW51bGwsdGhpcy5fbWlkQWRkLmRpc3Bvc2UoKSx0aGlzLl9taWRBZGQ9bnVsbCx0aGlzLl9zaWRlU3VidHJhY3QuZGlzcG9zZSgpLHRoaXMuX3NpZGVTdWJ0cmFjdD1udWxsLHRoaXMuX3NwbGl0LmRpc3Bvc2UoKSx0aGlzLl9zcGxpdD1udWxsLHRoaXN9LHQuTWlkU2lkZVNwbGl0fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDEpLGkoOSksaSgyKSxpKDU4KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTG93cGFzc0NvbWJGaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcInJlc29uYW5jZVwiLFwiZGFtcGVuaW5nXCJdLHQuTG93cGFzc0NvbWJGaWx0ZXIpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5fY29tYkZpbHRlcj10aGlzLm91dHB1dD1uZXcgdC5GZWVkYmFja0NvbWJGaWx0ZXIoZS5kZWxheVRpbWUsZS5yZXNvbmFuY2UpLHRoaXMuZGVsYXlUaW1lPXRoaXMuX2NvbWJGaWx0ZXIuZGVsYXlUaW1lLHRoaXMuX2xvd3Bhc3M9dGhpcy5pbnB1dD1uZXcgdC5GaWx0ZXIoe2ZyZXF1ZW5jeTplLmRhbXBlbmluZyx0eXBlOlwibG93cGFzc1wiLFE6MCxyb2xsb2ZmOi0xMn0pLHRoaXMuZGFtcGVuaW5nPXRoaXMuX2xvd3Bhc3MuZnJlcXVlbmN5LHRoaXMucmVzb25hbmNlPXRoaXMuX2NvbWJGaWx0ZXIucmVzb25hbmNlLHRoaXMuX2xvd3Bhc3MuY29ubmVjdCh0aGlzLl9jb21iRmlsdGVyKSx0aGlzLl9yZWFkT25seShbXCJkYW1wZW5pbmdcIixcInJlc29uYW5jZVwiLFwiZGVsYXlUaW1lXCJdKX0sdC5leHRlbmQodC5Mb3dwYXNzQ29tYkZpbHRlcix0LkF1ZGlvTm9kZSksdC5Mb3dwYXNzQ29tYkZpbHRlci5kZWZhdWx0cz17ZGVsYXlUaW1lOi4xLHJlc29uYW5jZTouNSxkYW1wZW5pbmc6M2UzfSx0Lkxvd3Bhc3NDb21iRmlsdGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoW1wiZGFtcGVuaW5nXCIsXCJyZXNvbmFuY2VcIixcImRlbGF5VGltZVwiXSksdGhpcy5fY29tYkZpbHRlci5kaXNwb3NlKCksdGhpcy5fY29tYkZpbHRlcj1udWxsLHRoaXMucmVzb25hbmNlPW51bGwsdGhpcy5kZWxheVRpbWU9bnVsbCx0aGlzLl9sb3dwYXNzLmRpc3Bvc2UoKSx0aGlzLl9sb3dwYXNzPW51bGwsdGhpcy5kYW1wZW5pbmc9bnVsbCx0aGlzfSx0Lkxvd3Bhc3NDb21iRmlsdGVyfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDQ1KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuVGlja3M9ZnVuY3Rpb24oZSxpKXtpZighKHRoaXMgaW5zdGFuY2VvZiB0LlRpY2tzKSlyZXR1cm4gbmV3IHQuVGlja3MoZSxpKTt0LlRyYW5zcG9ydFRpbWUuY2FsbCh0aGlzLGUsaSl9LHQuZXh0ZW5kKHQuVGlja3MsdC5UcmFuc3BvcnRUaW1lKSx0LlRpY2tzLnByb3RvdHlwZS5fZGVmYXVsdFVuaXRzPVwiaVwiLHQuVGlja3MucHJvdG90eXBlLl9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gdC5UcmFuc3BvcnQudGlja3N9LHQuVGlja3MucHJvdG90eXBlLl9iZWF0c1RvVW5pdHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldFBQUSgpKnR9LHQuVGlja3MucHJvdG90eXBlLl9zZWNvbmRzVG9Vbml0cz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0Lyg2MC90aGlzLl9nZXRCcG0oKSkqdGhpcy5fZ2V0UFBRKCkpfSx0LlRpY2tzLnByb3RvdHlwZS5fdGlja3NUb1VuaXRzPWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LlRpY2tzLnByb3RvdHlwZS50b1RpY2tzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVPZigpfSx0LlRpY2tzLnByb3RvdHlwZS50b1NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCkvdGhpcy5fZ2V0UFBRKCkqKDYwL3RoaXMuX2dldEJwbSgpKX0sdC5UaWNrc30uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg1NCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0LlRyYW5zcG9ydEV2ZW50PWZ1bmN0aW9uKGUsaSl7aT10LmRlZmF1bHRBcmcoaSx0LlRyYW5zcG9ydEV2ZW50LmRlZmF1bHRzKSx0LmNhbGwodGhpcyksdGhpcy5UcmFuc3BvcnQ9ZSx0aGlzLmlkPXQuVHJhbnNwb3J0RXZlbnQuX2V2ZW50SWQrKyx0aGlzLnRpbWU9dC5UaWNrcyhpLnRpbWUpLHRoaXMuY2FsbGJhY2s9aS5jYWxsYmFjayx0aGlzLl9vbmNlPWkub25jZX0sdC5leHRlbmQodC5UcmFuc3BvcnRFdmVudCksdC5UcmFuc3BvcnRFdmVudC5kZWZhdWx0cz17b25jZTohMSxjYWxsYmFjazp0Lm5vT3B9LHQuVHJhbnNwb3J0RXZlbnQuX2V2ZW50SWQ9MCx0LlRyYW5zcG9ydEV2ZW50LnByb3RvdHlwZS5pbnZva2U9ZnVuY3Rpb24odCl7dGhpcy5jYWxsYmFjayYmKHRoaXMuY2FsbGJhY2sodCksdGhpcy5fb25jZSYmdGhpcy5UcmFuc3BvcnQmJnRoaXMuVHJhbnNwb3J0LmNsZWFyKHRoaXMuaWQpKX0sdC5UcmFuc3BvcnRFdmVudC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5UcmFuc3BvcnQ9bnVsbCx0aGlzLmNhbGxiYWNrPW51bGwsdGhpcy50aW1lPW51bGwsdGhpc30sdC5UcmFuc3BvcnRFdmVudH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4NSksaSgzMyksaSgyNCksaSgxNCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlRpY2tTb3VyY2U9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIl0sdC5UaWNrU291cmNlKTt0aGlzLmZyZXF1ZW5jeT1uZXcgdC5UaWNrU2lnbmFsKGUuZnJlcXVlbmN5KSx0aGlzLl9yZWFkT25seShcImZyZXF1ZW5jeVwiKSx0aGlzLl9zdGF0ZT1uZXcgdC5UaW1lbGluZVN0YXRlKHQuU3RhdGUuU3RvcHBlZCksdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUodC5TdGF0ZS5TdG9wcGVkLDApLHRoaXMuX3RpY2tPZmZzZXQ9bmV3IHQuVGltZWxpbmUsdGhpcy5zZXRUaWNrc0F0VGltZSgwLDApfSx0LmV4dGVuZCh0LlRpY2tTb3VyY2UpLHQuVGlja1NvdXJjZS5kZWZhdWx0cz17ZnJlcXVlbmN5OjF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRpY2tTb3VyY2UucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHRoaXMubm93KCkpfX0pLHQuVGlja1NvdXJjZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShlKSE9PXQuU3RhdGUuU3RhcnRlZCYmKHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RhcnRlZCxlKSx0LmlzRGVmaW5lZChpKSYmdGhpcy5zZXRUaWNrc0F0VGltZShpLGUpKSx0aGlzfSx0LlRpY2tTb3VyY2UucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oZSl7aWYoZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShlKT09PXQuU3RhdGUuU3RvcHBlZCl7dmFyIGk9dGhpcy5fc3RhdGUuZ2V0KGUpO2kudGltZT4wJiYodGhpcy5fdGlja09mZnNldC5jYW5jZWwoaS50aW1lKSx0aGlzLl9zdGF0ZS5jYW5jZWwoaS50aW1lKSl9cmV0dXJuIHRoaXMuX3N0YXRlLmNhbmNlbChlKSx0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZSh0LlN0YXRlLlN0b3BwZWQsZSksdGhpcy5zZXRUaWNrc0F0VGltZSgwLGUpLHRoaXN9LHQuVGlja1NvdXJjZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoZSk9PT10LlN0YXRlLlN0YXJ0ZWQmJnRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuUGF1c2VkLGUpLHRoaXN9LHQuVGlja1NvdXJjZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX3N0YXRlLmNhbmNlbCh0KSx0aGlzLl90aWNrT2Zmc2V0LmNhbmNlbCh0KSx0aGlzfSx0LlRpY2tTb3VyY2UucHJvdG90eXBlLmdldFRpY2tzQXRUaW1lPWZ1bmN0aW9uKGUpe2U9dGhpcy50b1NlY29uZHMoZSk7dmFyIGk9dGhpcy5fc3RhdGUuZ2V0TGFzdFN0YXRlKHQuU3RhdGUuU3RvcHBlZCxlKSxuPXtzdGF0ZTp0LlN0YXRlLlBhdXNlZCx0aW1lOmV9O3RoaXMuX3N0YXRlLmFkZChuKTt2YXIgbz1pLHM9MDtyZXR1cm4gdGhpcy5fc3RhdGUuZm9yRWFjaEJldHdlZW4oaS50aW1lLGUrdGhpcy5zYW1wbGVUaW1lLGZ1bmN0aW9uKGUpe3ZhciBpPW8udGltZSxuPXRoaXMuX3RpY2tPZmZzZXQuZ2V0KGUudGltZSk7bi50aW1lPj1vLnRpbWUmJihzPW4udGlja3MsaT1uLnRpbWUpLG8uc3RhdGU9PT10LlN0YXRlLlN0YXJ0ZWQmJmUuc3RhdGUhPT10LlN0YXRlLlN0YXJ0ZWQmJihzKz10aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShlLnRpbWUpLXRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKGkpKSxvPWV9LmJpbmQodGhpcykpLHRoaXMuX3N0YXRlLnJlbW92ZShuKSxzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5UaWNrU291cmNlLnByb3RvdHlwZSxcInRpY2tzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpY2tzQXRUaW1lKHRoaXMubm93KCkpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRUaWNrc0F0VGltZSh0LHRoaXMubm93KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRpY2tTb3VyY2UucHJvdG90eXBlLFwic2Vjb25kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWNvbmRzQXRUaW1lKHRoaXMubm93KCkpfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub3coKSxpPXRoaXMuZnJlcXVlbmN5LnRpbWVUb1RpY2tzKHQsZSk7dGhpcy5zZXRUaWNrc0F0VGltZShpLGUpfX0pLHQuVGlja1NvdXJjZS5wcm90b3R5cGUuZ2V0U2Vjb25kc0F0VGltZT1mdW5jdGlvbihlKXtlPXRoaXMudG9TZWNvbmRzKGUpO3ZhciBpPXRoaXMuX3N0YXRlLmdldExhc3RTdGF0ZSh0LlN0YXRlLlN0b3BwZWQsZSksbj17c3RhdGU6dC5TdGF0ZS5QYXVzZWQsdGltZTplfTt0aGlzLl9zdGF0ZS5hZGQobik7dmFyIG89aSxzPTA7cmV0dXJuIHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKGkudGltZSxlK3RoaXMuc2FtcGxlVGltZSxmdW5jdGlvbihlKXt2YXIgaT1vLnRpbWUsbj10aGlzLl90aWNrT2Zmc2V0LmdldChlLnRpbWUpO24udGltZT49by50aW1lJiYocz1uLnNlY29uZHMsaT1uLnRpbWUpLG8uc3RhdGU9PT10LlN0YXRlLlN0YXJ0ZWQmJmUuc3RhdGUhPT10LlN0YXRlLlN0YXJ0ZWQmJihzKz1lLnRpbWUtaSksbz1lfS5iaW5kKHRoaXMpKSx0aGlzLl9zdGF0ZS5yZW1vdmUobiksc30sdC5UaWNrU291cmNlLnByb3RvdHlwZS5zZXRUaWNrc0F0VGltZT1mdW5jdGlvbih0LGUpe3JldHVybiBlPXRoaXMudG9TZWNvbmRzKGUpLHRoaXMuX3RpY2tPZmZzZXQuY2FuY2VsKGUpLHRoaXMuX3RpY2tPZmZzZXQuYWRkKHt0aW1lOmUsdGlja3M6dCxzZWNvbmRzOnRoaXMuZnJlcXVlbmN5LmdldER1cmF0aW9uT2ZUaWNrcyh0LGUpfSksdGhpc30sdC5UaWNrU291cmNlLnByb3RvdHlwZS5nZXRTdGF0ZUF0VGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0KX0sdC5UaWNrU291cmNlLnByb3RvdHlwZS5nZXRUaW1lT2ZUaWNrPWZ1bmN0aW9uKGUsaSl7aT10LmRlZmF1bHRBcmcoaSx0aGlzLm5vdygpKTt2YXIgbj10aGlzLl90aWNrT2Zmc2V0LmdldChpKSxvPXRoaXMuX3N0YXRlLmdldChpKSxzPU1hdGgubWF4KG4udGltZSxvLnRpbWUpLHI9dGhpcy5mcmVxdWVuY3kuZ2V0VGlja3NBdFRpbWUocykrZS1uLnRpY2tzO3JldHVybiB0aGlzLmZyZXF1ZW5jeS5nZXRUaW1lT2ZUaWNrKHIpfSx0LlRpY2tTb3VyY2UucHJvdG90eXBlLmZvckVhY2hUaWNrQmV0d2Vlbj1mdW5jdGlvbihlLGksbil7dmFyIG89dGhpcy5fc3RhdGUuZ2V0KGUpO2lmKHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKGUsaSxmdW5jdGlvbihpKXtvLnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkJiZpLnN0YXRlIT09dC5TdGF0ZS5TdGFydGVkJiZ0aGlzLmZvckVhY2hUaWNrQmV0d2VlbihNYXRoLm1heChvLnRpbWUsZSksaS50aW1lLXRoaXMuc2FtcGxlVGltZSxuKSxvPWl9LmJpbmQodGhpcykpLGU9TWF0aC5tYXgoby50aW1lLGUpLG8uc3RhdGU9PT10LlN0YXRlLlN0YXJ0ZWQmJnRoaXMuX3N0YXRlKXt2YXIgcz10aGlzLmZyZXF1ZW5jeS5nZXRUaWNrc0F0VGltZShlKSxyPShzLXRoaXMuZnJlcXVlbmN5LmdldFRpY2tzQXRUaW1lKG8udGltZSkpJTE7MCE9PXImJihyPTEtcik7Zm9yKHZhciBhPXRoaXMuZnJlcXVlbmN5LmdldFRpbWVPZlRpY2socytyKSxsPW51bGw7YTxpJiZ0aGlzLl9zdGF0ZTspe3RyeXtuKGEsTWF0aC5yb3VuZCh0aGlzLmdldFRpY2tzQXRUaW1lKGEpKSl9Y2F0Y2godCl7bD10O2JyZWFrfXRoaXMuX3N0YXRlJiYoYSs9dGhpcy5mcmVxdWVuY3kuZ2V0RHVyYXRpb25PZlRpY2tzKDEsYSkpfX1pZihsKXRocm93IGw7cmV0dXJuIHRoaXN9LHQuVGlja1NvdXJjZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlBhcmFtLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fc3RhdGUuZGlzcG9zZSgpLHRoaXMuX3N0YXRlPW51bGwsdGhpcy5fdGlja09mZnNldC5kaXNwb3NlKCksdGhpcy5fdGlja09mZnNldD1udWxsLHRoaXMuX3dyaXRhYmxlKFwiZnJlcXVlbmN5XCIpLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXN9LHQuVGlja1NvdXJjZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg5MCksaSgxMyksaSgxKSxpKDQpLGkoMTgpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZvbGxvd2VyPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wic21vb3RoaW5nXCJdLHQuRm9sbG93ZXIpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDEsMSksdGhpcy5fYWJzPW5ldyB0LkFicyx0aGlzLl9maWx0ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpLHRoaXMuX2ZpbHRlci50eXBlPVwibG93cGFzc1wiLHRoaXMuX2ZpbHRlci5mcmVxdWVuY3kudmFsdWU9MCx0aGlzLl9maWx0ZXIuUS52YWx1ZT0wLHRoaXMuX3N1Yj1uZXcgdC5TdWJ0cmFjdCx0aGlzLl9kZWxheT1uZXcgdC5EZWxheSh0aGlzLmJsb2NrVGltZSksdGhpcy5fc21vb3RoaW5nPWUuc21vb3RoaW5nLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLl9kZWxheSx0aGlzLl9zdWIpLHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLl9zdWIsMCwxKSx0aGlzLl9zdWIuY2hhaW4odGhpcy5fYWJzLHRoaXMuX2ZpbHRlcix0aGlzLm91dHB1dCksdGhpcy5zbW9vdGhpbmc9ZS5zbW9vdGhpbmd9LHQuZXh0ZW5kKHQuRm9sbG93ZXIsdC5BdWRpb05vZGUpLHQuRm9sbG93ZXIuZGVmYXVsdHM9e3Ntb290aGluZzouMDV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZvbGxvd2VyLnByb3RvdHlwZSxcInNtb290aGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc21vb3RoaW5nfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc21vb3RoaW5nPWUsdGhpcy5fZmlsdGVyLmZyZXF1ZW5jeS52YWx1ZT0uNSp0LlRpbWUoZSkudG9GcmVxdWVuY3koKX19KSx0LkZvbGxvd2VyLnByb3RvdHlwZS5jb25uZWN0PXQuU2lnbmFsQmFzZS5wcm90b3R5cGUuY29ubmVjdCx0LkZvbGxvd2VyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZmlsdGVyLmRpc2Nvbm5lY3QoKSx0aGlzLl9maWx0ZXI9bnVsbCx0aGlzLl9kZWxheS5kaXNwb3NlKCksdGhpcy5fZGVsYXk9bnVsbCx0aGlzLl9zdWIuZGlzY29ubmVjdCgpLHRoaXMuX3N1Yj1udWxsLHRoaXMuX2Ficy5kaXNwb3NlKCksdGhpcy5fYWJzPW51bGwsdGhpc30sdC5Gb2xsb3dlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg0MiksaSgxKSxpKDE0KSxpKDE4KSxpKDMpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZlZWRiYWNrQ29tYkZpbHRlcj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImRlbGF5VGltZVwiLFwicmVzb25hbmNlXCJdLHQuRmVlZGJhY2tDb21iRmlsdGVyKTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuX2RlbGF5PXRoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9bmV3IHQuRGVsYXkoZS5kZWxheVRpbWUpLHRoaXMuZGVsYXlUaW1lPXRoaXMuX2RlbGF5LmRlbGF5VGltZSx0aGlzLl9mZWVkYmFjaz1uZXcgdC5HYWluKGUucmVzb25hbmNlLHQuVHlwZS5Ob3JtYWxSYW5nZSksdGhpcy5yZXNvbmFuY2U9dGhpcy5fZmVlZGJhY2suZ2Fpbix0aGlzLl9kZWxheS5jaGFpbih0aGlzLl9mZWVkYmFjayx0aGlzLl9kZWxheSksdGhpcy5fcmVhZE9ubHkoW1wicmVzb25hbmNlXCIsXCJkZWxheVRpbWVcIl0pfSx0LmV4dGVuZCh0LkZlZWRiYWNrQ29tYkZpbHRlcix0LkF1ZGlvTm9kZSksdC5GZWVkYmFja0NvbWJGaWx0ZXIuZGVmYXVsdHM9e2RlbGF5VGltZTouMSxyZXNvbmFuY2U6LjV9LHQuRmVlZGJhY2tDb21iRmlsdGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoW1wicmVzb25hbmNlXCIsXCJkZWxheVRpbWVcIl0pLHRoaXMuX2RlbGF5LmRpc3Bvc2UoKSx0aGlzLl9kZWxheT1udWxsLHRoaXMuZGVsYXlUaW1lPW51bGwsdGhpcy5fZmVlZGJhY2suZGlzcG9zZSgpLHRoaXMuX2ZlZWRiYWNrPW51bGwsdGhpcy5yZXNvbmFuY2U9bnVsbCx0aGlzfSx0LkZlZWRiYWNrQ29tYkZpbHRlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg5KSxpKDEpLGkoMyksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTXVsdGliYW5kU3BsaXQ9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJsb3dGcmVxdWVuY3lcIixcImhpZ2hGcmVxdWVuY3lcIl0sdC5NdWx0aWJhbmRTcGxpdCk7dC5BdWRpb05vZGUuY2FsbCh0aGlzKSx0aGlzLmlucHV0PW5ldyB0LkdhaW4sdGhpcy5vdXRwdXQ9bmV3IEFycmF5KDMpLHRoaXMubG93PXRoaXMub3V0cHV0WzBdPW5ldyB0LkZpbHRlcigwLFwibG93cGFzc1wiKSx0aGlzLl9sb3dNaWRGaWx0ZXI9bmV3IHQuRmlsdGVyKDAsXCJoaWdocGFzc1wiKSx0aGlzLm1pZD10aGlzLm91dHB1dFsxXT1uZXcgdC5GaWx0ZXIoMCxcImxvd3Bhc3NcIiksdGhpcy5oaWdoPXRoaXMub3V0cHV0WzJdPW5ldyB0LkZpbHRlcigwLFwiaGlnaHBhc3NcIiksdGhpcy5sb3dGcmVxdWVuY3k9bmV3IHQuU2lnbmFsKGUubG93RnJlcXVlbmN5LHQuVHlwZS5GcmVxdWVuY3kpLHRoaXMuaGlnaEZyZXF1ZW5jeT1uZXcgdC5TaWduYWwoZS5oaWdoRnJlcXVlbmN5LHQuVHlwZS5GcmVxdWVuY3kpLHRoaXMuUT1uZXcgdC5TaWduYWwoZS5RKSx0aGlzLmlucHV0LmZhbih0aGlzLmxvdyx0aGlzLmhpZ2gpLHRoaXMuaW5wdXQuY2hhaW4odGhpcy5fbG93TWlkRmlsdGVyLHRoaXMubWlkKSx0aGlzLmxvd0ZyZXF1ZW5jeS5jb25uZWN0KHRoaXMubG93LmZyZXF1ZW5jeSksdGhpcy5sb3dGcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9sb3dNaWRGaWx0ZXIuZnJlcXVlbmN5KSx0aGlzLmhpZ2hGcmVxdWVuY3kuY29ubmVjdCh0aGlzLm1pZC5mcmVxdWVuY3kpLHRoaXMuaGlnaEZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuaGlnaC5mcmVxdWVuY3kpLHRoaXMuUS5jb25uZWN0KHRoaXMubG93LlEpLHRoaXMuUS5jb25uZWN0KHRoaXMuX2xvd01pZEZpbHRlci5RKSx0aGlzLlEuY29ubmVjdCh0aGlzLm1pZC5RKSx0aGlzLlEuY29ubmVjdCh0aGlzLmhpZ2guUSksdGhpcy5fcmVhZE9ubHkoW1wiaGlnaFwiLFwibWlkXCIsXCJsb3dcIixcImhpZ2hGcmVxdWVuY3lcIixcImxvd0ZyZXF1ZW5jeVwiXSl9LHQuZXh0ZW5kKHQuTXVsdGliYW5kU3BsaXQsdC5BdWRpb05vZGUpLHQuTXVsdGliYW5kU3BsaXQuZGVmYXVsdHM9e2xvd0ZyZXF1ZW5jeTo0MDAsaGlnaEZyZXF1ZW5jeToyNTAwLFE6MX0sdC5NdWx0aWJhbmRTcGxpdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcImhpZ2hcIixcIm1pZFwiLFwibG93XCIsXCJoaWdoRnJlcXVlbmN5XCIsXCJsb3dGcmVxdWVuY3lcIl0pLHRoaXMubG93LmRpc3Bvc2UoKSx0aGlzLmxvdz1udWxsLHRoaXMuX2xvd01pZEZpbHRlci5kaXNwb3NlKCksdGhpcy5fbG93TWlkRmlsdGVyPW51bGwsdGhpcy5taWQuZGlzcG9zZSgpLHRoaXMubWlkPW51bGwsdGhpcy5oaWdoLmRpc3Bvc2UoKSx0aGlzLmhpZ2g9bnVsbCx0aGlzLmxvd0ZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5sb3dGcmVxdWVuY3k9bnVsbCx0aGlzLmhpZ2hGcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuaGlnaEZyZXF1ZW5jeT1udWxsLHRoaXMuUS5kaXNwb3NlKCksdGhpcy5RPW51bGwsdGhpc30sdC5NdWx0aWJhbmRTcGxpdH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyMyksaSgxMCksaSgxOSksaSg5MiksaSgxKSxpKDIyKSxpKDI4KSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5QYW5uZXI9ZnVuY3Rpb24oZSl7dC5BdWRpb05vZGUuY2FsbCh0aGlzKSx0aGlzLl9wYW5uZXI9dGhpcy5pbnB1dD10aGlzLm91dHB1dD10aGlzLmNvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCksdGhpcy5wYW49dGhpcy5fcGFubmVyLnBhbix0aGlzLnBhbi52YWx1ZT10LmRlZmF1bHRBcmcoZSwwKSx0aGlzLl9yZWFkT25seShcInBhblwiKX0sdC5leHRlbmQodC5QYW5uZXIsdC5BdWRpb05vZGUpLHQuUGFubmVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoXCJwYW5cIiksdGhpcy5fcGFubmVyLmRpc2Nvbm5lY3QoKSx0aGlzLl9wYW5uZXI9bnVsbCx0aGlzLnBhbj1udWxsLHRoaXN9LHQuUGFubmVyfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDcpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Qb3c9ZnVuY3Rpb24oZSl7dC5TaWduYWxCYXNlLmNhbGwodGhpcyksdGhpcy5fZXhwPXQuZGVmYXVsdEFyZyhlLDEpLHRoaXMuX2V4cFNjYWxlcj10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LldhdmVTaGFwZXIodGhpcy5fZXhwRnVuYyh0aGlzLl9leHApLDgxOTIpfSx0LmV4dGVuZCh0LlBvdyx0LlNpZ25hbEJhc2UpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBvdy5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXhwPXQsdGhpcy5fZXhwU2NhbGVyLnNldE1hcCh0aGlzLl9leHBGdW5jKHRoaXMuX2V4cCkpfX0pLHQuUG93LnByb3RvdHlwZS5fZXhwRnVuYz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucG93KE1hdGguYWJzKGUpLHQpfX0sdC5Qb3cucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TaWduYWxCYXNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZXhwU2NhbGVyLmRpc3Bvc2UoKSx0aGlzLl9leHBTY2FsZXI9bnVsbCx0aGlzfSx0LlBvd30uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyMCksaSg2NildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9mZmxpbmVDb250ZXh0PWZ1bmN0aW9uKGUsaSxuKXt2YXIgbz1uZXcgT2ZmbGluZUF1ZGlvQ29udGV4dChlLGkqbixuKTt0LkNvbnRleHQuY2FsbCh0aGlzLHtjb250ZXh0Om8sY2xvY2tTb3VyY2U6XCJvZmZsaW5lXCIsbG9va0FoZWFkOjAsdXBkYXRlSW50ZXJ2YWw6MTI4L259KSx0aGlzLl9kdXJhdGlvbj1pLHRoaXMuX2N1cnJlbnRUaW1lPTB9LHQuZXh0ZW5kKHQuT2ZmbGluZUNvbnRleHQsdC5Db250ZXh0KSx0Lk9mZmxpbmVDb250ZXh0LnByb3RvdHlwZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFRpbWV9LHQuT2ZmbGluZUNvbnRleHQucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdC5PZmZsaW5lQ29udGV4dC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9kdXJhdGlvbi10aGlzLl9jdXJyZW50VGltZT49MDspdGhpcy5lbWl0KFwidGlja1wiKSx0aGlzLl9jdXJyZW50VGltZSs9dGhpcy5ibG9ja1RpbWU7cmV0dXJuIHRoaXMuX2NvbnRleHQuc3RhcnRSZW5kZXJpbmcoKX0sdC5PZmZsaW5lQ29udGV4dC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGV4dD1udWxsLFByb21pc2UucmVzb2x2ZSgpfSx0Lk9mZmxpbmVDb250ZXh0fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDYyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7aWYodC5zdXBwb3J0ZWQpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtlLmluY2x1ZGVzKFwic2FmYXJpXCIpJiYhZS5pbmNsdWRlcyhcImNocm9tZVwiKSYmZS5pbmNsdWRlcyhcIm1vYmlsZVwiKSYmKHQuT2ZmbGluZUNvbnRleHQucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlclNvdXJjZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCksZT10LnN0YXJ0O3JldHVybiB0LnN0YXJ0PWZ1bmN0aW9uKGkpe3RoaXMuc2V0VGltZW91dChmdW5jdGlvbigpe2UuY2FsbCh0LGkpfS5iaW5kKHRoaXMpLDApfS5iaW5kKHRoaXMpLHR9KX19LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5UaW1lQmFzZT1mdW5jdGlvbihlLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQuVGltZUJhc2UpKXJldHVybiBuZXcgdC5UaW1lQmFzZShlLGkpO2lmKHRoaXMuX3ZhbD1lLHRoaXMuX3VuaXRzPWksdC5pc1VuZGVmKHRoaXMuX3VuaXRzKSYmdC5pc1N0cmluZyh0aGlzLl92YWwpJiZwYXJzZUZsb2F0KHRoaXMuX3ZhbCk9PXRoaXMuX3ZhbCYmXCIrXCIhPT10aGlzLl92YWwuY2hhckF0KDApKXRoaXMuX3ZhbD1wYXJzZUZsb2F0KHRoaXMuX3ZhbCksdGhpcy5fdW5pdHM9dGhpcy5fZGVmYXVsdFVuaXRzO2Vsc2UgaWYoZSYmZS5jb25zdHJ1Y3Rvcj09PXRoaXMuY29uc3RydWN0b3IpdGhpcy5fdmFsPWUuX3ZhbCx0aGlzLl91bml0cz1lLl91bml0cztlbHNlIGlmKGUgaW5zdGFuY2VvZiB0LlRpbWVCYXNlKXN3aXRjaCh0aGlzLl9kZWZhdWx0VW5pdHMpe2Nhc2VcInNcIjp0aGlzLl92YWw9ZS50b1NlY29uZHMoKTticmVhaztjYXNlXCJpXCI6dGhpcy5fdmFsPWUudG9UaWNrcygpO2JyZWFrO2Nhc2VcImh6XCI6dGhpcy5fdmFsPWUudG9GcmVxdWVuY3koKTticmVhaztjYXNlXCJtaWRpXCI6dGhpcy5fdmFsPWUudG9NaWRpKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgZGVmYXVsdCB1bml0cyBcIit0aGlzLl9kZWZhdWx0VW5pdHMpfX0sdC5leHRlbmQodC5UaW1lQmFzZSksdC5UaW1lQmFzZS5wcm90b3R5cGUuX2V4cHJlc3Npb25zPXtuOntyZWdleHA6L14oXFxkKyluKFxcLj8pJC9pLG1ldGhvZDpmdW5jdGlvbih0LGUpe3Q9cGFyc2VJbnQodCk7dmFyIGk9XCIuXCI9PT1lPzEuNToxO3JldHVybiAxPT09dD90aGlzLl9iZWF0c1RvVW5pdHModGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpKSppOnRoaXMuX2JlYXRzVG9Vbml0cyg0L3QpKml9fSx0OntyZWdleHA6L14oXFxkKyl0JC9pLG1ldGhvZDpmdW5jdGlvbih0KXtyZXR1cm4gdD1wYXJzZUludCh0KSx0aGlzLl9iZWF0c1RvVW5pdHMoOC8oMypwYXJzZUludCh0KSkpfX0sbTp7cmVnZXhwOi9eKFxcZCspbSQvaSxtZXRob2Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUludCh0KSp0aGlzLl9nZXRUaW1lU2lnbmF0dXJlKCkpfX0saTp7cmVnZXhwOi9eKFxcZCspaSQvaSxtZXRob2Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpY2tzVG9Vbml0cyhwYXJzZUludCh0KSl9fSxoejp7cmVnZXhwOi9eKFxcZCsoPzpcXC5cXGQrKT8paHokL2ksbWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9mcmVxdWVuY3lUb1VuaXRzKHBhcnNlRmxvYXQodCkpfX0sdHI6e3JlZ2V4cDovXihcXGQrKD86XFwuXFxkKyk/KTooXFxkKyg/OlxcLlxcZCspPyk6PyhcXGQrKD86XFwuXFxkKyk/KT8kLyxtZXRob2Q6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTA7cmV0dXJuIHQmJlwiMFwiIT09dCYmKG4rPXRoaXMuX2JlYXRzVG9Vbml0cyh0aGlzLl9nZXRUaW1lU2lnbmF0dXJlKCkqcGFyc2VGbG9hdCh0KSkpLGUmJlwiMFwiIT09ZSYmKG4rPXRoaXMuX2JlYXRzVG9Vbml0cyhwYXJzZUZsb2F0KGUpKSksaSYmXCIwXCIhPT1pJiYobis9dGhpcy5fYmVhdHNUb1VuaXRzKHBhcnNlRmxvYXQoaSkvNCkpLG59fSxzOntyZWdleHA6L14oXFxkKyg/OlxcLlxcZCspPylzJC8sbWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZWNvbmRzVG9Vbml0cyhwYXJzZUZsb2F0KHQpKX19LHNhbXBsZXM6e3JlZ2V4cDovXihcXGQrKXNhbXBsZXMkLyxtZXRob2Q6ZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQpL3RoaXMuY29udGV4dC5zYW1wbGVSYXRlfX0sZGVmYXVsdDp7cmVnZXhwOi9eKFxcZCsoPzpcXC5cXGQrKT8pJC8sbWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9leHByZXNzaW9uc1t0aGlzLl9kZWZhdWx0VW5pdHNdLm1ldGhvZC5jYWxsKHRoaXMsdCl9fX0sdC5UaW1lQmFzZS5wcm90b3R5cGUuX2RlZmF1bHRVbml0cz1cInNcIix0LlRpbWVCYXNlLnByb3RvdHlwZS5fZ2V0QnBtPWZ1bmN0aW9uKCl7cmV0dXJuIHQuVHJhbnNwb3J0P3QuVHJhbnNwb3J0LmJwbS52YWx1ZToxMjB9LHQuVGltZUJhc2UucHJvdG90eXBlLl9nZXRUaW1lU2lnbmF0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuVHJhbnNwb3J0P3QuVHJhbnNwb3J0LnRpbWVTaWduYXR1cmU6NH0sdC5UaW1lQmFzZS5wcm90b3R5cGUuX2dldFBQUT1mdW5jdGlvbigpe3JldHVybiB0LlRyYW5zcG9ydD90LlRyYW5zcG9ydC5QUFE6MTkyfSx0LlRpbWVCYXNlLnByb3RvdHlwZS5fbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm93KCl9LHQuVGltZUJhc2UucHJvdG90eXBlLl9mcmVxdWVuY3lUb1VuaXRzPWZ1bmN0aW9uKHQpe3JldHVybiAxL3R9LHQuVGltZUJhc2UucHJvdG90eXBlLl9iZWF0c1RvVW5pdHM9ZnVuY3Rpb24odCl7cmV0dXJuIDYwL3RoaXMuX2dldEJwbSgpKnR9LHQuVGltZUJhc2UucHJvdG90eXBlLl9zZWNvbmRzVG9Vbml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5UaW1lQmFzZS5wcm90b3R5cGUuX3RpY2tzVG9Vbml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdCoodGhpcy5fYmVhdHNUb1VuaXRzKDEpL3RoaXMuX2dldFBQUSgpKX0sdC5UaW1lQmFzZS5wcm90b3R5cGUuX25vQXJnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vdygpfSx0LlRpbWVCYXNlLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7aWYodC5pc1VuZGVmKHRoaXMuX3ZhbCkpcmV0dXJuIHRoaXMuX25vQXJnKCk7aWYodC5pc1N0cmluZyh0aGlzLl92YWwpJiZ0LmlzVW5kZWYodGhpcy5fdW5pdHMpKXtmb3IodmFyIGUgaW4gdGhpcy5fZXhwcmVzc2lvbnMpaWYodGhpcy5fZXhwcmVzc2lvbnNbZV0ucmVnZXhwLnRlc3QodGhpcy5fdmFsLnRyaW0oKSkpe3RoaXMuX3VuaXRzPWU7YnJlYWt9fWVsc2UgaWYodC5pc09iamVjdCh0aGlzLl92YWwpKXt2YXIgaT0wO2Zvcih2YXIgbiBpbiB0aGlzLl92YWwpe3ZhciBvPXRoaXMuX3ZhbFtuXTtpKz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuKS52YWx1ZU9mKCkqb31yZXR1cm4gaX1pZih0LmlzRGVmaW5lZCh0aGlzLl91bml0cykpe3ZhciBzPXRoaXMuX2V4cHJlc3Npb25zW3RoaXMuX3VuaXRzXSxyPXRoaXMuX3ZhbC50b1N0cmluZygpLnRyaW0oKS5tYXRjaChzLnJlZ2V4cCk7cmV0dXJuIHI/cy5tZXRob2QuYXBwbHkodGhpcyxyLnNsaWNlKDEpKTpzLm1ldGhvZC5jYWxsKHRoaXMscGFyc2VGbG9hdCh0aGlzLl92YWwpKX1yZXR1cm4gdGhpcy5fdmFsfSx0LlRpbWVCYXNlLnByb3RvdHlwZS50b1NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9LHQuVGltZUJhc2UucHJvdG90eXBlLnRvRnJlcXVlbmN5PWZ1bmN0aW9uKCl7cmV0dXJuIDEvdGhpcy50b1NlY29uZHMoKX0sdC5UaW1lQmFzZS5wcm90b3R5cGUudG9TYW1wbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TZWNvbmRzKCkqdGhpcy5jb250ZXh0LnNhbXBsZVJhdGV9LHQuVGltZUJhc2UucHJvdG90eXBlLnRvTWlsbGlzZWNvbmRzPWZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLnRvU2Vjb25kcygpfSx0LlRpbWVCYXNlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fdmFsPW51bGwsdGhpcy5fdW5pdHM9bnVsbH0sdC5UaW1lQmFzZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2NCksaSg0NildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0LlRpbWU9ZnVuY3Rpb24oZSxpKXtpZighKHRoaXMgaW5zdGFuY2VvZiB0LlRpbWUpKXJldHVybiBuZXcgdC5UaW1lKGUsaSk7dC5UaW1lQmFzZS5jYWxsKHRoaXMsZSxpKX0sdC5leHRlbmQodC5UaW1lLHQuVGltZUJhc2UpLHQuVGltZS5wcm90b3R5cGUuX2V4cHJlc3Npb25zPU9iamVjdC5hc3NpZ24oe30sdC5UaW1lQmFzZS5wcm90b3R5cGUuX2V4cHJlc3Npb25zLHtxdWFudGl6ZTp7cmVnZXhwOi9eQCguKykvLG1ldGhvZDpmdW5jdGlvbihlKXtpZih0LlRyYW5zcG9ydCl7dmFyIGk9bmV3IHRoaXMuY29uc3RydWN0b3IoZSk7cmV0dXJuIHRoaXMuX3NlY29uZHNUb1VuaXRzKHQuVHJhbnNwb3J0Lm5leHRTdWJkaXZpc2lvbihpKSl9cmV0dXJuIDB9fSxub3c6e3JlZ2V4cDovXlxcKyguKykvLG1ldGhvZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbm93KCkrbmV3IHRoaXMuY29uc3RydWN0b3IodCl9fX0pLHQuVGltZS5wcm90b3R5cGUucXVhbnRpemU9ZnVuY3Rpb24oZSxpKXtpPXQuZGVmYXVsdEFyZyhpLDEpO3ZhciBuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKGUpLG89dGhpcy52YWx1ZU9mKCk7cmV0dXJuIG8rKE1hdGgucm91bmQoby9uKSpuLW8pKml9LHQuVGltZS5wcm90b3R5cGUudG9Ob3RhdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnRvU2Vjb25kcygpLGk9W1wiMW1cIl0sbj0xO248ODtuKyspe3ZhciBvPU1hdGgucG93KDIsbik7aS5wdXNoKG8rXCJuLlwiKSxpLnB1c2gobytcIm5cIiksaS5wdXNoKG8rXCJ0XCIpfWkucHVzaChcIjBcIik7dmFyIHM9aVswXSxyPXQuVGltZShpWzBdKS50b1NlY29uZHMoKTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBuPXQuVGltZShpKS50b1NlY29uZHMoKTtNYXRoLmFicyhuLWUpPE1hdGguYWJzKHItZSkmJihzPWkscj1uKX0pLHN9LHQuVGltZS5wcm90b3R5cGUudG9CYXJzQmVhdHNTaXh0ZWVudGhzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYmVhdHNUb1VuaXRzKDEpLGU9dGhpcy52YWx1ZU9mKCkvdDtlPXBhcnNlRmxvYXQoZS50b0ZpeGVkKDQpKTt2YXIgaT1NYXRoLmZsb29yKGUvdGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpKSxuPWUlMSo0O3JldHVybiBlPU1hdGguZmxvb3IoZSkldGhpcy5fZ2V0VGltZVNpZ25hdHVyZSgpLChuPW4udG9TdHJpbmcoKSkubGVuZ3RoPjMmJihuPXBhcnNlRmxvYXQocGFyc2VGbG9hdChuKS50b0ZpeGVkKDMpKSksW2ksZSxuXS5qb2luKFwiOlwiKX0sdC5UaW1lLnByb3RvdHlwZS50b1RpY2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fYmVhdHNUb1VuaXRzKDEpLGU9dGhpcy52YWx1ZU9mKCkvdDtyZXR1cm4gTWF0aC5yb3VuZChlKnRoaXMuX2dldFBQUSgpKX0sdC5UaW1lLnByb3RvdHlwZS50b1NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9LHQuVGltZS5wcm90b3R5cGUudG9NaWRpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRnJlcXVlbmN5LmZ0b20odGhpcy50b0ZyZXF1ZW5jeSgpKX0sdC5UaW1lfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7aWYodC5zdXBwb3J0ZWQpeyF0Lmdsb2JhbC5oYXNPd25Qcm9wZXJ0eShcIk9mZmxpbmVBdWRpb0NvbnRleHRcIikmJnQuZ2xvYmFsLmhhc093blByb3BlcnR5KFwid2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dFwiKSYmKHQuZ2xvYmFsLk9mZmxpbmVBdWRpb0NvbnRleHQ9dC5nbG9iYWwud2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dCk7dmFyIGU9bmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMSwxLDQ0MTAwKS5zdGFydFJlbmRlcmluZygpO2UmJnQuaXNGdW5jdGlvbihlLnRoZW4pfHwoT2ZmbGluZUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuX25hdGl2ZV9zdGFydFJlbmRlcmluZz1PZmZsaW5lQXVkaW9Db250ZXh0LnByb3RvdHlwZS5zdGFydFJlbmRlcmluZyxPZmZsaW5lQXVkaW9Db250ZXh0LnByb3RvdHlwZS5zdGFydFJlbmRlcmluZz1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXt0aGlzLm9uY29tcGxldGU9ZnVuY3Rpb24oZSl7dChlLnJlbmRlcmVkQnVmZmVyKX0sdGhpcy5fbmF0aXZlX3N0YXJ0UmVuZGVyaW5nKCl9LmJpbmQodGhpcykpfSl9fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDExKSxpKDYpLGkoNTYpLGkoMzEpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5QbGF5ZXI9ZnVuY3Rpb24oZSl7dmFyIGk7ZSBpbnN0YW5jZW9mIHQuQnVmZmVyJiZlLmxvYWRlZD8oZT1lLmdldCgpLGk9dC5QbGF5ZXIuZGVmYXVsdHMpOmk9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIl0sdC5QbGF5ZXIpLHQuU291cmNlLmNhbGwodGhpcyxpKSx0aGlzLmF1dG9zdGFydD1pLmF1dG9zdGFydCx0aGlzLl9idWZmZXI9bmV3IHQuQnVmZmVyKHt1cmw6aS51cmwsb25sb2FkOnRoaXMuX29ubG9hZC5iaW5kKHRoaXMsaS5vbmxvYWQpLHJldmVyc2U6aS5yZXZlcnNlfSksZSBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyJiZ0aGlzLl9idWZmZXIuc2V0KGUpLHRoaXMuX2xvb3A9aS5sb29wLHRoaXMuX2xvb3BTdGFydD1pLmxvb3BTdGFydCx0aGlzLl9sb29wRW5kPWkubG9vcEVuZCx0aGlzLl9wbGF5YmFja1JhdGU9aS5wbGF5YmFja1JhdGUsdGhpcy5fYWN0aXZlU291cmNlcz1bXSx0aGlzLmZhZGVJbj1pLmZhZGVJbix0aGlzLmZhZGVPdXQ9aS5mYWRlT3V0fSx0LmV4dGVuZCh0LlBsYXllcix0LlNvdXJjZSksdC5QbGF5ZXIuZGVmYXVsdHM9e29ubG9hZDp0Lm5vT3AscGxheWJhY2tSYXRlOjEsbG9vcDohMSxhdXRvc3RhcnQ6ITEsbG9vcFN0YXJ0OjAsbG9vcEVuZDowLHJldmVyc2U6ITEsZmFkZUluOjAsZmFkZU91dDowfSx0LlBsYXllci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9idWZmZXIubG9hZCh0LHRoaXMuX29ubG9hZC5iaW5kKHRoaXMsZSkpfSx0LlBsYXllci5wcm90b3R5cGUuX29ubG9hZD1mdW5jdGlvbihlKXsoZT10LmRlZmF1bHRBcmcoZSx0Lm5vT3ApKSh0aGlzKSx0aGlzLmF1dG9zdGFydCYmdGhpcy5zdGFydCgpfSx0LlBsYXllci5wcm90b3R5cGUuX29uU291cmNlRW5kPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX2FjdGl2ZVNvdXJjZXMuaW5kZXhPZihlKTt0aGlzLl9hY3RpdmVTb3VyY2VzLnNwbGljZShpLDEpLDAhPT10aGlzLl9hY3RpdmVTb3VyY2VzLmxlbmd0aHx8dGhpcy5fc3luY2VkfHx0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZSh0LlN0YXRlLlN0b3BwZWQsdC5ub3coKSl9LHQuUGxheWVyLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSxpLG4pe2k9dGhpcy5fbG9vcD90LmRlZmF1bHRBcmcoaSx0aGlzLl9sb29wU3RhcnQpOnQuZGVmYXVsdEFyZyhpLDApLGk9dGhpcy50b1NlY29uZHMoaSk7dmFyIG89dC5kZWZhdWx0QXJnKG4sTWF0aC5tYXgodGhpcy5fYnVmZmVyLmR1cmF0aW9uLWksMCkpO289dGhpcy50b1NlY29uZHMobyksby89dGhpcy5fcGxheWJhY2tSYXRlLGU9dGhpcy50b1NlY29uZHMoZSk7dmFyIHM9bmV3IHQuQnVmZmVyU291cmNlKHtidWZmZXI6dGhpcy5fYnVmZmVyLGxvb3A6dGhpcy5fbG9vcCxsb29wU3RhcnQ6dGhpcy5fbG9vcFN0YXJ0LGxvb3BFbmQ6dGhpcy5fbG9vcEVuZCxvbmVuZGVkOnRoaXMuX29uU291cmNlRW5kLmJpbmQodGhpcykscGxheWJhY2tSYXRlOnRoaXMuX3BsYXliYWNrUmF0ZSxmYWRlSW46dGhpcy5mYWRlSW4sZmFkZU91dDp0aGlzLmZhZGVPdXR9KS5jb25uZWN0KHRoaXMub3V0cHV0KTtyZXR1cm4gdGhpcy5fbG9vcHx8dGhpcy5fc3luY2VkfHx0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZSh0LlN0YXRlLlN0b3BwZWQsZStvKSx0aGlzLl9hY3RpdmVTb3VyY2VzLnB1c2gocyksdGhpcy5fbG9vcCYmdC5pc1VuZGVmKG4pP3Muc3RhcnQoZSxpKTpzLnN0YXJ0KGUsaSxvLXRoaXMudG9TZWNvbmRzKHRoaXMuZmFkZU91dCkpLHRoaXN9LHQuUGxheWVyLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdG9wKHQpfSksdGhpc30sdC5QbGF5ZXIucHJvdG90eXBlLnJlc3RhcnQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9zdG9wKHQpLHRoaXMuX3N0YXJ0KHQsZSxpKSx0aGlzfSx0LlBsYXllci5wcm90b3R5cGUuc2Vlaz1mdW5jdGlvbihlLGkpe3JldHVybiBpPXRoaXMudG9TZWNvbmRzKGkpLHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKGkpPT09dC5TdGF0ZS5TdGFydGVkJiYoZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl9zdG9wKGkpLHRoaXMuX3N0YXJ0KGksZSkpLHRoaXN9LHQuUGxheWVyLnByb3RvdHlwZS5zZXRMb29wUG9pbnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubG9vcFN0YXJ0PXQsdGhpcy5sb29wRW5kPWUsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGxheWVyLnByb3RvdHlwZSxcImxvb3BTdGFydFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcFN0YXJ0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcFN0YXJ0PXQsdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UubG9vcFN0YXJ0PXR9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXIucHJvdG90eXBlLFwibG9vcEVuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcEVuZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3BFbmQ9dCx0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5sb29wRW5kPXR9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXIucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9idWZmZXIuc2V0KHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBsYXllci5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5fbG9vcCE9PWUmJih0aGlzLl9sb29wPWUsdGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QubG9vcD1lfSksZSkpe3ZhciBpPXRoaXMuX3N0YXRlLmdldE5leHRTdGF0ZSh0LlN0YXRlLlN0b3BwZWQsdGhpcy5ub3coKSk7aSYmdGhpcy5fc3RhdGUuY2FuY2VsKGkudGltZSl9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBsYXllci5wcm90b3R5cGUsXCJwbGF5YmFja1JhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXliYWNrUmF0ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BsYXliYWNrUmF0ZT1lO3ZhciBpPXRoaXMubm93KCksbj10aGlzLl9zdGF0ZS5nZXROZXh0U3RhdGUodC5TdGF0ZS5TdG9wcGVkLGkpO24mJnRoaXMuX3N0YXRlLmNhbmNlbChuLnRpbWUpLHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0LmNhbmNlbFN0b3AoKSx0LnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShlLGkpfSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGxheWVyLnByb3RvdHlwZSxcInJldmVyc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5yZXZlcnNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYnVmZmVyLnJldmVyc2U9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXIucHJvdG90eXBlLFwibG9hZGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXIubG9hZGVkfX0pLHQuUGxheWVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0LmRpc3Bvc2UoKX0pLHRoaXMuX2FjdGl2ZVNvdXJjZXM9bnVsbCx0LlNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2J1ZmZlci5kaXNwb3NlKCksdGhpcy5fYnVmZmVyPW51bGwsdGhpc30sdC5QbGF5ZXJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMzApLGkoNDEpLGkoMzcpLGkoMSksaSg5KSxpKDI1KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTW9ub1N5bnRoPWZ1bmN0aW9uKGUpe2U9dC5kZWZhdWx0QXJnKGUsdC5Nb25vU3ludGguZGVmYXVsdHMpLHQuTW9ub3Bob25pYy5jYWxsKHRoaXMsZSksdGhpcy5vc2NpbGxhdG9yPW5ldyB0Lk9tbmlPc2NpbGxhdG9yKGUub3NjaWxsYXRvciksdGhpcy5mcmVxdWVuY3k9dGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeSx0aGlzLmRldHVuZT10aGlzLm9zY2lsbGF0b3IuZGV0dW5lLHRoaXMuZmlsdGVyPW5ldyB0LkZpbHRlcihlLmZpbHRlciksdGhpcy5maWx0ZXIuZnJlcXVlbmN5LnZhbHVlPTVlMyx0aGlzLmZpbHRlckVudmVsb3BlPW5ldyB0LkZyZXF1ZW5jeUVudmVsb3BlKGUuZmlsdGVyRW52ZWxvcGUpLHRoaXMuZW52ZWxvcGU9bmV3IHQuQW1wbGl0dWRlRW52ZWxvcGUoZS5lbnZlbG9wZSksdGhpcy5vc2NpbGxhdG9yLmNoYWluKHRoaXMuZmlsdGVyLHRoaXMuZW52ZWxvcGUsdGhpcy5vdXRwdXQpLHRoaXMuZmlsdGVyRW52ZWxvcGUuY29ubmVjdCh0aGlzLmZpbHRlci5mcmVxdWVuY3kpLHRoaXMuX3JlYWRPbmx5KFtcIm9zY2lsbGF0b3JcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJmaWx0ZXJcIixcImZpbHRlckVudmVsb3BlXCIsXCJlbnZlbG9wZVwiXSl9LHQuZXh0ZW5kKHQuTW9ub1N5bnRoLHQuTW9ub3Bob25pYyksdC5Nb25vU3ludGguZGVmYXVsdHM9e2ZyZXF1ZW5jeTpcIkM0XCIsZGV0dW5lOjAsb3NjaWxsYXRvcjp7dHlwZTpcInNxdWFyZVwifSxmaWx0ZXI6e1E6Nix0eXBlOlwibG93cGFzc1wiLHJvbGxvZmY6LTI0fSxlbnZlbG9wZTp7YXR0YWNrOi4wMDUsZGVjYXk6LjEsc3VzdGFpbjouOSxyZWxlYXNlOjF9LGZpbHRlckVudmVsb3BlOnthdHRhY2s6LjA2LGRlY2F5Oi4yLHN1c3RhaW46LjUscmVsZWFzZToyLGJhc2VGcmVxdWVuY3k6MjAwLG9jdGF2ZXM6NyxleHBvbmVudDoyfX0sdC5Nb25vU3ludGgucHJvdG90eXBlLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLmVudmVsb3BlLnRyaWdnZXJBdHRhY2sodCxlKSx0aGlzLmZpbHRlckVudmVsb3BlLnRyaWdnZXJBdHRhY2sodCksdGhpcy5vc2NpbGxhdG9yLnN0YXJ0KHQpLDA9PT10aGlzLmVudmVsb3BlLnN1c3RhaW4mJnRoaXMub3NjaWxsYXRvci5zdG9wKHQrdGhpcy5lbnZlbG9wZS5hdHRhY2srdGhpcy5lbnZlbG9wZS5kZWNheSksdGhpc30sdC5Nb25vU3ludGgucHJvdG90eXBlLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHQpLHRoaXMuZmlsdGVyRW52ZWxvcGUudHJpZ2dlclJlbGVhc2UodCksdGhpcy5vc2NpbGxhdG9yLnN0b3AodCt0aGlzLmVudmVsb3BlLnJlbGVhc2UpLHRoaXN9LHQuTW9ub1N5bnRoLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTW9ub3Bob25pYy5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcIm9zY2lsbGF0b3JcIixcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJmaWx0ZXJcIixcImZpbHRlckVudmVsb3BlXCIsXCJlbnZlbG9wZVwiXSksdGhpcy5vc2NpbGxhdG9yLmRpc3Bvc2UoKSx0aGlzLm9zY2lsbGF0b3I9bnVsbCx0aGlzLmVudmVsb3BlLmRpc3Bvc2UoKSx0aGlzLmVudmVsb3BlPW51bGwsdGhpcy5maWx0ZXJFbnZlbG9wZS5kaXNwb3NlKCksdGhpcy5maWx0ZXJFbnZlbG9wZT1udWxsLHRoaXMuZmlsdGVyLmRpc3Bvc2UoKSx0aGlzLmZpbHRlcj1udWxsLHRoaXMuZnJlcXVlbmN5PW51bGwsdGhpcy5kZXR1bmU9bnVsbCx0aGlzfSx0Lk1vbm9TeW50aH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2KSxpKDE3KSxpKDUpLGkoMyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZhdE9zY2lsbGF0b3I9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIixcInNwcmVhZFwiXSx0LkZhdE9zY2lsbGF0b3IpO3QuU291cmNlLmNhbGwodGhpcyxlKSx0aGlzLmZyZXF1ZW5jeT1uZXcgdC5TaWduYWwoZS5mcmVxdWVuY3ksdC5UeXBlLkZyZXF1ZW5jeSksdGhpcy5kZXR1bmU9bmV3IHQuU2lnbmFsKGUuZGV0dW5lLHQuVHlwZS5DZW50cyksdGhpcy5fb3NjaWxsYXRvcnM9W10sdGhpcy5fc3ByZWFkPWUuc3ByZWFkLHRoaXMuX3R5cGU9ZS50eXBlLHRoaXMuX3BoYXNlPWUucGhhc2UsdGhpcy5fcGFydGlhbHM9ZS5wYXJ0aWFscyx0aGlzLl9wYXJ0aWFsQ291bnQ9ZS5wYXJ0aWFsQ291bnQsdGhpcy5jb3VudD1lLmNvdW50LHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCJdKX0sdC5leHRlbmQodC5GYXRPc2NpbGxhdG9yLHQuU291cmNlKSx0LkZhdE9zY2lsbGF0b3IuZGVmYXVsdHM9e2ZyZXF1ZW5jeTo0NDAsZGV0dW5lOjAscGhhc2U6MCxzcHJlYWQ6MjAsY291bnQ6Myx0eXBlOlwic2F3dG9vdGhcIixwYXJ0aWFsczpbXSxwYXJ0aWFsQ291bnQ6MH0sdC5GYXRPc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RhcnQodCl9KX0sdC5GYXRPc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbih0KXt0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX2ZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdG9wKHQpfSl9LHQuRmF0T3NjaWxsYXRvci5wcm90b3R5cGUucmVzdGFydD1mdW5jdGlvbih0KXt0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX2ZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZXN0YXJ0KHQpfSl9LHQuRmF0T3NjaWxsYXRvci5wcm90b3R5cGUuX2ZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGg7ZSsrKXQuY2FsbCh0aGlzLHRoaXMuX29zY2lsbGF0b3JzW2VdLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5GYXRPc2NpbGxhdG9yLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90eXBlPXQsdGhpcy5fZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU9dH0pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZhdE9zY2lsbGF0b3IucHJvdG90eXBlLFwic3ByZWFkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcHJlYWR9LHNldDpmdW5jdGlvbih0KXtpZih0aGlzLl9zcHJlYWQ9dCx0aGlzLl9vc2NpbGxhdG9ycy5sZW5ndGg+MSl7dmFyIGU9LXQvMixpPXQvKHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aC0xKTt0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKHQsbil7dC5kZXR1bmUudmFsdWU9ZStpKm59KX19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuRmF0T3NjaWxsYXRvci5wcm90b3R5cGUsXCJjb3VudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvcnMubGVuZ3RofSxzZXQ6ZnVuY3Rpb24oZSl7aWYoZT1NYXRoLm1heChlLDEpLHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aCE9PWUpe3RoaXMuX2ZvckVhY2goZnVuY3Rpb24odCl7dC5kaXNwb3NlKCl9KSx0aGlzLl9vc2NpbGxhdG9ycz1bXTtmb3IodmFyIGk9MDtpPGU7aSsrKXt2YXIgbj1uZXcgdC5Pc2NpbGxhdG9yO3RoaXMudHlwZT09PXQuT3NjaWxsYXRvci5UeXBlLkN1c3RvbT9uLnBhcnRpYWxzPXRoaXMuX3BhcnRpYWxzOm4udHlwZT10aGlzLl90eXBlLG4ucGFydGlhbENvdW50PXRoaXMuX3BhcnRpYWxDb3VudCxuLnBoYXNlPXRoaXMuX3BoYXNlK2kvZSozNjAsbi52b2x1bWUudmFsdWU9LTYtMS4xKmUsdGhpcy5mcmVxdWVuY3kuY29ubmVjdChuLmZyZXF1ZW5jeSksdGhpcy5kZXR1bmUuY29ubmVjdChuLmRldHVuZSksbi5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9vc2NpbGxhdG9yc1tpXT1ufXRoaXMuc3ByZWFkPXRoaXMuX3NwcmVhZCx0aGlzLnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkJiZ0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc3RhcnQoKX0pfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5GYXRPc2NpbGxhdG9yLnByb3RvdHlwZSxcInBoYXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waGFzZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BoYXNlPXQsdGhpcy5fZm9yRWFjaChmdW5jdGlvbihlKXtlLnBoYXNlPXR9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5GYXRPc2NpbGxhdG9yLnByb3RvdHlwZSxcImJhc2VUeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5iYXNlVHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvckVhY2goZnVuY3Rpb24oZSl7ZS5iYXNlVHlwZT10fSksdGhpcy5fdHlwZT10aGlzLl9vc2NpbGxhdG9yc1swXS50eXBlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZhdE9zY2lsbGF0b3IucHJvdG90eXBlLFwicGFydGlhbHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29zY2lsbGF0b3JzWzBdLnBhcnRpYWxzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcGFydGlhbHM9ZSx0aGlzLl90eXBlPXQuT3NjaWxsYXRvci5UeXBlLkN1c3RvbSx0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucGFydGlhbHM9ZX0pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZhdE9zY2lsbGF0b3IucHJvdG90eXBlLFwicGFydGlhbENvdW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5wYXJ0aWFsQ291bnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYXJ0aWFsQ291bnQ9dCx0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucGFydGlhbENvdW50PXR9KSx0aGlzLl90eXBlPXRoaXMuX29zY2lsbGF0b3JzWzBdLnR5cGV9fSksdC5GYXRPc2NpbGxhdG9yLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoW1wiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIl0pLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzLmRldHVuZT1udWxsLHRoaXMuX2ZvckVhY2goZnVuY3Rpb24odCl7dC5kaXNwb3NlKCl9KSx0aGlzLl9vc2NpbGxhdG9ycz1udWxsLHRoaXMuX3BhcnRpYWxzPW51bGwsdGhpc30sdC5GYXRPc2NpbGxhdG9yfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDYpLGkoMTcpLGkoNSksaSgzKSxpKDIyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQU1Pc2NpbGxhdG9yPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJ0eXBlXCIsXCJtb2R1bGF0aW9uVHlwZVwiXSx0LkFNT3NjaWxsYXRvcik7dC5Tb3VyY2UuY2FsbCh0aGlzLGUpLHRoaXMuX2NhcnJpZXI9bmV3IHQuT3NjaWxsYXRvcihlLmZyZXF1ZW5jeSxlLnR5cGUpLHRoaXMuZnJlcXVlbmN5PXRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5LHRoaXMuZGV0dW5lPXRoaXMuX2NhcnJpZXIuZGV0dW5lLHRoaXMuZGV0dW5lLnZhbHVlPWUuZGV0dW5lLHRoaXMuX21vZHVsYXRvcj1uZXcgdC5Pc2NpbGxhdG9yKGUuZnJlcXVlbmN5LGUubW9kdWxhdGlvblR5cGUpLHRoaXMuX21vZHVsYXRpb25TY2FsZT1uZXcgdC5BdWRpb1RvR2Fpbix0aGlzLmhhcm1vbmljaXR5PW5ldyB0Lk11bHRpcGx5KGUuaGFybW9uaWNpdHkpLHRoaXMuaGFybW9uaWNpdHkudW5pdHM9dC5UeXBlLlBvc2l0aXZlLHRoaXMuX21vZHVsYXRpb25Ob2RlPW5ldyB0LkdhaW4oMCksdGhpcy5mcmVxdWVuY3kuY2hhaW4odGhpcy5oYXJtb25pY2l0eSx0aGlzLl9tb2R1bGF0b3IuZnJlcXVlbmN5KSx0aGlzLmRldHVuZS5jb25uZWN0KHRoaXMuX21vZHVsYXRvci5kZXR1bmUpLHRoaXMuX21vZHVsYXRvci5jaGFpbih0aGlzLl9tb2R1bGF0aW9uU2NhbGUsdGhpcy5fbW9kdWxhdGlvbk5vZGUuZ2FpbiksdGhpcy5fY2Fycmllci5jaGFpbih0aGlzLl9tb2R1bGF0aW9uTm9kZSx0aGlzLm91dHB1dCksdGhpcy5waGFzZT1lLnBoYXNlLHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiLFwiZGV0dW5lXCIsXCJoYXJtb25pY2l0eVwiXSl9LHQuZXh0ZW5kKHQuQU1Pc2NpbGxhdG9yLHQuT3NjaWxsYXRvciksdC5BTU9zY2lsbGF0b3IuZGVmYXVsdHM9e2ZyZXF1ZW5jeTo0NDAsZGV0dW5lOjAscGhhc2U6MCx0eXBlOlwic2luZVwiLG1vZHVsYXRpb25UeXBlOlwic3F1YXJlXCIsaGFybW9uaWNpdHk6MX0sdC5BTU9zY2lsbGF0b3IucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbih0KXt0aGlzLl9tb2R1bGF0b3Iuc3RhcnQodCksdGhpcy5fY2Fycmllci5zdGFydCh0KX0sdC5BTU9zY2lsbGF0b3IucHJvdG90eXBlLl9zdG9wPWZ1bmN0aW9uKHQpe3RoaXMuX21vZHVsYXRvci5zdG9wKHQpLHRoaXMuX2NhcnJpZXIuc3RvcCh0KX0sdC5BTU9zY2lsbGF0b3IucHJvdG90eXBlLnJlc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fbW9kdWxhdG9yLnJlc3RhcnQodCksdGhpcy5fY2Fycmllci5yZXN0YXJ0KHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BTU9zY2lsbGF0b3IucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2Fycmllci50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2Fycmllci50eXBlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQU1Pc2NpbGxhdG9yLnByb3RvdHlwZSxcImJhc2VUeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXJyaWVyLmJhc2VUeXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2Fycmllci5iYXNlVHlwZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkFNT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwYXJ0aWFsQ291bnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIucGFydGlhbENvdW50fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2Fycmllci5wYXJ0aWFsQ291bnQ9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BTU9zY2lsbGF0b3IucHJvdG90eXBlLFwibW9kdWxhdGlvblR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vZHVsYXRvci50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbW9kdWxhdG9yLnR5cGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BTU9zY2lsbGF0b3IucHJvdG90eXBlLFwicGhhc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIucGhhc2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jYXJyaWVyLnBoYXNlPXQsdGhpcy5fbW9kdWxhdG9yLnBoYXNlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQU1Pc2NpbGxhdG9yLnByb3RvdHlwZSxcInBhcnRpYWxzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXJyaWVyLnBhcnRpYWxzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY2Fycmllci5wYXJ0aWFscz10fX0pLHQuQU1Pc2NpbGxhdG9yLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoW1wiZnJlcXVlbmN5XCIsXCJkZXR1bmVcIixcImhhcm1vbmljaXR5XCJdKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGV0dW5lPW51bGwsdGhpcy5oYXJtb25pY2l0eS5kaXNwb3NlKCksdGhpcy5oYXJtb25pY2l0eT1udWxsLHRoaXMuX2NhcnJpZXIuZGlzcG9zZSgpLHRoaXMuX2NhcnJpZXI9bnVsbCx0aGlzLl9tb2R1bGF0b3IuZGlzcG9zZSgpLHRoaXMuX21vZHVsYXRvcj1udWxsLHRoaXMuX21vZHVsYXRpb25Ob2RlLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0aW9uTm9kZT1udWxsLHRoaXMuX21vZHVsYXRpb25TY2FsZS5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdGlvblNjYWxlPW51bGwsdGhpc30sdC5BTU9zY2lsbGF0b3J9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNiksaSg0OSksaSgxNyksaSg1KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUFdNT3NjaWxsYXRvcj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwibW9kdWxhdGlvbkZyZXF1ZW5jeVwiXSx0LlBXTU9zY2lsbGF0b3IpO3QuU291cmNlLmNhbGwodGhpcyxlKSx0aGlzLl9wdWxzZT1uZXcgdC5QdWxzZU9zY2lsbGF0b3IoZS5tb2R1bGF0aW9uRnJlcXVlbmN5KSx0aGlzLl9wdWxzZS5fc2F3dG9vdGgudHlwZT1cInNpbmVcIix0aGlzLl9tb2R1bGF0b3I9bmV3IHQuT3NjaWxsYXRvcih7ZnJlcXVlbmN5OmUuZnJlcXVlbmN5LGRldHVuZTplLmRldHVuZSxwaGFzZTplLnBoYXNlfSksdGhpcy5fc2NhbGU9bmV3IHQuTXVsdGlwbHkoMiksdGhpcy5mcmVxdWVuY3k9dGhpcy5fbW9kdWxhdG9yLmZyZXF1ZW5jeSx0aGlzLmRldHVuZT10aGlzLl9tb2R1bGF0b3IuZGV0dW5lLHRoaXMubW9kdWxhdGlvbkZyZXF1ZW5jeT10aGlzLl9wdWxzZS5mcmVxdWVuY3ksdGhpcy5fbW9kdWxhdG9yLmNoYWluKHRoaXMuX3NjYWxlLHRoaXMuX3B1bHNlLndpZHRoKSx0aGlzLl9wdWxzZS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9yZWFkT25seShbXCJtb2R1bGF0aW9uRnJlcXVlbmN5XCIsXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSl9LHQuZXh0ZW5kKHQuUFdNT3NjaWxsYXRvcix0LlNvdXJjZSksdC5QV01Pc2NpbGxhdG9yLmRlZmF1bHRzPXtmcmVxdWVuY3k6NDQwLGRldHVuZTowLHBoYXNlOjAsbW9kdWxhdGlvbkZyZXF1ZW5jeTouNH0sdC5QV01Pc2NpbGxhdG9yLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24odCl7dD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9tb2R1bGF0b3Iuc3RhcnQodCksdGhpcy5fcHVsc2Uuc3RhcnQodCl9LHQuUFdNT3NjaWxsYXRvci5wcm90b3R5cGUuX3N0b3A9ZnVuY3Rpb24odCl7dD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9tb2R1bGF0b3Iuc3RvcCh0KSx0aGlzLl9wdWxzZS5zdG9wKHQpfSx0LlBXTU9zY2lsbGF0b3IucHJvdG90eXBlLnJlc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fbW9kdWxhdG9yLnJlc3RhcnQodCksdGhpcy5fcHVsc2UucmVzdGFydCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUFdNT3NjaWxsYXRvci5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicHdtXCJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUFdNT3NjaWxsYXRvci5wcm90b3R5cGUsXCJiYXNlVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInB3bVwifX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBXTU9zY2lsbGF0b3IucHJvdG90eXBlLFwicGFydGlhbHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuW119fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUFdNT3NjaWxsYXRvci5wcm90b3R5cGUsXCJwaGFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kdWxhdG9yLnBoYXNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbW9kdWxhdG9yLnBoYXNlPXR9fSksdC5QV01Pc2NpbGxhdG9yLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fcHVsc2UuZGlzcG9zZSgpLHRoaXMuX3B1bHNlPW51bGwsdGhpcy5fc2NhbGUuZGlzcG9zZSgpLHRoaXMuX3NjYWxlPW51bGwsdGhpcy5fbW9kdWxhdG9yLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0b3I9bnVsbCx0aGlzLl93cml0YWJsZShbXCJtb2R1bGF0aW9uRnJlcXVlbmN5XCIsXCJmcmVxdWVuY3lcIixcImRldHVuZVwiXSksdGhpcy5mcmVxdWVuY3k9bnVsbCx0aGlzLmRldHVuZT1udWxsLHRoaXMubW9kdWxhdGlvbkZyZXF1ZW5jeT1udWxsLHRoaXN9LHQuUFdNT3NjaWxsYXRvcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg1MCksaSg0KSxpKDE2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUGFydD1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImNhbGxiYWNrXCIsXCJldmVudHNcIl0sdC5QYXJ0KTt0LkV2ZW50LmNhbGwodGhpcyxlKSx0aGlzLl9ldmVudHM9W107Zm9yKHZhciBpPTA7aTxlLmV2ZW50cy5sZW5ndGg7aSsrKUFycmF5LmlzQXJyYXkoZS5ldmVudHNbaV0pP3RoaXMuYWRkKGUuZXZlbnRzW2ldWzBdLGUuZXZlbnRzW2ldWzFdKTp0aGlzLmFkZChlLmV2ZW50c1tpXSl9LHQuZXh0ZW5kKHQuUGFydCx0LkV2ZW50KSx0LlBhcnQuZGVmYXVsdHM9e2NhbGxiYWNrOnQubm9PcCxsb29wOiExLGxvb3BFbmQ6XCIxbVwiLGxvb3BTdGFydDowLHBsYXliYWNrUmF0ZToxLHByb2JhYmlsaXR5OjEsaHVtYW5pemU6ITEsbXV0ZTohMSxldmVudHM6W119LHQuUGFydC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSxpKXt2YXIgbj10aGlzLnRvVGlja3MoZSk7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKG4pIT09dC5TdGF0ZS5TdGFydGVkJiYoaT10aGlzLl9sb29wP3QuZGVmYXVsdEFyZyhpLHRoaXMuX2xvb3BTdGFydCk6dC5kZWZhdWx0QXJnKGksMCksaT10aGlzLnRvVGlja3MoaSksdGhpcy5fc3RhdGUuYWRkKHtzdGF0ZTp0LlN0YXRlLlN0YXJ0ZWQsdGltZTpuLG9mZnNldDppfSksdGhpcy5fZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLl9zdGFydE5vdGUodCxuLGkpfSkpLHRoaXN9LHQuUGFydC5wcm90b3R5cGUuX3N0YXJ0Tm90ZT1mdW5jdGlvbihlLGksbil7aS09bix0aGlzLl9sb29wP2Uuc3RhcnRPZmZzZXQ+PXRoaXMuX2xvb3BTdGFydCYmZS5zdGFydE9mZnNldDx0aGlzLl9sb29wRW5kPyhlLnN0YXJ0T2Zmc2V0PG4mJihpKz10aGlzLl9nZXRMb29wRHVyYXRpb24oKSksZS5zdGFydCh0LlRpY2tzKGkpKSk6ZS5zdGFydE9mZnNldDx0aGlzLl9sb29wU3RhcnQmJmUuc3RhcnRPZmZzZXQ+PW4mJihlLmxvb3A9ITEsZS5zdGFydCh0LlRpY2tzKGkpKSk6ZS5zdGFydE9mZnNldD49biYmZS5zdGFydCh0LlRpY2tzKGkpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFydC5wcm90b3R5cGUsXCJzdGFydE9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRPZmZzZXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zdGFydE9mZnNldD10LHRoaXMuX2ZvckVhY2goZnVuY3Rpb24odCl7dC5zdGFydE9mZnNldCs9dGhpcy5fc3RhcnRPZmZzZXR9KX19KSx0LlBhcnQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy50b1RpY2tzKGUpO3JldHVybiB0aGlzLl9zdGF0ZS5jYW5jZWwoaSksdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUodC5TdGF0ZS5TdG9wcGVkLGkpLHRoaXMuX2ZvckVhY2goZnVuY3Rpb24odCl7dC5zdG9wKGUpfSksdGhpc30sdC5QYXJ0LnByb3RvdHlwZS5hdD1mdW5jdGlvbihlLGkpe2U9dC5UcmFuc3BvcnRUaW1lKGUpO2Zvcih2YXIgbj10LlRpY2tzKDEpLnRvU2Vjb25kcygpLG89MDtvPHRoaXMuX2V2ZW50cy5sZW5ndGg7bysrKXt2YXIgcz10aGlzLl9ldmVudHNbb107aWYoTWF0aC5hYnMoZS50b1RpY2tzKCktcy5zdGFydE9mZnNldCk8bilyZXR1cm4gdC5pc0RlZmluZWQoaSkmJihzLnZhbHVlPWkpLHN9cmV0dXJuIHQuaXNEZWZpbmVkKGkpPyh0aGlzLmFkZChlLGkpLHRoaXMuX2V2ZW50c1t0aGlzLl9ldmVudHMubGVuZ3RoLTFdKTpudWxsfSx0LlBhcnQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLGkpe3ZhciBuO3JldHVybiBlLmhhc093blByb3BlcnR5KFwidGltZVwiKSYmKGU9KGk9ZSkudGltZSksZT10aGlzLnRvVGlja3MoZSksaSBpbnN0YW5jZW9mIHQuRXZlbnQ/KG49aSkuY2FsbGJhY2s9dGhpcy5fdGljay5iaW5kKHRoaXMpOm49bmV3IHQuRXZlbnQoe2NhbGxiYWNrOnRoaXMuX3RpY2suYmluZCh0aGlzKSx2YWx1ZTppfSksbi5zdGFydE9mZnNldD1lLG4uc2V0KHtsb29wRW5kOnRoaXMubG9vcEVuZCxsb29wU3RhcnQ6dGhpcy5sb29wU3RhcnQsbG9vcDp0aGlzLmxvb3AsaHVtYW5pemU6dGhpcy5odW1hbml6ZSxwbGF5YmFja1JhdGU6dGhpcy5wbGF5YmFja1JhdGUscHJvYmFiaWxpdHk6dGhpcy5wcm9iYWJpbGl0eX0pLHRoaXMuX2V2ZW50cy5wdXNoKG4pLHRoaXMuX3Jlc3RhcnRFdmVudChuKSx0aGlzfSx0LlBhcnQucHJvdG90eXBlLl9yZXN0YXJ0RXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5fc3RhdGUuZm9yRWFjaChmdW5jdGlvbihpKXtpLnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkP3RoaXMuX3N0YXJ0Tm90ZShlLGkudGltZSxpLm9mZnNldCk6ZS5zdG9wKHQuVGlja3MoaS50aW1lKSl9LmJpbmQodGhpcykpfSx0LlBhcnQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlLGkpe2UuaGFzT3duUHJvcGVydHkoXCJ0aW1lXCIpJiYoZT0oaT1lKS50aW1lKSxlPXRoaXMudG9UaWNrcyhlKTtmb3IodmFyIG49dGhpcy5fZXZlbnRzLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgbz10aGlzLl9ldmVudHNbbl07by5zdGFydE9mZnNldD09PWUmJih0LmlzVW5kZWYoaSl8fHQuaXNEZWZpbmVkKGkpJiZvLnZhbHVlPT09aSkmJih0aGlzLl9ldmVudHMuc3BsaWNlKG4sMSksby5kaXNwb3NlKCkpfXJldHVybiB0aGlzfSx0LlBhcnQucHJvdG90eXBlLnJlbW92ZUFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZGlzcG9zZSgpfSksdGhpcy5fZXZlbnRzPVtdLHRoaXN9LHQuUGFydC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2FuY2VsKHQpfSksdGhpcy5fc3RhdGUuY2FuY2VsKHRoaXMudG9UaWNrcyh0KSksdGhpc30sdC5QYXJ0LnByb3RvdHlwZS5fZm9yRWFjaD1mdW5jdGlvbihlLGkpe2lmKHRoaXMuX2V2ZW50cyl7aT10LmRlZmF1bHRBcmcoaSx0aGlzKTtmb3IodmFyIG49dGhpcy5fZXZlbnRzLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgbz10aGlzLl9ldmVudHNbbl07byBpbnN0YW5jZW9mIHQuUGFydD9vLl9mb3JFYWNoKGUsaSk6ZS5jYWxsKGksbyl9fXJldHVybiB0aGlzfSx0LlBhcnQucHJvdG90eXBlLl9zZXRBbGw9ZnVuY3Rpb24odCxlKXt0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGkpe2lbdF09ZX0pfSx0LlBhcnQucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKHQsZSl7dGhpcy5tdXRlfHx0aGlzLmNhbGxiYWNrKHQsZSl9LHQuUGFydC5wcm90b3R5cGUuX3Rlc3RMb29wQm91bmRyaWVzPWZ1bmN0aW9uKGUpe2Uuc3RhcnRPZmZzZXQ8dGhpcy5fbG9vcFN0YXJ0fHxlLnN0YXJ0T2Zmc2V0Pj10aGlzLl9sb29wRW5kP2UuY2FuY2VsKDApOmUuc3RhdGU9PT10LlN0YXRlLlN0b3BwZWQmJnRoaXMuX3Jlc3RhcnRFdmVudChlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFydC5wcm90b3R5cGUsXCJwcm9iYWJpbGl0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvYmFiaWxpdHl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wcm9iYWJpbGl0eT10LHRoaXMuX3NldEFsbChcInByb2JhYmlsaXR5XCIsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFydC5wcm90b3R5cGUsXCJodW1hbml6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHVtYW5pemV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9odW1hbml6ZT10LHRoaXMuX3NldEFsbChcImh1bWFuaXplXCIsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFydC5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcD10LHRoaXMuX2ZvckVhY2goZnVuY3Rpb24oZSl7ZS5fbG9vcFN0YXJ0PXRoaXMuX2xvb3BTdGFydCxlLl9sb29wRW5kPXRoaXMuX2xvb3BFbmQsZS5sb29wPXQsdGhpcy5fdGVzdExvb3BCb3VuZHJpZXMoZSl9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QYXJ0LnByb3RvdHlwZSxcImxvb3BFbmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVGlja3ModGhpcy5fbG9vcEVuZCkudG9TZWNvbmRzKCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sb29wRW5kPXRoaXMudG9UaWNrcyh0KSx0aGlzLl9sb29wJiZ0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGUpe2UubG9vcEVuZD10LHRoaXMuX3Rlc3RMb29wQm91bmRyaWVzKGUpfSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFydC5wcm90b3R5cGUsXCJsb29wU3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuVGlja3ModGhpcy5fbG9vcFN0YXJ0KS50b1NlY29uZHMoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3BTdGFydD10aGlzLnRvVGlja3ModCksdGhpcy5fbG9vcCYmdGhpcy5fZm9yRWFjaChmdW5jdGlvbih0KXt0Lmxvb3BTdGFydD10aGlzLmxvb3BTdGFydCx0aGlzLl90ZXN0TG9vcEJvdW5kcmllcyh0KX0pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBhcnQucHJvdG90eXBlLFwicGxheWJhY2tSYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wbGF5YmFja1JhdGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wbGF5YmFja1JhdGU9dCx0aGlzLl9zZXRBbGwoXCJwbGF5YmFja1JhdGVcIix0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QYXJ0LnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzLmxlbmd0aH19KSx0LlBhcnQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FdmVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMucmVtb3ZlQWxsKCksdGhpcy5jYWxsYmFjaz1udWxsLHRoaXMuX2V2ZW50cz1udWxsLHRoaXN9LHQuUGFydH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg1MCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lkxvb3A9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJjYWxsYmFja1wiLFwiaW50ZXJ2YWxcIl0sdC5Mb29wKTt0LmNhbGwodGhpcyksdGhpcy5fZXZlbnQ9bmV3IHQuRXZlbnQoe2NhbGxiYWNrOnRoaXMuX3RpY2suYmluZCh0aGlzKSxsb29wOiEwLGxvb3BFbmQ6ZS5pbnRlcnZhbCxwbGF5YmFja1JhdGU6ZS5wbGF5YmFja1JhdGUscHJvYmFiaWxpdHk6ZS5wcm9iYWJpbGl0eX0pLHRoaXMuY2FsbGJhY2s9ZS5jYWxsYmFjayx0aGlzLml0ZXJhdGlvbnM9ZS5pdGVyYXRpb25zfSx0LmV4dGVuZCh0Lkxvb3ApLHQuTG9vcC5kZWZhdWx0cz17aW50ZXJ2YWw6XCI0blwiLGNhbGxiYWNrOnQubm9PcCxwbGF5YmFja1JhdGU6MSxpdGVyYXRpb25zOjEvMCxwcm9iYWJpbGl0eTohMCxtdXRlOiExfSx0Lkxvb3AucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ldmVudC5zdGFydCh0KSx0aGlzfSx0Lkxvb3AucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V2ZW50LnN0b3AodCksdGhpc30sdC5Mb29wLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V2ZW50LmNhbmNlbCh0KSx0aGlzfSx0Lkxvb3AucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKHQpe3RoaXMuY2FsbGJhY2sodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxvb3AucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50LnN0YXRlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxvb3AucHJvdG90eXBlLFwicHJvZ3Jlc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50LnByb2dyZXNzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxvb3AucHJvdG90eXBlLFwiaW50ZXJ2YWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50Lmxvb3BFbmR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9ldmVudC5sb29wRW5kPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTG9vcC5wcm90b3R5cGUsXCJwbGF5YmFja1JhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50LnBsYXliYWNrUmF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2V2ZW50LnBsYXliYWNrUmF0ZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxvb3AucHJvdG90eXBlLFwiaHVtYW5pemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50Lmh1bWFuaXplfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXZlbnQuaHVtYW5pemU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Mb29wLnByb3RvdHlwZSxcInByb2JhYmlsaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudC5wcm9iYWJpbGl0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2V2ZW50LnByb2JhYmlsaXR5PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTG9vcC5wcm90b3R5cGUsXCJtdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudC5tdXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZXZlbnQubXV0ZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxvb3AucHJvdG90eXBlLFwiaXRlcmF0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuX2V2ZW50Lmxvb3A/MS8wOnRoaXMuX2V2ZW50Lmxvb3B9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9ldmVudC5sb29wPXQ9PT0xLzB8fHR9fSksdC5Mb29wLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZXZlbnQuZGlzcG9zZSgpLHRoaXMuX2V2ZW50PW51bGwsdGhpcy5jYWxsYmFjaz1udWxsfSx0Lkxvb3B9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMTUpLGkoMzIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5TdGVyZW9YRmVlZGJhY2tFZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmZWVkYmFja1wiXSx0LkZlZWRiYWNrRWZmZWN0KTt0LlN0ZXJlb0VmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5mZWVkYmFjaz1uZXcgdC5TaWduYWwoZS5mZWVkYmFjayx0LlR5cGUuTm9ybWFsUmFuZ2UpLHRoaXMuX2ZlZWRiYWNrTFI9bmV3IHQuR2Fpbix0aGlzLl9mZWVkYmFja1JMPW5ldyB0LkdhaW4sdGhpcy5lZmZlY3RSZXR1cm5MLmNoYWluKHRoaXMuX2ZlZWRiYWNrTFIsdGhpcy5lZmZlY3RTZW5kUiksdGhpcy5lZmZlY3RSZXR1cm5SLmNoYWluKHRoaXMuX2ZlZWRiYWNrUkwsdGhpcy5lZmZlY3RTZW5kTCksdGhpcy5mZWVkYmFjay5mYW4odGhpcy5fZmVlZGJhY2tMUi5nYWluLHRoaXMuX2ZlZWRiYWNrUkwuZ2FpbiksdGhpcy5fcmVhZE9ubHkoW1wiZmVlZGJhY2tcIl0pfSx0LmV4dGVuZCh0LlN0ZXJlb1hGZWVkYmFja0VmZmVjdCx0LlN0ZXJlb0VmZmVjdCksdC5TdGVyZW9YRmVlZGJhY2tFZmZlY3QucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TdGVyZW9FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJmZWVkYmFja1wiXSksdGhpcy5mZWVkYmFjay5kaXNwb3NlKCksdGhpcy5mZWVkYmFjaz1udWxsLHRoaXMuX2ZlZWRiYWNrTFIuZGlzcG9zZSgpLHRoaXMuX2ZlZWRiYWNrTFI9bnVsbCx0aGlzLl9mZWVkYmFja1JMLmRpc3Bvc2UoKSx0aGlzLl9mZWVkYmFja1JMPW51bGwsdGhpc30sdC5TdGVyZW9YRmVlZGJhY2tFZmZlY3R9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoOCksaSg1MiksaSg1MSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk1pZFNpZGVFZmZlY3Q9ZnVuY3Rpb24oKXt0LkVmZmVjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fbWlkU2lkZVNwbGl0PW5ldyB0Lk1pZFNpZGVTcGxpdCx0aGlzLl9taWRTaWRlTWVyZ2U9bmV3IHQuTWlkU2lkZU1lcmdlLHRoaXMubWlkU2VuZD10aGlzLl9taWRTaWRlU3BsaXQubWlkLHRoaXMuc2lkZVNlbmQ9dGhpcy5fbWlkU2lkZVNwbGl0LnNpZGUsdGhpcy5taWRSZXR1cm49dGhpcy5fbWlkU2lkZU1lcmdlLm1pZCx0aGlzLnNpZGVSZXR1cm49dGhpcy5fbWlkU2lkZU1lcmdlLnNpZGUsdGhpcy5lZmZlY3RTZW5kLmNvbm5lY3QodGhpcy5fbWlkU2lkZVNwbGl0KSx0aGlzLl9taWRTaWRlTWVyZ2UuY29ubmVjdCh0aGlzLmVmZmVjdFJldHVybil9LHQuZXh0ZW5kKHQuTWlkU2lkZUVmZmVjdCx0LkVmZmVjdCksdC5NaWRTaWRlRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbWlkU2lkZVNwbGl0LmRpc3Bvc2UoKSx0aGlzLl9taWRTaWRlU3BsaXQ9bnVsbCx0aGlzLl9taWRTaWRlTWVyZ2UuZGlzcG9zZSgpLHRoaXMuX21pZFNpZGVNZXJnZT1udWxsLHRoaXMubWlkU2VuZD1udWxsLHRoaXMuc2lkZVNlbmQ9bnVsbCx0aGlzLm1pZFJldHVybj1udWxsLHRoaXMuc2lkZVJldHVybj1udWxsLHRoaXN9LHQuTWlkU2lkZUVmZmVjdH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxMSksaSg4KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ29udm9sdmVyPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1widXJsXCIsXCJvbmxvYWRcIl0sdC5Db252b2x2ZXIpO3QuRWZmZWN0LmNhbGwodGhpcyxlKSx0aGlzLl9jb252b2x2ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpLHRoaXMuX2J1ZmZlcj1uZXcgdC5CdWZmZXIoZS51cmwsZnVuY3Rpb24odCl7dGhpcy5idWZmZXI9dC5nZXQoKSxlLm9ubG9hZCgpfS5iaW5kKHRoaXMpKSx0aGlzLl9idWZmZXIubG9hZGVkJiYodGhpcy5idWZmZXI9dGhpcy5fYnVmZmVyKSx0aGlzLm5vcm1hbGl6ZT1lLm5vcm1hbGl6ZSx0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fY29udm9sdmVyKX0sdC5leHRlbmQodC5Db252b2x2ZXIsdC5FZmZlY3QpLHQuQ29udm9sdmVyLmRlZmF1bHRzPXtvbmxvYWQ6dC5ub09wLG5vcm1hbGl6ZTohMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ29udm9sdmVyLnByb3RvdHlwZSxcImJ1ZmZlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmxlbmd0aD90aGlzLl9idWZmZXI6bnVsbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2J1ZmZlci5zZXQodCksdGhpcy5fY29udm9sdmVyLmJ1ZmZlciYmKHRoaXMuZWZmZWN0U2VuZC5kaXNjb25uZWN0KCksdGhpcy5fY29udm9sdmVyLmRpc2Nvbm5lY3QoKSx0aGlzLl9jb252b2x2ZXI9dGhpcy5jb250ZXh0LmNyZWF0ZUNvbnZvbHZlcigpLHRoaXMuY29ubmVjdEVmZmVjdCh0aGlzLl9jb252b2x2ZXIpKSx0aGlzLl9jb252b2x2ZXIuYnVmZmVyPXRoaXMuX2J1ZmZlci5nZXQoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Db252b2x2ZXIucHJvdG90eXBlLFwibm9ybWFsaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb252b2x2ZXIubm9ybWFsaXplfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udm9sdmVyLm5vcm1hbGl6ZT10fX0pLHQuQ29udm9sdmVyLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2J1ZmZlci5sb2FkKHQsZnVuY3Rpb24odCl7dGhpcy5idWZmZXI9dCxlJiZlKCl9LmJpbmQodGhpcykpfSx0LkNvbnZvbHZlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkVmZmVjdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2J1ZmZlci5kaXNwb3NlKCksdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fY29udm9sdmVyLmRpc2Nvbm5lY3QoKSx0aGlzLl9jb252b2x2ZXI9bnVsbCx0aGlzfSx0LkNvbnZvbHZlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg3KSxpKDUpLGkoMTMpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Nb2R1bG89ZnVuY3Rpb24oZSl7dC5TaWduYWxCYXNlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDEsMCksdGhpcy5fc2hhcGVyPW5ldyB0LldhdmVTaGFwZXIoTWF0aC5wb3coMiwxNikpLHRoaXMuX211bHRpcGx5PW5ldyB0Lk11bHRpcGx5LHRoaXMuX3N1YnRyYWN0PXRoaXMub3V0cHV0PW5ldyB0LlN1YnRyYWN0LHRoaXMuX21vZFNpZ25hbD1uZXcgdC5TaWduYWwoZSksdGhpcy5pbnB1dC5mYW4odGhpcy5fc2hhcGVyLHRoaXMuX3N1YnRyYWN0KSx0aGlzLl9tb2RTaWduYWwuY29ubmVjdCh0aGlzLl9tdWx0aXBseSwwLDApLHRoaXMuX3NoYXBlci5jb25uZWN0KHRoaXMuX211bHRpcGx5LDAsMSksdGhpcy5fbXVsdGlwbHkuY29ubmVjdCh0aGlzLl9zdWJ0cmFjdCwwLDEpLHRoaXMuX3NldFdhdmVTaGFwZXIoZSl9LHQuZXh0ZW5kKHQuTW9kdWxvLHQuU2lnbmFsQmFzZSksdC5Nb2R1bG8ucHJvdG90eXBlLl9zZXRXYXZlU2hhcGVyPWZ1bmN0aW9uKHQpe3RoaXMuX3NoYXBlci5zZXRNYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZmxvb3IoKGUrMWUtNCkvdCl9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTW9kdWxvLnByb3RvdHlwZSxcInZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb2RTaWduYWwudmFsdWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tb2RTaWduYWwudmFsdWU9dCx0aGlzLl9zZXRXYXZlU2hhcGVyKHQpfX0pLHQuTW9kdWxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2lnbmFsQmFzZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3NoYXBlci5kaXNwb3NlKCksdGhpcy5fc2hhcGVyPW51bGwsdGhpcy5fbXVsdGlwbHkuZGlzcG9zZSgpLHRoaXMuX211bHRpcGx5PW51bGwsdGhpcy5fc3VidHJhY3QuZGlzcG9zZSgpLHRoaXMuX3N1YnRyYWN0PW51bGwsdGhpcy5fbW9kU2lnbmFsLmRpc3Bvc2UoKSx0aGlzLl9tb2RTaWduYWw9bnVsbCx0aGlzfSx0Lk1vZHVsb30uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxNiksaSgxMSksaSg2MiksaSg0MCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9mZmxpbmU9ZnVuY3Rpb24oZSxpKXt2YXIgbj10LmNvbnRleHQuc2FtcGxlUmF0ZSxvPXQuY29udGV4dCxzPW5ldyB0Lk9mZmxpbmVDb250ZXh0KDIsaSxuKTt0LmNvbnRleHQ9czt2YXIgcj1lKHQuVHJhbnNwb3J0KSxhPW51bGw7cmV0dXJuIGE9ciYmdC5pc0Z1bmN0aW9uKHIudGhlbik/ci50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHMucmVuZGVyKCl9KTpzLnJlbmRlcigpLHQuY29udGV4dD1vLGEudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQuQnVmZmVyKGUpfSl9LHQuT2ZmbGluZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxMSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0LkJ1ZmZlcnM9ZnVuY3Rpb24oZSl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpLnNoaWZ0KCk7dmFyIG49dC5kZWZhdWx0cyhpLFtcIm9ubG9hZFwiLFwiYmFzZVVybFwiXSx0LkJ1ZmZlcnMpO2Zvcih2YXIgbyBpbiB0LmNhbGwodGhpcyksdGhpcy5fYnVmZmVycz17fSx0aGlzLmJhc2VVcmw9bi5iYXNlVXJsLHRoaXMuX2xvYWRpbmdDb3VudD0wLGUpdGhpcy5fbG9hZGluZ0NvdW50KyssdGhpcy5hZGQobyxlW29dLHRoaXMuX2J1ZmZlckxvYWRlZC5iaW5kKHRoaXMsbi5vbmxvYWQpKX0sdC5leHRlbmQodC5CdWZmZXJzKSx0LkJ1ZmZlcnMuZGVmYXVsdHM9e29ubG9hZDp0Lm5vT3AsYmFzZVVybDpcIlwifSx0LkJ1ZmZlcnMucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnVmZmVycy5oYXNPd25Qcm9wZXJ0eSh0KX0sdC5CdWZmZXJzLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5oYXModCkpcmV0dXJuIHRoaXMuX2J1ZmZlcnNbdF07dGhyb3cgbmV3IEVycm9yKFwiVG9uZS5CdWZmZXJzOiBubyBidWZmZXIgbmFtZWQgXCIrdCl9LHQuQnVmZmVycy5wcm90b3R5cGUuX2J1ZmZlckxvYWRlZD1mdW5jdGlvbih0KXt0aGlzLl9sb2FkaW5nQ291bnQtLSwwPT09dGhpcy5fbG9hZGluZ0NvdW50JiZ0JiZ0KHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5CdWZmZXJzLnByb3RvdHlwZSxcImxvYWRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD0hMDtmb3IodmFyIGUgaW4gdGhpcy5fYnVmZmVycyl7dmFyIGk9dGhpcy5nZXQoZSk7dD10JiZpLmxvYWRlZH1yZXR1cm4gdH19KSx0LkJ1ZmZlcnMucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLGksbil7cmV0dXJuIG49dC5kZWZhdWx0QXJnKG4sdC5ub09wKSxpIGluc3RhbmNlb2YgdC5CdWZmZXI/KHRoaXMuX2J1ZmZlcnNbZV09aSxuKHRoaXMpKTppIGluc3RhbmNlb2YgQXVkaW9CdWZmZXI/KHRoaXMuX2J1ZmZlcnNbZV09bmV3IHQuQnVmZmVyKGkpLG4odGhpcykpOnQuaXNTdHJpbmcoaSkmJih0aGlzLl9idWZmZXJzW2VdPW5ldyB0LkJ1ZmZlcih0aGlzLmJhc2VVcmwraSxuKSksdGhpc30sdC5CdWZmZXJzLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9idWZmZXJzKXRoaXMuX2J1ZmZlcnNbZV0uZGlzcG9zZSgpO3JldHVybiB0aGlzLl9idWZmZXJzPW51bGwsdGhpc30sdC5CdWZmZXJzfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ3RybFBhdHRlcm49ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ2YWx1ZXNcIixcInR5cGVcIl0sdC5DdHJsUGF0dGVybik7dC5jYWxsKHRoaXMpLHRoaXMudmFsdWVzPWUudmFsdWVzLHRoaXMuaW5kZXg9MCx0aGlzLl90eXBlPW51bGwsdGhpcy5fc2h1ZmZsZWQ9bnVsbCx0aGlzLl9kaXJlY3Rpb249bnVsbCx0aGlzLnR5cGU9ZS50eXBlfSx0LmV4dGVuZCh0LkN0cmxQYXR0ZXJuKSx0LkN0cmxQYXR0ZXJuLlR5cGU9e1VwOlwidXBcIixEb3duOlwiZG93blwiLFVwRG93bjpcInVwRG93blwiLERvd25VcDpcImRvd25VcFwiLEFsdGVybmF0ZVVwOlwiYWx0ZXJuYXRlVXBcIixBbHRlcm5hdGVEb3duOlwiYWx0ZXJuYXRlRG93blwiLFJhbmRvbTpcInJhbmRvbVwiLFJhbmRvbVdhbGs6XCJyYW5kb21XYWxrXCIsUmFuZG9tT25jZTpcInJhbmRvbU9uY2VcIn0sdC5DdHJsUGF0dGVybi5kZWZhdWx0cz17dHlwZTp0LkN0cmxQYXR0ZXJuLlR5cGUuVXAsdmFsdWVzOltdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5DdHJsUGF0dGVybi5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZigwIT09dGhpcy52YWx1ZXMubGVuZ3RoKXtpZigxPT09dGhpcy52YWx1ZXMubGVuZ3RoKXJldHVybiB0aGlzLnZhbHVlc1swXTt0aGlzLmluZGV4PU1hdGgubWluKHRoaXMuaW5kZXgsdGhpcy52YWx1ZXMubGVuZ3RoLTEpO3ZhciBlPXRoaXMudmFsdWVzW3RoaXMuaW5kZXhdO3JldHVybiB0aGlzLnR5cGU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuUmFuZG9tT25jZSYmKHRoaXMudmFsdWVzLmxlbmd0aCE9PXRoaXMuX3NodWZmbGVkLmxlbmd0aCYmdGhpcy5fc2h1ZmZsZVZhbHVlcygpLGU9dGhpcy52YWx1ZXNbdGhpcy5fc2h1ZmZsZWRbdGhpcy5pbmRleF1dKSxlfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5DdHJsUGF0dGVybi5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdHlwZT1lLHRoaXMuX3NodWZmbGVkPW51bGwsdGhpcy5fdHlwZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5VcHx8dGhpcy5fdHlwZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5VcERvd258fHRoaXMuX3R5cGU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuUmFuZG9tT25jZXx8dGhpcy5fdHlwZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5BbHRlcm5hdGVVcD90aGlzLmluZGV4PTA6dGhpcy5fdHlwZSE9PXQuQ3RybFBhdHRlcm4uVHlwZS5Eb3duJiZ0aGlzLl90eXBlIT09dC5DdHJsUGF0dGVybi5UeXBlLkRvd25VcCYmdGhpcy5fdHlwZSE9PXQuQ3RybFBhdHRlcm4uVHlwZS5BbHRlcm5hdGVEb3dufHwodGhpcy5pbmRleD10aGlzLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5fdHlwZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5VcERvd258fHRoaXMuX3R5cGU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuQWx0ZXJuYXRlVXA/dGhpcy5fZGlyZWN0aW9uPXQuQ3RybFBhdHRlcm4uVHlwZS5VcDp0aGlzLl90eXBlIT09dC5DdHJsUGF0dGVybi5UeXBlLkRvd25VcCYmdGhpcy5fdHlwZSE9PXQuQ3RybFBhdHRlcm4uVHlwZS5BbHRlcm5hdGVEb3dufHwodGhpcy5fZGlyZWN0aW9uPXQuQ3RybFBhdHRlcm4uVHlwZS5Eb3duKSx0aGlzLl90eXBlPT09dC5DdHJsUGF0dGVybi5UeXBlLlJhbmRvbU9uY2U/dGhpcy5fc2h1ZmZsZVZhbHVlcygpOnRoaXMuX3R5cGU9PT10LkN0cmxQYXR0ZXJuLlJhbmRvbSYmKHRoaXMuaW5kZXg9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnRoaXMudmFsdWVzLmxlbmd0aCkpfX0pLHQuQ3RybFBhdHRlcm4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIGU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuVXA/KHRoaXMuaW5kZXgrKyx0aGlzLmluZGV4Pj10aGlzLnZhbHVlcy5sZW5ndGgmJih0aGlzLmluZGV4PTApKTplPT09dC5DdHJsUGF0dGVybi5UeXBlLkRvd24/KHRoaXMuaW5kZXgtLSx0aGlzLmluZGV4PDAmJih0aGlzLmluZGV4PXRoaXMudmFsdWVzLmxlbmd0aC0xKSk6ZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5VcERvd258fGU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuRG93blVwPyh0aGlzLl9kaXJlY3Rpb249PT10LkN0cmxQYXR0ZXJuLlR5cGUuVXA/dGhpcy5pbmRleCsrOnRoaXMuaW5kZXgtLSx0aGlzLmluZGV4PDA/KHRoaXMuaW5kZXg9MSx0aGlzLl9kaXJlY3Rpb249dC5DdHJsUGF0dGVybi5UeXBlLlVwKTp0aGlzLmluZGV4Pj10aGlzLnZhbHVlcy5sZW5ndGgmJih0aGlzLmluZGV4PXRoaXMudmFsdWVzLmxlbmd0aC0yLHRoaXMuX2RpcmVjdGlvbj10LkN0cmxQYXR0ZXJuLlR5cGUuRG93bikpOmU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuUmFuZG9tP3RoaXMuaW5kZXg9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnRoaXMudmFsdWVzLmxlbmd0aCk6ZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5SYW5kb21XYWxrP01hdGgucmFuZG9tKCk8LjU/KHRoaXMuaW5kZXgtLSx0aGlzLmluZGV4PU1hdGgubWF4KHRoaXMuaW5kZXgsMCkpOih0aGlzLmluZGV4KyssdGhpcy5pbmRleD1NYXRoLm1pbih0aGlzLmluZGV4LHRoaXMudmFsdWVzLmxlbmd0aC0xKSk6ZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5SYW5kb21PbmNlPyh0aGlzLmluZGV4KyssdGhpcy5pbmRleD49dGhpcy52YWx1ZXMubGVuZ3RoJiYodGhpcy5pbmRleD0wLHRoaXMuX3NodWZmbGVWYWx1ZXMoKSkpOmU9PT10LkN0cmxQYXR0ZXJuLlR5cGUuQWx0ZXJuYXRlVXA/KHRoaXMuX2RpcmVjdGlvbj09PXQuQ3RybFBhdHRlcm4uVHlwZS5VcD8odGhpcy5pbmRleCs9Mix0aGlzLl9kaXJlY3Rpb249dC5DdHJsUGF0dGVybi5UeXBlLkRvd24pOih0aGlzLmluZGV4LT0xLHRoaXMuX2RpcmVjdGlvbj10LkN0cmxQYXR0ZXJuLlR5cGUuVXApLHRoaXMuaW5kZXg+PXRoaXMudmFsdWVzLmxlbmd0aCYmKHRoaXMuaW5kZXg9MCx0aGlzLl9kaXJlY3Rpb249dC5DdHJsUGF0dGVybi5UeXBlLlVwKSk6ZT09PXQuQ3RybFBhdHRlcm4uVHlwZS5BbHRlcm5hdGVEb3duJiYodGhpcy5fZGlyZWN0aW9uPT09dC5DdHJsUGF0dGVybi5UeXBlLlVwPyh0aGlzLmluZGV4Kz0xLHRoaXMuX2RpcmVjdGlvbj10LkN0cmxQYXR0ZXJuLlR5cGUuRG93bik6KHRoaXMuaW5kZXgtPTIsdGhpcy5fZGlyZWN0aW9uPXQuQ3RybFBhdHRlcm4uVHlwZS5VcCksdGhpcy5pbmRleDwwJiYodGhpcy5pbmRleD10aGlzLnZhbHVlcy5sZW5ndGgtMSx0aGlzLl9kaXJlY3Rpb249dC5DdHJsUGF0dGVybi5UeXBlLkRvd24pKSx0aGlzLnZhbHVlfSx0LkN0cmxQYXR0ZXJuLnByb3RvdHlwZS5fc2h1ZmZsZVZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3RoaXMuX3NodWZmbGVkPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy52YWx1ZXMubGVuZ3RoO2UrKyl0W2VdPWU7Zm9yKDt0Lmxlbmd0aD4wOyl7dmFyIGk9dC5zcGxpY2UoTWF0aC5mbG9vcih0Lmxlbmd0aCpNYXRoLnJhbmRvbSgpKSwxKTt0aGlzLl9zaHVmZmxlZC5wdXNoKGlbMF0pfX0sdC5DdHJsUGF0dGVybi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3NodWZmbGVkPW51bGwsdGhpcy52YWx1ZXM9bnVsbH0sdC5DdHJsUGF0dGVybn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3Quc3VwcG9ydGVkJiYoQXVkaW9CdWZmZXIucHJvdG90eXBlLmNvcHlUb0NoYW5uZWx8fChBdWRpb0J1ZmZlci5wcm90b3R5cGUuY29weVRvQ2hhbm5lbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRDaGFubmVsRGF0YShlKTtpPWl8fDA7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspbltvK2ldPXRbb119LEF1ZGlvQnVmZmVyLnByb3RvdHlwZS5jb3B5RnJvbUNoYW5uZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuZ2V0Q2hhbm5lbERhdGEoZSk7aT1pfHwwO2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXRbb109bltvK2ldfSkpfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDExKSxpKDYpLGkoMyksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuT3NjaWxsYXRvck5vZGU9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcInR5cGVcIl0sdC5Pc2NpbGxhdG9yTm9kZSk7dC5BdWRpb05vZGUuY2FsbCh0aGlzLGUpLHRoaXMub25lbmRlZD1lLm9uZW5kZWQsdGhpcy5fc3RhcnRUaW1lPS0xLHRoaXMuX3N0b3BUaW1lPS0xLHRoaXMuX2dhaW5Ob2RlPXRoaXMub3V0cHV0PW5ldyB0LkdhaW4oMCksdGhpcy5fb3NjaWxsYXRvcj10aGlzLmNvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpLHRoaXMuX29zY2lsbGF0b3IuY29ubmVjdCh0aGlzLl9nYWluTm9kZSksdGhpcy50eXBlPWUudHlwZSx0aGlzLmZyZXF1ZW5jeT1uZXcgdC5QYXJhbSh7cGFyYW06dGhpcy5fb3NjaWxsYXRvci5mcmVxdWVuY3ksdW5pdHM6dC5UeXBlLkZyZXF1ZW5jeSx2YWx1ZTplLmZyZXF1ZW5jeX0pLHRoaXMuZGV0dW5lPW5ldyB0LlBhcmFtKHtwYXJhbTp0aGlzLl9vc2NpbGxhdG9yLmRldHVuZSx1bml0czp0LlR5cGUuQ2VudHMsdmFsdWU6ZS5kZXR1bmV9KSx0aGlzLl9nYWluPTF9LHQuZXh0ZW5kKHQuT3NjaWxsYXRvck5vZGUsdC5BdWRpb05vZGUpLHQuT3NjaWxsYXRvck5vZGUuZGVmYXVsdHM9e2ZyZXF1ZW5jeTo0NDAsZGV0dW5lOjAsdHlwZTpcInNpbmVcIixvbmVuZGVkOnQubm9PcH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT3NjaWxsYXRvck5vZGUucHJvdG90eXBlLFwic3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdGVBdFRpbWUodGhpcy5ub3coKSl9fSksdC5Pc2NpbGxhdG9yTm9kZS5wcm90b3R5cGUuZ2V0U3RhdGVBdFRpbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksLTEhPT10aGlzLl9zdGFydFRpbWUmJmU+PXRoaXMuX3N0YXJ0VGltZSYmKC0xPT09dGhpcy5fc3RvcFRpbWV8fGU8PXRoaXMuX3N0b3BUaW1lKT90LlN0YXRlLlN0YXJ0ZWQ6dC5TdGF0ZS5TdG9wcGVkfSx0Lk9zY2lsbGF0b3JOb2RlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXtpZih0aGlzLmxvZyhcInN0YXJ0XCIsdCksLTEhPT10aGlzLl9zdGFydFRpbWUpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGNhbGwgT3NjaWxsYXRvck5vZGUuc3RhcnQgbW9yZSB0aGFuIG9uY2VcIik7cmV0dXJuIHRoaXMuX3N0YXJ0VGltZT10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9vc2NpbGxhdG9yLnN0YXJ0KHRoaXMuX3N0YXJ0VGltZSksdGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSgxLHRoaXMuX3N0YXJ0VGltZSksdGhpc30sdC5Pc2NpbGxhdG9yTm9kZS5wcm90b3R5cGUuc2V0UGVyaW9kaWNXYXZlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yLnNldFBlcmlvZGljV2F2ZSh0KSx0aGlzfSx0Lk9zY2lsbGF0b3JOb2RlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvZyhcInN0b3BcIix0KSx0aGlzLmFzc2VydCgtMSE9PXRoaXMuX3N0YXJ0VGltZSxcIidzdGFydCcgbXVzdCBiZSBjYWxsZWQgYmVmb3JlICdzdG9wJ1wiKSx0aGlzLmNhbmNlbFN0b3AoKSx0aGlzLl9zdG9wVGltZT10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9zdG9wVGltZT50aGlzLl9zdGFydFRpbWU/KHRoaXMuX2dhaW5Ob2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoMCx0aGlzLl9zdG9wVGltZSksdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PXRoaXMuY29udGV4dC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5fb3NjaWxsYXRvci5zdG9wKHRoaXMubm93KCkpLHRoaXMub25lbmRlZCgpfS5iaW5kKHRoaXMpLHRoaXMuX3N0b3BUaW1lLXRoaXMuY29udGV4dC5jdXJyZW50VGltZSkpOnRoaXMuX2dhaW5Ob2RlLmdhaW4uY2FuY2VsU2NoZWR1bGVkVmFsdWVzKHRoaXMuX3N0YXJ0VGltZSksdGhpc30sdC5Pc2NpbGxhdG9yTm9kZS5wcm90b3R5cGUuY2FuY2VsU3RvcD1mdW5jdGlvbigpe3JldHVybi0xIT09dGhpcy5fc3RhcnRUaW1lJiYodGhpcy5fZ2Fpbk5vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXModGhpcy5fc3RhcnRUaW1lK3RoaXMuc2FtcGxlVGltZSksdGhpcy5jb250ZXh0LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl9zdG9wVGltZT0tMSksdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuT3NjaWxsYXRvck5vZGUucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvci50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3NjaWxsYXRvci50eXBlPXR9fSksdC5Pc2NpbGxhdG9yTm9kZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5vbmVuZGVkPW51bGwsdGhpcy5fb3NjaWxsYXRvci5kaXNjb25uZWN0KCksdGhpcy5fb3NjaWxsYXRvcj1udWxsLHRoaXMuX2dhaW5Ob2RlLmRpc3Bvc2UoKSx0aGlzLl9nYWluTm9kZT1udWxsLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzLmRldHVuZT1udWxsLHRoaXN9LHQuT3NjaWxsYXRvck5vZGV9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNTUpLGkoNTQpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5UcmFuc3BvcnRSZXBlYXRFdmVudD1mdW5jdGlvbihlLGkpe3QuVHJhbnNwb3J0RXZlbnQuY2FsbCh0aGlzLGUsaSksaT10LmRlZmF1bHRBcmcoaSx0LlRyYW5zcG9ydFJlcGVhdEV2ZW50LmRlZmF1bHRzKSx0aGlzLmR1cmF0aW9uPXQuVGlja3MoaS5kdXJhdGlvbiksdGhpcy5faW50ZXJ2YWw9dC5UaWNrcyhpLmludGVydmFsKSx0aGlzLl9jdXJyZW50SWQ9LTEsdGhpcy5fbmV4dElkPS0xLHRoaXMuX25leHRUaWNrPXRoaXMudGltZSx0aGlzLl9ib3VuZFJlc3RhcnQ9dGhpcy5fcmVzdGFydC5iaW5kKHRoaXMpLHRoaXMuVHJhbnNwb3J0Lm9uKFwic3RhcnQgbG9vcFN0YXJ0XCIsdGhpcy5fYm91bmRSZXN0YXJ0KSx0aGlzLl9yZXN0YXJ0KCl9LHQuZXh0ZW5kKHQuVHJhbnNwb3J0UmVwZWF0RXZlbnQsdC5UcmFuc3BvcnRFdmVudCksdC5UcmFuc3BvcnRSZXBlYXRFdmVudC5kZWZhdWx0cz17ZHVyYXRpb246MS8wLGludGVydmFsOjF9LHQuVHJhbnNwb3J0UmVwZWF0RXZlbnQucHJvdG90eXBlLmludm9rZT1mdW5jdGlvbihlKXt0aGlzLl9jcmVhdGVFdmVudHMoZSksdC5UcmFuc3BvcnRFdmVudC5wcm90b3R5cGUuaW52b2tlLmNhbGwodGhpcyxlKX0sdC5UcmFuc3BvcnRSZXBlYXRFdmVudC5wcm90b3R5cGUuX2NyZWF0ZUV2ZW50cz1mdW5jdGlvbihlKXt2YXIgaT10aGlzLlRyYW5zcG9ydC5nZXRUaWNrc0F0VGltZShlKTtpPj10aGlzLnRpbWUmJmk+PXRoaXMuX25leHRUaWNrJiZ0aGlzLl9uZXh0VGljayt0aGlzLl9pbnRlcnZhbDx0aGlzLnRpbWUrdGhpcy5kdXJhdGlvbiYmKHRoaXMuX25leHRUaWNrKz10aGlzLl9pbnRlcnZhbCx0aGlzLl9jdXJyZW50SWQ9dGhpcy5fbmV4dElkLHRoaXMuX25leHRJZD10aGlzLlRyYW5zcG9ydC5zY2hlZHVsZU9uY2UodGhpcy5pbnZva2UuYmluZCh0aGlzKSx0LlRpY2tzKHRoaXMuX25leHRUaWNrKSkpfSx0LlRyYW5zcG9ydFJlcGVhdEV2ZW50LnByb3RvdHlwZS5fcmVzdGFydD1mdW5jdGlvbihlKXt0aGlzLlRyYW5zcG9ydC5jbGVhcih0aGlzLl9jdXJyZW50SWQpLHRoaXMuVHJhbnNwb3J0LmNsZWFyKHRoaXMuX25leHRJZCksdGhpcy5fbmV4dFRpY2s9dGhpcy50aW1lO3ZhciBpPXRoaXMuVHJhbnNwb3J0LmdldFRpY2tzQXRUaW1lKGUpO2k+dGhpcy50aW1lJiYodGhpcy5fbmV4dFRpY2s9dGhpcy50aW1lK01hdGguY2VpbCgoaS10aGlzLnRpbWUpL3RoaXMuX2ludGVydmFsKSp0aGlzLl9pbnRlcnZhbCksdGhpcy5fY3VycmVudElkPXRoaXMuVHJhbnNwb3J0LnNjaGVkdWxlT25jZSh0aGlzLmludm9rZS5iaW5kKHRoaXMpLHQuVGlja3ModGhpcy5fbmV4dFRpY2spKSx0aGlzLl9uZXh0VGljays9dGhpcy5faW50ZXJ2YWwsdGhpcy5fbmV4dElkPXRoaXMuVHJhbnNwb3J0LnNjaGVkdWxlT25jZSh0aGlzLmludm9rZS5iaW5kKHRoaXMpLHQuVGlja3ModGhpcy5fbmV4dFRpY2spKX0sdC5UcmFuc3BvcnRSZXBlYXRFdmVudC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlRyYW5zcG9ydC5jbGVhcih0aGlzLl9jdXJyZW50SWQpLHRoaXMuVHJhbnNwb3J0LmNsZWFyKHRoaXMuX25leHRJZCksdGhpcy5UcmFuc3BvcnQub2ZmKFwic3RhcnQgbG9vcFN0YXJ0XCIsdGhpcy5fYm91bmRSZXN0YXJ0KSx0aGlzLl9ib3VuZENyZWF0ZUV2ZW50cz1udWxsLHQuVHJhbnNwb3J0RXZlbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLmR1cmF0aW9uPW51bGwsdGhpcy5faW50ZXJ2YWw9bnVsbCx0aGlzfSx0LlRyYW5zcG9ydFJlcGVhdEV2ZW50fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDQpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt0LkludGVydmFsVGltZWxpbmU9ZnVuY3Rpb24oKXt0LmNhbGwodGhpcyksdGhpcy5fcm9vdD1udWxsLHRoaXMuX2xlbmd0aD0wfSx0LmV4dGVuZCh0LkludGVydmFsVGltZWxpbmUpLHQuSW50ZXJ2YWxUaW1lbGluZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGkpe2lmKHQuaXNVbmRlZihpLnRpbWUpfHx0LmlzVW5kZWYoaS5kdXJhdGlvbikpdGhyb3cgbmV3IEVycm9yKFwiVG9uZS5JbnRlcnZhbFRpbWVsaW5lOiBldmVudHMgbXVzdCBoYXZlIHRpbWUgYW5kIGR1cmF0aW9uIHBhcmFtZXRlcnNcIik7aS50aW1lPWkudGltZS52YWx1ZU9mKCk7dmFyIG49bmV3IGUoaS50aW1lLGkudGltZStpLmR1cmF0aW9uLGkpO2ZvcihudWxsPT09dGhpcy5fcm9vdD90aGlzLl9yb290PW46dGhpcy5fcm9vdC5pbnNlcnQobiksdGhpcy5fbGVuZ3RoKys7bnVsbCE9PW47KW4udXBkYXRlSGVpZ2h0KCksbi51cGRhdGVNYXgoKSx0aGlzLl9yZWJhbGFuY2Uobiksbj1uLnBhcmVudDtyZXR1cm4gdGhpc30sdC5JbnRlcnZhbFRpbWVsaW5lLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7aWYobnVsbCE9PXRoaXMuX3Jvb3Qpe3ZhciBlPVtdO3RoaXMuX3Jvb3Quc2VhcmNoKHQudGltZSxlKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTtpZihuLmV2ZW50PT09dCl7dGhpcy5fcmVtb3ZlTm9kZShuKSx0aGlzLl9sZW5ndGgtLTticmVha319fXJldHVybiB0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5JbnRlcnZhbFRpbWVsaW5lLnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVuZ3RofX0pLHQuSW50ZXJ2YWxUaW1lbGluZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZvckVhY2hGcm9tKHQsZnVuY3Rpb24odCl7dGhpcy5yZW1vdmUodCl9LmJpbmQodGhpcykpLHRoaXN9LHQuSW50ZXJ2YWxUaW1lbGluZS5wcm90b3R5cGUuX3NldFJvb3Q9ZnVuY3Rpb24odCl7dGhpcy5fcm9vdD10LG51bGwhPT10aGlzLl9yb290JiYodGhpcy5fcm9vdC5wYXJlbnQ9bnVsbCl9LHQuSW50ZXJ2YWxUaW1lbGluZS5wcm90b3R5cGUuX3JlcGxhY2VOb2RlSW5QYXJlbnQ9ZnVuY3Rpb24odCxlKXtudWxsIT09dC5wYXJlbnQ/KHQuaXNMZWZ0Q2hpbGQoKT90LnBhcmVudC5sZWZ0PWU6dC5wYXJlbnQucmlnaHQ9ZSx0aGlzLl9yZWJhbGFuY2UodC5wYXJlbnQpKTp0aGlzLl9zZXRSb290KGUpfSx0LkludGVydmFsVGltZWxpbmUucHJvdG90eXBlLl9yZW1vdmVOb2RlPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10LmxlZnQmJm51bGw9PT10LnJpZ2h0KXRoaXMuX3JlcGxhY2VOb2RlSW5QYXJlbnQodCxudWxsKTtlbHNlIGlmKG51bGw9PT10LnJpZ2h0KXRoaXMuX3JlcGxhY2VOb2RlSW5QYXJlbnQodCx0LmxlZnQpO2Vsc2UgaWYobnVsbD09PXQubGVmdCl0aGlzLl9yZXBsYWNlTm9kZUluUGFyZW50KHQsdC5yaWdodCk7ZWxzZXt2YXIgZSxpO2lmKHQuZ2V0QmFsYW5jZSgpPjApaWYobnVsbD09PXQubGVmdC5yaWdodCkoZT10LmxlZnQpLnJpZ2h0PXQucmlnaHQsaT1lO2Vsc2V7Zm9yKGU9dC5sZWZ0LnJpZ2h0O251bGwhPT1lLnJpZ2h0OyllPWUucmlnaHQ7ZS5wYXJlbnQucmlnaHQ9ZS5sZWZ0LGk9ZS5wYXJlbnQsZS5sZWZ0PXQubGVmdCxlLnJpZ2h0PXQucmlnaHR9ZWxzZSBpZihudWxsPT09dC5yaWdodC5sZWZ0KShlPXQucmlnaHQpLmxlZnQ9dC5sZWZ0LGk9ZTtlbHNle2ZvcihlPXQucmlnaHQubGVmdDtudWxsIT09ZS5sZWZ0OyllPWUubGVmdDtlLnBhcmVudD1lLnBhcmVudCxlLnBhcmVudC5sZWZ0PWUucmlnaHQsaT1lLnBhcmVudCxlLmxlZnQ9dC5sZWZ0LGUucmlnaHQ9dC5yaWdodH1udWxsIT09dC5wYXJlbnQ/dC5pc0xlZnRDaGlsZCgpP3QucGFyZW50LmxlZnQ9ZTp0LnBhcmVudC5yaWdodD1lOnRoaXMuX3NldFJvb3QoZSksdGhpcy5fcmViYWxhbmNlKGkpfXQuZGlzcG9zZSgpfSx0LkludGVydmFsVGltZWxpbmUucHJvdG90eXBlLl9yb3RhdGVMZWZ0PWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyZW50LGk9dC5pc0xlZnRDaGlsZCgpLG49dC5yaWdodDt0LnJpZ2h0PW4ubGVmdCxuLmxlZnQ9dCxudWxsIT09ZT9pP2UubGVmdD1uOmUucmlnaHQ9bjp0aGlzLl9zZXRSb290KG4pfSx0LkludGVydmFsVGltZWxpbmUucHJvdG90eXBlLl9yb3RhdGVSaWdodD1mdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudCxpPXQuaXNMZWZ0Q2hpbGQoKSxuPXQubGVmdDt0LmxlZnQ9bi5yaWdodCxuLnJpZ2h0PXQsbnVsbCE9PWU/aT9lLmxlZnQ9bjplLnJpZ2h0PW46dGhpcy5fc2V0Um9vdChuKX0sdC5JbnRlcnZhbFRpbWVsaW5lLnByb3RvdHlwZS5fcmViYWxhbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QmFsYW5jZSgpO2U+MT90LmxlZnQuZ2V0QmFsYW5jZSgpPDA/dGhpcy5fcm90YXRlTGVmdCh0LmxlZnQpOnRoaXMuX3JvdGF0ZVJpZ2h0KHQpOmU8LTEmJih0LnJpZ2h0LmdldEJhbGFuY2UoKT4wP3RoaXMuX3JvdGF0ZVJpZ2h0KHQucmlnaHQpOnRoaXMuX3JvdGF0ZUxlZnQodCkpfSx0LkludGVydmFsVGltZWxpbmUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5fcm9vdCl7dmFyIGU9W107aWYodGhpcy5fcm9vdC5zZWFyY2godCxlKSxlLmxlbmd0aD4wKXtmb3IodmFyIGk9ZVswXSxuPTE7bjxlLmxlbmd0aDtuKyspZVtuXS5sb3c+aS5sb3cmJihpPWVbbl0pO3JldHVybiBpLmV2ZW50fX1yZXR1cm4gbnVsbH0sdC5JbnRlcnZhbFRpbWVsaW5lLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2lmKG51bGwhPT10aGlzLl9yb290KXt2YXIgZT1bXTt0aGlzLl9yb290LnRyYXZlcnNlKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbj1lW2ldLmV2ZW50O24mJnQobil9fXJldHVybiB0aGlzfSx0LkludGVydmFsVGltZWxpbmUucHJvdG90eXBlLmZvckVhY2hBdFRpbWU9ZnVuY3Rpb24odCxlKXtpZihudWxsIT09dGhpcy5fcm9vdCl7dmFyIGk9W107dGhpcy5fcm9vdC5zZWFyY2godCxpKTtmb3IodmFyIG49aS5sZW5ndGgtMTtuPj0wO24tLSl7dmFyIG89aVtuXS5ldmVudDtvJiZlKG8pfX1yZXR1cm4gdGhpc30sdC5JbnRlcnZhbFRpbWVsaW5lLnByb3RvdHlwZS5mb3JFYWNoRnJvbT1mdW5jdGlvbih0LGUpe2lmKG51bGwhPT10aGlzLl9yb290KXt2YXIgaT1bXTt0aGlzLl9yb290LnNlYXJjaEFmdGVyKHQsaSk7Zm9yKHZhciBuPWkubGVuZ3RoLTE7bj49MDtuLS0pe2UoaVtuXS5ldmVudCl9fXJldHVybiB0aGlzfSx0LkludGVydmFsVGltZWxpbmUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdD1bXTtudWxsIT09dGhpcy5fcm9vdCYmdGhpcy5fcm9vdC50cmF2ZXJzZShmdW5jdGlvbihlKXt0LnB1c2goZSl9KTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmRpc3Bvc2UoKTtyZXR1cm4gdD1udWxsLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzfTt2YXIgZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5ldmVudD1pLHRoaXMubG93PXQsdGhpcy5oaWdoPWUsdGhpcy5tYXg9dGhpcy5oaWdoLHRoaXMuX2xlZnQ9bnVsbCx0aGlzLl9yaWdodD1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy5oZWlnaHQ9MH07cmV0dXJuIGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXt0Lmxvdzw9dGhpcy5sb3c/bnVsbD09PXRoaXMubGVmdD90aGlzLmxlZnQ9dDp0aGlzLmxlZnQuaW5zZXJ0KHQpOm51bGw9PT10aGlzLnJpZ2h0P3RoaXMucmlnaHQ9dDp0aGlzLnJpZ2h0Lmluc2VydCh0KX0sZS5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKHQsZSl7dD50aGlzLm1heHx8KG51bGwhPT10aGlzLmxlZnQmJnRoaXMubGVmdC5zZWFyY2godCxlKSx0aGlzLmxvdzw9dCYmdGhpcy5oaWdoPnQmJmUucHVzaCh0aGlzKSx0aGlzLmxvdz50fHxudWxsIT09dGhpcy5yaWdodCYmdGhpcy5yaWdodC5zZWFyY2godCxlKSl9LGUucHJvdG90eXBlLnNlYXJjaEFmdGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5sb3c+PXQmJihlLnB1c2godGhpcyksbnVsbCE9PXRoaXMubGVmdCYmdGhpcy5sZWZ0LnNlYXJjaEFmdGVyKHQsZSkpLG51bGwhPT10aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LnNlYXJjaEFmdGVyKHQsZSl9LGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKHQpe3QodGhpcyksbnVsbCE9PXRoaXMubGVmdCYmdGhpcy5sZWZ0LnRyYXZlcnNlKHQpLG51bGwhPT10aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LnRyYXZlcnNlKHQpfSxlLnByb3RvdHlwZS51cGRhdGVIZWlnaHQ9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5sZWZ0JiZudWxsIT09dGhpcy5yaWdodD90aGlzLmhlaWdodD1NYXRoLm1heCh0aGlzLmxlZnQuaGVpZ2h0LHRoaXMucmlnaHQuaGVpZ2h0KSsxOm51bGwhPT10aGlzLnJpZ2h0P3RoaXMuaGVpZ2h0PXRoaXMucmlnaHQuaGVpZ2h0KzE6bnVsbCE9PXRoaXMubGVmdD90aGlzLmhlaWdodD10aGlzLmxlZnQuaGVpZ2h0KzE6dGhpcy5oZWlnaHQ9MH0sZS5wcm90b3R5cGUudXBkYXRlTWF4PWZ1bmN0aW9uKCl7dGhpcy5tYXg9dGhpcy5oaWdoLG51bGwhPT10aGlzLmxlZnQmJih0aGlzLm1heD1NYXRoLm1heCh0aGlzLm1heCx0aGlzLmxlZnQubWF4KSksbnVsbCE9PXRoaXMucmlnaHQmJih0aGlzLm1heD1NYXRoLm1heCh0aGlzLm1heCx0aGlzLnJpZ2h0Lm1heCkpfSxlLnByb3RvdHlwZS5nZXRCYWxhbmNlPWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gbnVsbCE9PXRoaXMubGVmdCYmbnVsbCE9PXRoaXMucmlnaHQ/dD10aGlzLmxlZnQuaGVpZ2h0LXRoaXMucmlnaHQuaGVpZ2h0Om51bGwhPT10aGlzLmxlZnQ/dD10aGlzLmxlZnQuaGVpZ2h0KzE6bnVsbCE9PXRoaXMucmlnaHQmJih0PS0odGhpcy5yaWdodC5oZWlnaHQrMSkpLHR9LGUucHJvdG90eXBlLmlzTGVmdENoaWxkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQubGVmdD09PXRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xlZnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZWZ0PXQsbnVsbCE9PXQmJih0LnBhcmVudD10aGlzKSx0aGlzLnVwZGF0ZUhlaWdodCgpLHRoaXMudXBkYXRlTWF4KCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmlnaHQ9dCxudWxsIT09dCYmKHQucGFyZW50PXRoaXMpLHRoaXMudXBkYXRlSGVpZ2h0KCksdGhpcy51cGRhdGVNYXgoKX19KSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLl9sZWZ0PW51bGwsdGhpcy5fcmlnaHQ9bnVsbCx0aGlzLmV2ZW50PW51bGx9LHQuSW50ZXJ2YWxUaW1lbGluZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXtpPXRoaXMudG9TZWNvbmRzKGkpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBuPXRoaXMuX2V2ZW50cy5nZXQoaSksbz10aGlzLl9ldmVudHMucHJldmlvdXNFdmVudChuKSxzPXRoaXMuX2dldFRpY2tzVW50aWxFdmVudChvLGkpO3JldHVybiBuLnRpY2tzPU1hdGgubWF4KHMsMCksdGhpc319cmV0dXJuIHQuVGlja1NpZ25hbD1mdW5jdGlvbihlKXtlPXQuZGVmYXVsdEFyZyhlLDEpLHQuU2lnbmFsLmNhbGwodGhpcyx7dW5pdHM6dC5UeXBlLlRpY2tzLHZhbHVlOmV9KSx0aGlzLl9ldmVudHMubWVtb3J5PTEvMCx0aGlzLmNhbmNlbFNjaGVkdWxlZFZhbHVlcygwKSx0aGlzLl9ldmVudHMuYWRkKHt0eXBlOnQuUGFyYW0uQXV0b21hdGlvblR5cGUuU2V0VmFsdWUsdGltZTowLHZhbHVlOmV9KX0sdC5leHRlbmQodC5UaWNrU2lnbmFsLHQuU2lnbmFsKSx0LlRpY2tTaWduYWwucHJvdG90eXBlLnNldFZhbHVlQXRUaW1lPWUodC5TaWduYWwucHJvdG90eXBlLnNldFZhbHVlQXRUaW1lKSx0LlRpY2tTaWduYWwucHJvdG90eXBlLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lPWUodC5TaWduYWwucHJvdG90eXBlLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKSx0LlRpY2tTaWduYWwucHJvdG90eXBlLnNldFRhcmdldEF0VGltZT1mdW5jdGlvbih0LGUsaSl7ZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLnNldFJhbXBQb2ludChlKSx0PXRoaXMuX2Zyb21Vbml0cyh0KTtmb3IodmFyIG49dGhpcy5fZXZlbnRzLmdldChlKSxvPU1hdGgucm91bmQoTWF0aC5tYXgoMS9pLDEpKSxzPTA7czw9bztzKyspe3ZhciByPWkqcytlLGE9dGhpcy5fZXhwb25lbnRpYWxBcHByb2FjaChuLnRpbWUsbi52YWx1ZSx0LGkscik7dGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1VuaXRzKGEpLHIpfXJldHVybiB0aGlzfSx0LlRpY2tTaWduYWwucHJvdG90eXBlLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWU9ZnVuY3Rpb24odCxlKXtlPXRoaXMudG9TZWNvbmRzKGUpLHQ9dGhpcy5fZnJvbVVuaXRzKHQpO3ZhciBpPXRoaXMuX2V2ZW50cy5nZXQoZSk7bnVsbD09PWkmJihpPXt2YWx1ZTp0aGlzLl9pbml0aWFsVmFsdWUsdGltZTowfSk7Zm9yKHZhciBuPU1hdGgucm91bmQoTWF0aC5tYXgoMTAqKGUtaS50aW1lKSwxKSksbz0oZS1pLnRpbWUpL24scz0wO3M8PW47cysrKXt2YXIgcj1vKnMraS50aW1lLGE9dGhpcy5fZXhwb25lbnRpYWxJbnRlcnBvbGF0ZShpLnRpbWUsaS52YWx1ZSxlLHQscik7dGhpcy5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLl90b1VuaXRzKGEpLHIpfXJldHVybiB0aGlzfSx0LlRpY2tTaWduYWwucHJvdG90eXBlLl9nZXRUaWNrc1VudGlsRXZlbnQ9ZnVuY3Rpb24oZSxpKXtpZihudWxsPT09ZSllPXt0aWNrczowLHRpbWU6MH07ZWxzZSBpZih0LmlzVW5kZWYoZS50aWNrcykpe3ZhciBuPXRoaXMuX2V2ZW50cy5wcmV2aW91c0V2ZW50KGUpO2UudGlja3M9dGhpcy5fZ2V0VGlja3NVbnRpbEV2ZW50KG4sZS50aW1lKX12YXIgbz10aGlzLmdldFZhbHVlQXRUaW1lKGUudGltZSkscz10aGlzLmdldFZhbHVlQXRUaW1lKGkpO3JldHVybiB0aGlzLl9ldmVudHMuZ2V0KGkpLnRpbWU9PT1pJiZ0aGlzLl9ldmVudHMuZ2V0KGkpLnR5cGU9PT10LlBhcmFtLkF1dG9tYXRpb25UeXBlLlNldFZhbHVlJiYocz10aGlzLmdldFZhbHVlQXRUaW1lKGktdGhpcy5zYW1wbGVUaW1lKSksLjUqKGktZS50aW1lKSoobytzKStlLnRpY2tzfSx0LlRpY2tTaWduYWwucHJvdG90eXBlLmdldFRpY2tzQXRUaW1lPWZ1bmN0aW9uKHQpe3Q9dGhpcy50b1NlY29uZHModCk7dmFyIGU9dGhpcy5fZXZlbnRzLmdldCh0KTtyZXR1cm4gTWF0aC5tYXgodGhpcy5fZ2V0VGlja3NVbnRpbEV2ZW50KGUsdCksMCl9LHQuVGlja1NpZ25hbC5wcm90b3R5cGUuZ2V0RHVyYXRpb25PZlRpY2tzPWZ1bmN0aW9uKHQsZSl7ZT10aGlzLnRvU2Vjb25kcyhlKTt2YXIgaT10aGlzLmdldFRpY2tzQXRUaW1lKGUpO3JldHVybiB0aGlzLmdldFRpbWVPZlRpY2soaSt0KS1lfSx0LlRpY2tTaWduYWwucHJvdG90eXBlLmdldFRpbWVPZlRpY2s9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fZXZlbnRzLmdldChlLFwidGlja3NcIiksbj10aGlzLl9ldmVudHMuZ2V0QWZ0ZXIoZSxcInRpY2tzXCIpO2lmKGkmJmkudGlja3M9PT1lKXJldHVybiBpLnRpbWU7aWYoaSYmbiYmbi50eXBlPT09dC5QYXJhbS5BdXRvbWF0aW9uVHlwZS5MaW5lYXImJmkudmFsdWUhPT1uLnZhbHVlKXt2YXIgbz10aGlzLmdldFZhbHVlQXRUaW1lKGkudGltZSkscz0odGhpcy5nZXRWYWx1ZUF0VGltZShuLnRpbWUpLW8pLyhuLnRpbWUtaS50aW1lKSxyPU1hdGguc3FydChNYXRoLnBvdyhvLDIpLTIqcyooaS50aWNrcy1lKSksYT0oLW8rcikvcztyZXR1cm4oYT4wP2E6KC1vLXIpL3MpK2kudGltZX1yZXR1cm4gaT8wPT09aS52YWx1ZT8xLzA6aS50aW1lKyhlLWkudGlja3MpL2kudmFsdWU6ZS90aGlzLl9pbml0aWFsVmFsdWV9LHQuVGlja1NpZ25hbC5wcm90b3R5cGUudGlja3NUb1RpbWU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gaT10aGlzLnRvU2Vjb25kcyhpKSxuZXcgdC5UaW1lKHRoaXMuZ2V0RHVyYXRpb25PZlRpY2tzKGUsaSkpfSx0LlRpY2tTaWduYWwucHJvdG90eXBlLnRpbWVUb1RpY2tzPWZ1bmN0aW9uKGUsaSl7aT10aGlzLnRvU2Vjb25kcyhpKSxlPXRoaXMudG9TZWNvbmRzKGUpO3ZhciBuPXRoaXMuZ2V0VGlja3NBdFRpbWUoaSksbz10aGlzLmdldFRpY2tzQXRUaW1lKGkrZSk7cmV0dXJuIG5ldyB0LlRpY2tzKG8tbil9LHQuVGlja1NpZ25hbH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg1NiksaSgzMyksaSgzNSksaSgyMCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNsb2NrPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImZyZXF1ZW5jeVwiXSx0LkNsb2NrKTt0LkVtaXR0ZXIuY2FsbCh0aGlzKSx0aGlzLmNhbGxiYWNrPWUuY2FsbGJhY2ssdGhpcy5fbmV4dFRpY2s9MCx0aGlzLl90aWNrU291cmNlPW5ldyB0LlRpY2tTb3VyY2UoZS5mcmVxdWVuY3kpLHRoaXMuX2xhc3RVcGRhdGU9MCx0aGlzLmZyZXF1ZW5jeT10aGlzLl90aWNrU291cmNlLmZyZXF1ZW5jeSx0aGlzLl9yZWFkT25seShcImZyZXF1ZW5jeVwiKSx0aGlzLl9zdGF0ZT1uZXcgdC5UaW1lbGluZVN0YXRlKHQuU3RhdGUuU3RvcHBlZCksdGhpcy5fc3RhdGUuc2V0U3RhdGVBdFRpbWUodC5TdGF0ZS5TdG9wcGVkLDApLHRoaXMuX2JvdW5kTG9vcD10aGlzLl9sb29wLmJpbmQodGhpcyksdGhpcy5jb250ZXh0Lm9uKFwidGlja1wiLHRoaXMuX2JvdW5kTG9vcCl9LHQuZXh0ZW5kKHQuQ2xvY2ssdC5FbWl0dGVyKSx0LkNsb2NrLmRlZmF1bHRzPXtjYWxsYmFjazp0Lm5vT3AsZnJlcXVlbmN5OjF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNsb2NrLnByb3RvdHlwZSxcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZSh0aGlzLm5vdygpKX19KSx0LkNsb2NrLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLmNvbnRleHQucmVzdW1lKCksZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl9zdGF0ZS5nZXRWYWx1ZUF0VGltZShlKSE9PXQuU3RhdGUuU3RhcnRlZCYmKHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RhcnRlZCxlKSx0aGlzLl90aWNrU291cmNlLnN0YXJ0KGUsaSksZTx0aGlzLl9sYXN0VXBkYXRlJiZ0aGlzLmVtaXQoXCJzdGFydFwiLGUsaSkpLHRoaXN9LHQuQ2xvY2sucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdGhpcy5fc3RhdGUuY2FuY2VsKGUpLHRoaXMuX3N0YXRlLnNldFN0YXRlQXRUaW1lKHQuU3RhdGUuU3RvcHBlZCxlKSx0aGlzLl90aWNrU291cmNlLnN0b3AoZSksZTx0aGlzLl9sYXN0VXBkYXRlJiZ0aGlzLmVtaXQoXCJzdG9wXCIsZSksdGhpc30sdC5DbG9jay5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdGhpcy5fc3RhdGUuZ2V0VmFsdWVBdFRpbWUoZSk9PT10LlN0YXRlLlN0YXJ0ZWQmJih0aGlzLl9zdGF0ZS5zZXRTdGF0ZUF0VGltZSh0LlN0YXRlLlBhdXNlZCxlKSx0aGlzLl90aWNrU291cmNlLnBhdXNlKGUpLGU8dGhpcy5fbGFzdFVwZGF0ZSYmdGhpcy5lbWl0KFwicGF1c2VcIixlKSksdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ2xvY2sucHJvdG90eXBlLFwidGlja3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguY2VpbCh0aGlzLmdldFRpY2tzQXRUaW1lKHRoaXMubm93KCkpKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RpY2tTb3VyY2UudGlja3M9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5DbG9jay5wcm90b3R5cGUsXCJzZWNvbmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aWNrU291cmNlLnNlY29uZHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90aWNrU291cmNlLnNlY29uZHM9dH19KSx0LkNsb2NrLnByb3RvdHlwZS5nZXRTZWNvbmRzQXRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aWNrU291cmNlLmdldFNlY29uZHNBdFRpbWUodCl9LHQuQ2xvY2sucHJvdG90eXBlLnNldFRpY2tzQXRUaW1lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RpY2tTb3VyY2Uuc2V0VGlja3NBdFRpbWUodCxlKSx0aGlzfSx0LkNsb2NrLnByb3RvdHlwZS5nZXRUaWNrc0F0VGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGlja1NvdXJjZS5nZXRUaWNrc0F0VGltZSh0KX0sdC5DbG9jay5wcm90b3R5cGUubmV4dFRpY2tUaW1lPWZ1bmN0aW9uKHQsZSl7ZT10aGlzLnRvU2Vjb25kcyhlKTt2YXIgaT10aGlzLmdldFRpY2tzQXRUaW1lKGUpO3JldHVybiB0aGlzLl90aWNrU291cmNlLmdldFRpbWVPZlRpY2soaSt0LGUpfSx0LkNsb2NrLnByb3RvdHlwZS5fbG9vcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2xhc3RVcGRhdGUsaT10aGlzLm5vdygpO3RoaXMuX2xhc3RVcGRhdGU9aSxlIT09aSYmKHRoaXMuX3N0YXRlLmZvckVhY2hCZXR3ZWVuKGUsaSxmdW5jdGlvbihlKXtzd2l0Y2goZS5zdGF0ZSl7Y2FzZSB0LlN0YXRlLlN0YXJ0ZWQ6dmFyIGk9dGhpcy5fdGlja1NvdXJjZS5nZXRUaWNrc0F0VGltZShlLnRpbWUpO3RoaXMuZW1pdChcInN0YXJ0XCIsZS50aW1lLGkpO2JyZWFrO2Nhc2UgdC5TdGF0ZS5TdG9wcGVkOjAhPT1lLnRpbWUmJnRoaXMuZW1pdChcInN0b3BcIixlLnRpbWUpO2JyZWFrO2Nhc2UgdC5TdGF0ZS5QYXVzZWQ6dGhpcy5lbWl0KFwicGF1c2VcIixlLnRpbWUpfX0uYmluZCh0aGlzKSksdGhpcy5fdGlja1NvdXJjZS5mb3JFYWNoVGlja0JldHdlZW4oZSxpLGZ1bmN0aW9uKHQsZSl7dGhpcy5jYWxsYmFjayh0LGUpfS5iaW5kKHRoaXMpKSl9LHQuQ2xvY2sucHJvdG90eXBlLmdldFN0YXRlQXRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX3N0YXRlLmdldFZhbHVlQXRUaW1lKHQpfSx0LkNsb2NrLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dC5FbWl0dGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5jb250ZXh0Lm9mZihcInRpY2tcIix0aGlzLl9ib3VuZExvb3ApLHRoaXMuX3dyaXRhYmxlKFwiZnJlcXVlbmN5XCIpLHRoaXMuX3RpY2tTb3VyY2UuZGlzcG9zZSgpLHRoaXMuX3RpY2tTb3VyY2U9bnVsbCx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuX2JvdW5kTG9vcD1udWxsLHRoaXMuX25leHRUaWNrPTEvMCx0aGlzLmNhbGxiYWNrPW51bGwsdGhpcy5fc3RhdGUuZGlzcG9zZSgpLHRoaXMuX3N0YXRlPW51bGx9LHQuQ2xvY2t9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMSksaSg1KSxpKDcpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5HcmVhdGVyVGhhblplcm89ZnVuY3Rpb24oKXt0LlNpZ25hbEJhc2UuY2FsbCh0aGlzKSx0aGlzLl90aHJlc2g9dGhpcy5vdXRwdXQ9bmV3IHQuV2F2ZVNoYXBlcihmdW5jdGlvbih0KXtyZXR1cm4gdDw9MD8wOjF9LDEyNyksdGhpcy5fc2NhbGU9dGhpcy5pbnB1dD1uZXcgdC5NdWx0aXBseSgxZTQpLHRoaXMuX3NjYWxlLmNvbm5lY3QodGhpcy5fdGhyZXNoKX0sdC5leHRlbmQodC5HcmVhdGVyVGhhblplcm8sdC5TaWduYWxCYXNlKSx0LkdyZWF0ZXJUaGFuWmVyby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlNpZ25hbEJhc2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9zY2FsZS5kaXNwb3NlKCksdGhpcy5fc2NhbGU9bnVsbCx0aGlzLl90aHJlc2guZGlzcG9zZSgpLHRoaXMuX3RocmVzaD1udWxsLHRoaXN9LHQuR3JlYXRlclRoYW5aZXJvfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDg3KSxpKDEzKSxpKDEpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5HcmVhdGVyVGhhbj1mdW5jdGlvbihlKXt0LlNpZ25hbC5jYWxsKHRoaXMpLHRoaXMuY3JlYXRlSW5zT3V0cygyLDApLHRoaXMuX3BhcmFtPXRoaXMuaW5wdXRbMF09bmV3IHQuU3VidHJhY3QoZSksdGhpcy5pbnB1dFsxXT10aGlzLl9wYXJhbS5pbnB1dFsxXSx0aGlzLl9ndHo9dGhpcy5vdXRwdXQ9bmV3IHQuR3JlYXRlclRoYW5aZXJvLHRoaXMuX3BhcmFtLmNvbm5lY3QodGhpcy5fZ3R6KSx0aGlzLnByb3h5PSExfSx0LmV4dGVuZCh0LkdyZWF0ZXJUaGFuLHQuU2lnbmFsKSx0LkdyZWF0ZXJUaGFuLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2lnbmFsLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZ3R6LmRpc3Bvc2UoKSx0aGlzLl9ndHo9bnVsbCx0aGlzfSx0LkdyZWF0ZXJUaGFufS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDQ3KSxpKDI2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU2NhbGVkRW52ZWxvcGU9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJhdHRhY2tcIixcImRlY2F5XCIsXCJzdXN0YWluXCIsXCJyZWxlYXNlXCJdLHQuRW52ZWxvcGUpO3QuRW52ZWxvcGUuY2FsbCh0aGlzLGUpLGU9dC5kZWZhdWx0QXJnKGUsdC5TY2FsZWRFbnZlbG9wZS5kZWZhdWx0cyksdGhpcy5fZXhwPXRoaXMub3V0cHV0PW5ldyB0LlBvdyhlLmV4cG9uZW50KSx0aGlzLl9zY2FsZT10aGlzLm91dHB1dD1uZXcgdC5TY2FsZShlLm1pbixlLm1heCksdGhpcy5fc2lnLmNoYWluKHRoaXMuX2V4cCx0aGlzLl9zY2FsZSl9LHQuZXh0ZW5kKHQuU2NhbGVkRW52ZWxvcGUsdC5FbnZlbG9wZSksdC5TY2FsZWRFbnZlbG9wZS5kZWZhdWx0cz17bWluOjAsbWF4OjEsZXhwb25lbnQ6MX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuU2NhbGVkRW52ZWxvcGUucHJvdG90eXBlLFwibWluXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZS5taW59LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zY2FsZS5taW49dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5TY2FsZWRFbnZlbG9wZS5wcm90b3R5cGUsXCJtYXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjYWxlLm1heH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NjYWxlLm1heD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlNjYWxlZEVudmVsb3BlLnByb3RvdHlwZSxcImV4cG9uZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHAudmFsdWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9leHAudmFsdWU9dH19KSx0LlNjYWxlZEVudmVsb3BlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRW52ZWxvcGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9zY2FsZS5kaXNwb3NlKCksdGhpcy5fc2NhbGU9bnVsbCx0aGlzLl9leHAuZGlzcG9zZSgpLHRoaXMuX2V4cD1udWxsLHRoaXN9LHQuU2NhbGVkRW52ZWxvcGV9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNyksaSgzNildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkFicz1mdW5jdGlvbigpe3QuU2lnbmFsQmFzZS5jYWxsKHRoaXMpLHRoaXMuX2Ficz10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LldhdmVTaGFwZXIoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHQpPC4wMDE/MDpNYXRoLmFicyh0KX0sMTAyNCl9LHQuZXh0ZW5kKHQuQWJzLHQuU2lnbmFsQmFzZSksdC5BYnMucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TaWduYWxCYXNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fYWJzLmRpc3Bvc2UoKSx0aGlzLl9hYnM9bnVsbCx0aGlzfSx0LkFic30uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgzKSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5Tb2xvPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wic29sb1wiXSx0LlNvbG8pO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcgdC5HYWluLHRoaXMuX3NvbG9CaW5kPXRoaXMuX3NvbG9lZC5iaW5kKHRoaXMpLHRoaXMuY29udGV4dC5vbihcInNvbG9cIix0aGlzLl9zb2xvQmluZCksdGhpcy5zb2xvPWUuc29sb30sdC5leHRlbmQodC5Tb2xvLHQuQXVkaW9Ob2RlKSx0LlNvbG8uZGVmYXVsdHM9e3NvbG86ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlNvbG8ucHJvdG90eXBlLFwic29sb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTb2xvZWQoKX0sc2V0OmZ1bmN0aW9uKHQpe3Q/dGhpcy5fYWRkU29sbygpOnRoaXMuX3JlbW92ZVNvbG8oKSx0aGlzLmNvbnRleHQuZW1pdChcInNvbG9cIix0aGlzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5Tb2xvLnByb3RvdHlwZSxcIm11dGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5pbnB1dC5nYWluLnZhbHVlfX0pLHQuU29sby5wcm90b3R5cGUuX2FkZFNvbG89ZnVuY3Rpb24oKXt0LmlzQXJyYXkodGhpcy5jb250ZXh0Ll9jdXJyZW50U29sbyl8fCh0aGlzLmNvbnRleHQuX2N1cnJlbnRTb2xvPVtdKSx0aGlzLl9pc1NvbG9lZCgpfHx0aGlzLmNvbnRleHQuX2N1cnJlbnRTb2xvLnB1c2godGhpcyl9LHQuU29sby5wcm90b3R5cGUuX3JlbW92ZVNvbG89ZnVuY3Rpb24oKXtpZih0aGlzLl9pc1NvbG9lZCgpKXt2YXIgdD10aGlzLmNvbnRleHQuX2N1cnJlbnRTb2xvLmluZGV4T2YodGhpcyk7dGhpcy5jb250ZXh0Ll9jdXJyZW50U29sby5zcGxpY2UodCwxKX19LHQuU29sby5wcm90b3R5cGUuX2lzU29sb2VkPWZ1bmN0aW9uKCl7cmV0dXJuISF0LmlzQXJyYXkodGhpcy5jb250ZXh0Ll9jdXJyZW50U29sbykmJigwIT09dGhpcy5jb250ZXh0Ll9jdXJyZW50U29sby5sZW5ndGgmJi0xIT09dGhpcy5jb250ZXh0Ll9jdXJyZW50U29sby5pbmRleE9mKHRoaXMpKX0sdC5Tb2xvLnByb3RvdHlwZS5fbm9Tb2xvcz1mdW5jdGlvbigpe3JldHVybiF0LmlzQXJyYXkodGhpcy5jb250ZXh0Ll9jdXJyZW50U29sbyl8fDA9PT10aGlzLmNvbnRleHQuX2N1cnJlbnRTb2xvLmxlbmd0aH0sdC5Tb2xvLnByb3RvdHlwZS5fc29sb2VkPWZ1bmN0aW9uKCl7dGhpcy5faXNTb2xvZWQoKT90aGlzLmlucHV0LmdhaW4udmFsdWU9MTp0aGlzLl9ub1NvbG9zKCk/dGhpcy5pbnB1dC5nYWluLnZhbHVlPTE6dGhpcy5pbnB1dC5nYWluLnZhbHVlPTB9LHQuU29sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQub2ZmKFwic29sb1wiLHRoaXMuX3NvbG9CaW5kKSx0aGlzLl9yZW1vdmVTb2xvKCksdGhpcy5fc29sb0JpbmQ9bnVsbCx0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXN9LHQuU29sb30uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg3KSxpKDEwKSxpKDI4KSxpKDE5KSxpKDMpLGkoMSksaSgyMCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe2lmKHQuc3VwcG9ydGVkJiYhdC5nbG9iYWwuQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVTdGVyZW9QYW5uZXIpe3ZhciBlPWZ1bmN0aW9uKGUpe3RoaXMuY29udGV4dD1lLHRoaXMucGFuPW5ldyB0LlNpZ25hbCgwLHQuVHlwZS5BdWRpb1JhbmdlKTt2YXIgaT1uZXcgdC5XYXZlU2hhcGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVxdWFsUG93ZXJTY2FsZSgoZSsxKS8yKX0sNDA5Niksbj1uZXcgdC5XYXZlU2hhcGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVxdWFsUG93ZXJTY2FsZSgxLShlKzEpLzIpfSw0MDk2KSxvPW5ldyB0LkdhaW4scz1uZXcgdC5HYWluLHI9dGhpcy5pbnB1dD1uZXcgdC5TcGxpdDtyLl9zcGxpdHRlci5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIiwobmV3IHQuWmVybykuZmFuKGksbik7dmFyIGE9dGhpcy5vdXRwdXQ9bmV3IHQuTWVyZ2U7ci5sZWZ0LmNoYWluKG8sYS5sZWZ0KSxyLnJpZ2h0LmNoYWluKHMsYS5yaWdodCksdGhpcy5wYW4uY2hhaW4obixvLmdhaW4pLHRoaXMucGFuLmNoYWluKGkscy5nYWluKX07ZS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe3RoaXMub3V0cHV0LmRpc2Nvbm5lY3QuYXBwbHkodGhpcy5vdXRwdXQsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbigpe3RoaXMub3V0cHV0LmNvbm5lY3QuYXBwbHkodGhpcy5vdXRwdXQsYXJndW1lbnRzKX0sQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVTdGVyZW9QYW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcyl9LHQuQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlU3RlcmVvUGFubmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMpfX19LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkVxdWFsUG93ZXJHYWluPWZ1bmN0aW9uKCl7dC5TaWduYWxCYXNlLmNhbGwodGhpcyksdGhpcy5fZXFQb3dlcj10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LldhdmVTaGFwZXIoZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGUpPC4wMDE/MDp0LmVxdWFsUG93ZXJTY2FsZShlKX0uYmluZCh0aGlzKSw0MDk2KX0sdC5leHRlbmQodC5FcXVhbFBvd2VyR2Fpbix0LlNpZ25hbEJhc2UpLHQuRXF1YWxQb3dlckdhaW4ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TaWduYWxCYXNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZXFQb3dlci5kaXNwb3NlKCksdGhpcy5fZXFQb3dlcj1udWxsLHRoaXN9LHQuRXF1YWxQb3dlckdhaW59LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNSksaSgxKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTmVnYXRlPWZ1bmN0aW9uKCl7dC5TaWduYWxCYXNlLmNhbGwodGhpcyksdGhpcy5fbXVsdGlwbHk9dGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcgdC5NdWx0aXBseSgtMSl9LHQuZXh0ZW5kKHQuTmVnYXRlLHQuU2lnbmFsQmFzZSksdC5OZWdhdGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TaWduYWxCYXNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbXVsdGlwbHkuZGlzcG9zZSgpLHRoaXMuX211bHRpcGx5PW51bGwsdGhpc30sdC5OZWdhdGV9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNjApLGkoMjcpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlBhblZvbD1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcInBhblwiLFwidm9sdW1lXCJdLHQuUGFuVm9sKTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuX3Bhbm5lcj10aGlzLmlucHV0PW5ldyB0LlBhbm5lcihlLnBhbiksdGhpcy5wYW49dGhpcy5fcGFubmVyLnBhbix0aGlzLl92b2x1bWU9dGhpcy5vdXRwdXQ9bmV3IHQuVm9sdW1lKGUudm9sdW1lKSx0aGlzLnZvbHVtZT10aGlzLl92b2x1bWUudm9sdW1lLHRoaXMuX3Bhbm5lci5jb25uZWN0KHRoaXMuX3ZvbHVtZSksdGhpcy5tdXRlPWUubXV0ZSx0aGlzLl9yZWFkT25seShbXCJwYW5cIixcInZvbHVtZVwiXSl9LHQuZXh0ZW5kKHQuUGFuVm9sLHQuQXVkaW9Ob2RlKSx0LlBhblZvbC5kZWZhdWx0cz17cGFuOjAsdm9sdW1lOjAsbXV0ZTohMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFuVm9sLnByb3RvdHlwZSxcIm11dGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZS5tdXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lLm11dGU9dH19KSx0LlBhblZvbC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcInBhblwiLFwidm9sdW1lXCJdKSx0aGlzLl9wYW5uZXIuZGlzcG9zZSgpLHRoaXMuX3Bhbm5lcj1udWxsLHRoaXMucGFuPW51bGwsdGhpcy5fdm9sdW1lLmRpc3Bvc2UoKSx0aGlzLl92b2x1bWU9bnVsbCx0aGlzLnZvbHVtZT1udWxsLHRoaXN9LHQuUGFuVm9sfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDM0KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7dC5zdXBwb3J0ZWQmJihBbmFseXNlck5vZGUucHJvdG90eXBlLmdldEZsb2F0VGltZURvbWFpbkRhdGF8fChBbmFseXNlck5vZGUucHJvdG90eXBlLmdldEZsb2F0VGltZURvbWFpbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO3RoaXMuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGUpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXRbaV09KGVbaV0tMTI4KS8xMjh9KSl9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMzQpLGkoNjMpLGkoMjApLGkoMyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe2lmKHQuc3VwcG9ydGVkJiYhdC5nbG9iYWwuQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVDb25zdGFudFNvdXJjZSl7dmFyIGU9ZnVuY3Rpb24odCl7dGhpcy5jb250ZXh0PXQ7Zm9yKHZhciBlPXQuY3JlYXRlQnVmZmVyKDEsMTI4LHQuc2FtcGxlUmF0ZSksaT1lLmdldENoYW5uZWxEYXRhKDApLG49MDtuPGkubGVuZ3RoO24rKylpW25dPTE7dGhpcy5fYnVmZmVyU291cmNlPXQuY3JlYXRlQnVmZmVyU291cmNlKCksdGhpcy5fYnVmZmVyU291cmNlLmNoYW5uZWxDb3VudD0xLHRoaXMuX2J1ZmZlclNvdXJjZS5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIix0aGlzLl9idWZmZXJTb3VyY2UuYnVmZmVyPWUsdGhpcy5fYnVmZmVyU291cmNlLmxvb3A9ITA7dmFyIG89dGhpcy5fb3V0cHV0PXQuY3JlYXRlR2FpbigpO3RoaXMub2Zmc2V0PW8uZ2Fpbix0aGlzLl9idWZmZXJTb3VyY2UuY29ubmVjdChvKX07ZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5zdGFydCh0KSx0aGlzfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2Uuc3RvcCh0KSx0aGlzfSxlLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX291dHB1dC5jb25uZWN0LmFwcGx5KHRoaXMuX291dHB1dCxhcmd1bWVudHMpLHRoaXN9LGUucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3V0cHV0LmRpc2Nvbm5lY3QuYXBwbHkodGhpcy5fb3V0cHV0LGFyZ3VtZW50cyksdGhpc30sQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVDb25zdGFudFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzKX0sdC5Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVDb25zdGFudFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzKX19fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDM0KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7aWYodC5zdXBwb3J0ZWQmJiF0Lmdsb2JhbC5BdWRpb0NvbnRleHQucHJvdG90eXBlLl9uYXRpdmVfY3JlYXRlV2F2ZVNoYXBlcil7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO2lmKGUuaW5jbHVkZXMoXCJzYWZhcmlcIikmJiFlLmluY2x1ZGVzKFwiY2hyb21lXCIpKXt2YXIgaT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5faW50ZXJuYWxOb2RlPXRoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9dC5fbmF0aXZlX2NyZWF0ZVdhdmVTaGFwZXIoKSx0aGlzLl9jdXJ2ZT1udWxsLHRoaXMuX2ludGVybmFsTm9kZSl0aGlzLl9kZWZpbmVQcm9wZXJ0eSh0aGlzLl9pbnRlcm5hbE5vZGUsZSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcImN1cnZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJ2ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2N1cnZlPXQ7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aCsxKTtlLnNldCh0LDEpLGVbMF09dFswXSx0aGlzLl9pbnRlcm5hbE5vZGUuY3VydmU9ZX19KSxpLnByb3RvdHlwZS5fZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24oZSxpKXt0LmlzVW5kZWYodGhpc1tpXSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGkse2dldDpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGVbaV0/ZVtpXS5iaW5kKGUpOmVbaV19LHNldDpmdW5jdGlvbih0KXtlW2ldPXR9fSl9LHQuZ2xvYmFsLkF1ZGlvQ29udGV4dC5wcm90b3R5cGUuX25hdGl2ZV9jcmVhdGVXYXZlU2hhcGVyPXQuZ2xvYmFsLkF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlV2F2ZVNoYXBlcix0Lmdsb2JhbC5BdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZVdhdmVTaGFwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcyl9fX19LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNDYpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5NaWRpPWZ1bmN0aW9uKGUsaSl7aWYoISh0aGlzIGluc3RhbmNlb2YgdC5NaWRpKSlyZXR1cm4gbmV3IHQuTWlkaShlLGkpO3QuRnJlcXVlbmN5LmNhbGwodGhpcyxlLGkpfSx0LmV4dGVuZCh0Lk1pZGksdC5GcmVxdWVuY3kpLHQuTWlkaS5wcm90b3R5cGUuX2RlZmF1bHRVbml0cz1cIm1pZGlcIix0Lk1pZGkucHJvdG90eXBlLl9mcmVxdWVuY3lUb1VuaXRzPWZ1bmN0aW9uKGUpe3JldHVybiB0LkZyZXF1ZW5jeS5mdG9tKHQuRnJlcXVlbmN5LnByb3RvdHlwZS5fZnJlcXVlbmN5VG9Vbml0cy5jYWxsKHRoaXMsZSkpfSx0Lk1pZGkucHJvdG90eXBlLl90aWNrc1RvVW5pdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuRnJlcXVlbmN5LmZ0b20odC5GcmVxdWVuY3kucHJvdG90eXBlLl90aWNrc1RvVW5pdHMuY2FsbCh0aGlzLGUpKX0sdC5NaWRpLnByb3RvdHlwZS5fYmVhdHNUb1VuaXRzPWZ1bmN0aW9uKGUpe3JldHVybiB0LkZyZXF1ZW5jeS5mdG9tKHQuRnJlcXVlbmN5LnByb3RvdHlwZS5fYmVhdHNUb1VuaXRzLmNhbGwodGhpcyxlKSl9LHQuTWlkaS5wcm90b3R5cGUuX3NlY29uZHNUb1VuaXRzPWZ1bmN0aW9uKGUpe3JldHVybiB0LkZyZXF1ZW5jeS5mdG9tKHQuRnJlcXVlbmN5LnByb3RvdHlwZS5fc2Vjb25kc1RvVW5pdHMuY2FsbCh0aGlzLGUpKX0sdC5NaWRpLnByb3RvdHlwZS50b01pZGk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9LHQuTWlkaS5wcm90b3R5cGUudG9GcmVxdWVuY3k9ZnVuY3Rpb24oKXtyZXR1cm4gdC5GcmVxdWVuY3kubXRvZih0aGlzLnRvTWlkaSgpKX0sdC5NaWRpLnByb3RvdHlwZS50cmFuc3Bvc2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudG9NaWRpKCkrdCl9LHQuTWlkaX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyNyksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVXNlck1lZGlhPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1widm9sdW1lXCJdLHQuVXNlck1lZGlhKTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuX21lZGlhU3RyZWFtPW51bGwsdGhpcy5fc3RyZWFtPW51bGwsdGhpcy5fZGV2aWNlPW51bGwsdGhpcy5fdm9sdW1lPXRoaXMub3V0cHV0PW5ldyB0LlZvbHVtZShlLnZvbHVtZSksdGhpcy52b2x1bWU9dGhpcy5fdm9sdW1lLnZvbHVtZSx0aGlzLl9yZWFkT25seShcInZvbHVtZVwiKSx0aGlzLm11dGU9ZS5tdXRlfSx0LmV4dGVuZCh0LlVzZXJNZWRpYSx0LkF1ZGlvTm9kZSksdC5Vc2VyTWVkaWEuZGVmYXVsdHM9e3ZvbHVtZTowLG11dGU6ITF9LHQuVXNlck1lZGlhLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0YXRlPT09dC5TdGF0ZS5TdGFydGVkJiZ0aGlzLmNsb3NlKCksdC5Vc2VyTWVkaWEuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIG47aWYodC5pc051bWJlcihlKSluPWlbZV07ZWxzZSBpZighKG49aS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxhYmVsPT09ZXx8dC5kZXZpY2VJZD09PWV9KSkmJmkubGVuZ3RoPjApbj1pWzBdO2Vsc2UgaWYoIW4mJnQuaXNEZWZpbmVkKGUpKXRocm93IG5ldyBFcnJvcihcIlRvbmUuVXNlck1lZGlhOiBubyBtYXRjaGluZyBkZXZpY2U6IFwiK2UpO3RoaXMuX2RldmljZT1uO3ZhciBvPXthdWRpbzp7ZWNob0NhbmNlbGxhdGlvbjohMSxzYW1wbGVSYXRlOnRoaXMuY29udGV4dC5zYW1wbGVSYXRlLG5vaXNlU3VwcHJlc3Npb246ITEsbW96Tm9pc2VTdXBwcmVzc2lvbjohMX19O3JldHVybiBuJiYoby5hdWRpby5kZXZpY2VJZD1uLmRldmljZUlkKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShvKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdHJlYW18fCh0aGlzLl9zdHJlYW09dCx0aGlzLl9tZWRpYVN0cmVhbT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCksdGhpcy5fbWVkaWFTdHJlYW0uY29ubmVjdCh0aGlzLm91dHB1dCkpLHRoaXN9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX0sdC5Vc2VyTWVkaWEucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cmVhbSYmKHRoaXMuX3N0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5zdG9wKCl9KSx0aGlzLl9zdHJlYW09bnVsbCx0aGlzLl9tZWRpYVN0cmVhbS5kaXNjb25uZWN0KCksdGhpcy5fbWVkaWFTdHJlYW09bnVsbCksdGhpcy5fZGV2aWNlPW51bGwsdGhpc30sdC5Vc2VyTWVkaWEuZW51bWVyYXRlRGV2aWNlcz1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cImF1ZGlvaW5wdXRcIj09PXQua2luZH0pfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlVzZXJNZWRpYS5wcm90b3R5cGUsXCJzdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RyZWFtJiZ0aGlzLl9zdHJlYW0uYWN0aXZlP3QuU3RhdGUuU3RhcnRlZDp0LlN0YXRlLlN0b3BwZWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuVXNlck1lZGlhLnByb3RvdHlwZSxcImRldmljZUlkXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX2RldmljZSlyZXR1cm4gdGhpcy5fZGV2aWNlLmRldmljZUlkfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlVzZXJNZWRpYS5wcm90b3R5cGUsXCJncm91cElkXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX2RldmljZSlyZXR1cm4gdGhpcy5fZGV2aWNlLmdyb3VwSWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuVXNlck1lZGlhLnByb3RvdHlwZSxcImxhYmVsXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX2RldmljZSlyZXR1cm4gdGhpcy5fZGV2aWNlLmxhYmVsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlVzZXJNZWRpYS5wcm90b3R5cGUsXCJtdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWUubXV0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3ZvbHVtZS5tdXRlPXR9fSksdC5Vc2VyTWVkaWEucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLmNsb3NlKCksdGhpcy5fd3JpdGFibGUoXCJ2b2x1bWVcIiksdGhpcy5fdm9sdW1lLmRpc3Bvc2UoKSx0aGlzLl92b2x1bWU9bnVsbCx0aGlzLnZvbHVtZT1udWxsLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlVzZXJNZWRpYSxcInN1cHBvcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pc0RlZmluZWQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcykmJnQuaXNGdW5jdGlvbihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl9fSksdC5Vc2VyTWVkaWF9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNjcpLGkoMjcpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlBsYXllcnM9ZnVuY3Rpb24oZSl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpLnNoaWZ0KCk7dmFyIG49dC5kZWZhdWx0cyhpLFtcIm9ubG9hZFwiXSx0LlBsYXllcnMpO2Zvcih2YXIgbyBpbiB0LkF1ZGlvTm9kZS5jYWxsKHRoaXMsbiksdGhpcy5fdm9sdW1lPXRoaXMub3V0cHV0PW5ldyB0LlZvbHVtZShuLnZvbHVtZSksdGhpcy52b2x1bWU9dGhpcy5fdm9sdW1lLnZvbHVtZSx0aGlzLl9yZWFkT25seShcInZvbHVtZVwiKSx0aGlzLl92b2x1bWUub3V0cHV0Lm91dHB1dC5jaGFubmVsQ291bnQ9Mix0aGlzLl92b2x1bWUub3V0cHV0Lm91dHB1dC5jaGFubmVsQ291bnRNb2RlPVwiZXhwbGljaXRcIix0aGlzLm11dGU9bi5tdXRlLHRoaXMuX3BsYXllcnM9e30sdGhpcy5fbG9hZGluZ0NvdW50PTAsdGhpcy5fZmFkZUluPW4uZmFkZUluLHRoaXMuX2ZhZGVPdXQ9bi5mYWRlT3V0LGUpdGhpcy5fbG9hZGluZ0NvdW50KyssdGhpcy5hZGQobyxlW29dLHRoaXMuX2J1ZmZlckxvYWRlZC5iaW5kKHRoaXMsbi5vbmxvYWQpKX0sdC5leHRlbmQodC5QbGF5ZXJzLHQuQXVkaW9Ob2RlKSx0LlBsYXllcnMuZGVmYXVsdHM9e3ZvbHVtZTowLG11dGU6ITEsb25sb2FkOnQubm9PcCxmYWRlSW46MCxmYWRlT3V0OjB9LHQuUGxheWVycy5wcm90b3R5cGUuX2J1ZmZlckxvYWRlZD1mdW5jdGlvbih0KXt0aGlzLl9sb2FkaW5nQ291bnQtLSwwPT09dGhpcy5fbG9hZGluZ0NvdW50JiZ0JiZ0KHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXJzLnByb3RvdHlwZSxcIm11dGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZS5tdXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lLm11dGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXJzLnByb3RvdHlwZSxcImZhZGVJblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFkZUlufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZmFkZUluPXQsdGhpcy5fZm9yRWFjaChmdW5jdGlvbihlKXtlLmZhZGVJbj10fSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGxheWVycy5wcm90b3R5cGUsXCJmYWRlT3V0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mYWRlT3V0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZmFkZU91dD10LHRoaXMuX2ZvckVhY2goZnVuY3Rpb24oZSl7ZS5mYWRlT3V0PXR9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXJzLnByb3RvdHlwZSxcInN0YXRlXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPSExO3JldHVybiB0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGkpe2U9ZXx8aS5zdGF0ZT09PXQuU3RhdGUuU3RhcnRlZH0pLGU/dC5TdGF0ZS5TdGFydGVkOnQuU3RhdGUuU3RvcHBlZH19KSx0LlBsYXllcnMucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcGxheWVycy5oYXNPd25Qcm9wZXJ0eSh0KX0sdC5QbGF5ZXJzLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5oYXModCkpcmV0dXJuIHRoaXMuX3BsYXllcnNbdF07dGhyb3cgbmV3IEVycm9yKFwiVG9uZS5QbGF5ZXJzOiBubyBwbGF5ZXIgbmFtZWQgXCIrdCl9LHQuUGxheWVycy5wcm90b3R5cGUuX2ZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX3BsYXllcnMpdCh0aGlzLl9wbGF5ZXJzW2VdLGUpO3JldHVybiB0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QbGF5ZXJzLnByb3RvdHlwZSxcImxvYWRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD0hMDtyZXR1cm4gdGhpcy5fZm9yRWFjaChmdW5jdGlvbihlKXt0PXQmJmUubG9hZGVkfSksdH19KSx0LlBsYXllcnMucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLGksbil7cmV0dXJuIHRoaXMuX3BsYXllcnNbZV09bmV3IHQuUGxheWVyKGksbikuY29ubmVjdCh0aGlzLm91dHB1dCksdGhpcy5fcGxheWVyc1tlXS5mYWRlSW49dGhpcy5fZmFkZUluLHRoaXMuX3BsYXllcnNbZV0uZmFkZU91dD10aGlzLl9mYWRlT3V0LHRoaXN9LHQuUGxheWVycy5wcm90b3R5cGUuc3RvcEFsbD1mdW5jdGlvbih0KXt0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RvcCh0KX0pfSx0LlBsYXllcnMucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl92b2x1bWUuZGlzcG9zZSgpLHRoaXMuX3ZvbHVtZT1udWxsLHRoaXMuX3dyaXRhYmxlKFwidm9sdW1lXCIpLHRoaXMudm9sdW1lPW51bGwsdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLl9mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZGlzcG9zZSgpfSksdGhpcy5fcGxheWVycz1udWxsLHRoaXN9LHQuUGxheWVyc30uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2KSxpKDExKSxpKDMxKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuR3JhaW5QbGF5ZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ1cmxcIixcIm9ubG9hZFwiXSx0LkdyYWluUGxheWVyKTt0LlNvdXJjZS5jYWxsKHRoaXMsZSksdGhpcy5idWZmZXI9bmV3IHQuQnVmZmVyKGUudXJsLGUub25sb2FkKSx0aGlzLl9jbG9jaz1uZXcgdC5DbG9jayh0aGlzLl90aWNrLmJpbmQodGhpcyksZS5ncmFpblNpemUpLHRoaXMuX2xvb3BTdGFydD0wLHRoaXMuX2xvb3BFbmQ9MCx0aGlzLl9hY3RpdmVTb3VyY2VzPVtdLHRoaXMuX3BsYXliYWNrUmF0ZT1lLnBsYXliYWNrUmF0ZSx0aGlzLl9ncmFpblNpemU9ZS5ncmFpblNpemUsdGhpcy5fb3ZlcmxhcD1lLm92ZXJsYXAsdGhpcy5kZXR1bmU9ZS5kZXR1bmUsdGhpcy5vdmVybGFwPWUub3ZlcmxhcCx0aGlzLmxvb3A9ZS5sb29wLHRoaXMucGxheWJhY2tSYXRlPWUucGxheWJhY2tSYXRlLHRoaXMuZ3JhaW5TaXplPWUuZ3JhaW5TaXplLHRoaXMubG9vcFN0YXJ0PWUubG9vcFN0YXJ0LHRoaXMubG9vcEVuZD1lLmxvb3BFbmQsdGhpcy5yZXZlcnNlPWUucmV2ZXJzZSx0aGlzLl9jbG9jay5vbihcInN0b3BcIix0aGlzLl9vbnN0b3AuYmluZCh0aGlzKSl9LHQuZXh0ZW5kKHQuR3JhaW5QbGF5ZXIsdC5Tb3VyY2UpLHQuR3JhaW5QbGF5ZXIuZGVmYXVsdHM9e29ubG9hZDp0Lm5vT3Asb3ZlcmxhcDouMSxncmFpblNpemU6LjIscGxheWJhY2tSYXRlOjEsZGV0dW5lOjAsbG9vcDohMSxsb29wU3RhcnQ6MCxsb29wRW5kOjAscmV2ZXJzZTohMX0sdC5HcmFpblBsYXllci5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKGUsaSxuKXtpPXQuZGVmYXVsdEFyZyhpLDApLGk9dGhpcy50b1NlY29uZHMoaSksZT10aGlzLnRvU2Vjb25kcyhlKSx0aGlzLl9vZmZzZXQ9aSx0aGlzLl9jbG9jay5zdGFydChlKSxuJiZ0aGlzLnN0b3AoZSt0aGlzLnRvU2Vjb25kcyhuKSl9LHQuR3JhaW5QbGF5ZXIucHJvdG90eXBlLl9zdG9wPWZ1bmN0aW9uKHQpe3RoaXMuX2Nsb2NrLnN0b3AodCl9LHQuR3JhaW5QbGF5ZXIucHJvdG90eXBlLl9vbnN0b3A9ZnVuY3Rpb24odCl7dGhpcy5fYWN0aXZlU291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZmFkZU91dD0wLGUuc3RvcCh0KX0pfSx0LkdyYWluUGxheWVyLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbihlKXtpZighdGhpcy5sb29wJiZ0aGlzLl9vZmZzZXQ+dGhpcy5idWZmZXIuZHVyYXRpb24pdGhpcy5zdG9wKGUpO2Vsc2V7dmFyIGk9dGhpcy5fb2Zmc2V0PHRoaXMuX292ZXJsYXA/MDp0aGlzLl9vdmVybGFwLG49bmV3IHQuQnVmZmVyU291cmNlKHtidWZmZXI6dGhpcy5idWZmZXIsZmFkZUluOmksZmFkZU91dDp0aGlzLl9vdmVybGFwLGxvb3A6dGhpcy5sb29wLGxvb3BTdGFydDp0aGlzLl9sb29wU3RhcnQsbG9vcEVuZDp0aGlzLl9sb29wRW5kLHBsYXliYWNrUmF0ZTp0LmludGVydmFsVG9GcmVxdWVuY3lSYXRpbyh0aGlzLmRldHVuZS8xMDApfSkuY29ubmVjdCh0aGlzLm91dHB1dCk7bi5zdGFydChlLHRoaXMuX29mZnNldCksdGhpcy5fb2Zmc2V0Kz10aGlzLmdyYWluU2l6ZSxuLnN0b3AoZSt0aGlzLmdyYWluU2l6ZS90aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5fYWN0aXZlU291cmNlcy5wdXNoKG4pLG4ub25lbmRlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2FjdGl2ZVNvdXJjZXMuaW5kZXhPZihuKTstMSE9PXQmJnRoaXMuX2FjdGl2ZVNvdXJjZXMuc3BsaWNlKHQsMSl9LmJpbmQodGhpcyl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5HcmFpblBsYXllci5wcm90b3R5cGUsXCJwbGF5YmFja1JhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXliYWNrUmF0ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BsYXliYWNrUmF0ZT10LHRoaXMuZ3JhaW5TaXplPXRoaXMuX2dyYWluU2l6ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5HcmFpblBsYXllci5wcm90b3R5cGUsXCJsb29wU3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvb3BTdGFydH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3BTdGFydD10aGlzLnRvU2Vjb25kcyh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5HcmFpblBsYXllci5wcm90b3R5cGUsXCJsb29wRW5kXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wRW5kfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcEVuZD10aGlzLnRvU2Vjb25kcyh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5HcmFpblBsYXllci5wcm90b3R5cGUsXCJyZXZlcnNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5yZXZlcnNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5idWZmZXIucmV2ZXJzZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkdyYWluUGxheWVyLnByb3RvdHlwZSxcImdyYWluU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ3JhaW5TaXplfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZ3JhaW5TaXplPXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX2Nsb2NrLmZyZXF1ZW5jeS52YWx1ZT10aGlzLl9wbGF5YmFja1JhdGUvdGhpcy5fZ3JhaW5TaXplfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkdyYWluUGxheWVyLnByb3RvdHlwZSxcIm92ZXJsYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX292ZXJsYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vdmVybGFwPXRoaXMudG9TZWNvbmRzKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkdyYWluUGxheWVyLnByb3RvdHlwZSxcImxvYWRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXIubG9hZGVkfX0pLHQuR3JhaW5QbGF5ZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5Tb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLmJ1ZmZlci5kaXNwb3NlKCksdGhpcy5idWZmZXI9bnVsbCx0aGlzLl9jbG9jay5kaXNwb3NlKCksdGhpcy5fY2xvY2s9bnVsbCx0aGlzLl9hY3RpdmVTb3VyY2VzLmZvckVhY2goZnVuY3Rpb24odCl7dC5kaXNwb3NlKCl9KSx0aGlzLl9hY3RpdmVTb3VyY2VzPW51bGwsdGhpc30sdC5HcmFpblBsYXllcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxNiksaSgxKSxpKDQ1KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuVHJhbnNwb3J0VGltZWxpbmVTaWduYWw9ZnVuY3Rpb24oKXt0LlNpZ25hbC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5vdXRwdXQ9dGhpcy5fb3V0cHV0U2lnPW5ldyB0LlNpZ25hbCh0aGlzLl9pbml0aWFsVmFsdWUpLHRoaXMuX2xhc3RWYWw9dGhpcy52YWx1ZSx0aGlzLl9zeW5jZWQ9dC5UcmFuc3BvcnQuc2NoZWR1bGVSZXBlYXQodGhpcy5fb25UaWNrLmJpbmQodGhpcyksXCIxaVwiKSx0aGlzLl9iaW5kQW5jaG9yVmFsdWU9dGhpcy5fYW5jaG9yVmFsdWUuYmluZCh0aGlzKSx0LlRyYW5zcG9ydC5vbihcInN0YXJ0IHN0b3AgcGF1c2VcIix0aGlzLl9iaW5kQW5jaG9yVmFsdWUpLHRoaXMuX2V2ZW50cy5tZW1vcnk9MS8wfSx0LmV4dGVuZCh0LlRyYW5zcG9ydFRpbWVsaW5lU2lnbmFsLHQuU2lnbmFsKSx0LlRyYW5zcG9ydFRpbWVsaW5lU2lnbmFsLnByb3RvdHlwZS5fb25UaWNrPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuZ2V0VmFsdWVBdFRpbWUodC5UcmFuc3BvcnQuc2Vjb25kcyk7dGhpcy5fbGFzdFZhbCE9PWkmJih0aGlzLl9sYXN0VmFsPWksdGhpcy5fb3V0cHV0U2lnLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGksZSkpfSx0LlRyYW5zcG9ydFRpbWVsaW5lU2lnbmFsLnByb3RvdHlwZS5fYW5jaG9yVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5nZXRWYWx1ZUF0VGltZSh0LlRyYW5zcG9ydC5zZWNvbmRzKTtyZXR1cm4gdGhpcy5fbGFzdFZhbD1pLHRoaXMuX291dHB1dFNpZy5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoZSksdGhpcy5fb3V0cHV0U2lnLnNldFZhbHVlQXRUaW1lKGksZSksdGhpc30sdC5UcmFuc3BvcnRUaW1lbGluZVNpZ25hbC5wcm90b3R5cGUuZ2V0VmFsdWVBdFRpbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dC5UcmFuc3BvcnRUaW1lKGUpLHQuU2lnbmFsLnByb3RvdHlwZS5nZXRWYWx1ZUF0VGltZS5jYWxsKHRoaXMsZSl9LHQuVHJhbnNwb3J0VGltZWxpbmVTaWduYWwucHJvdG90eXBlLnNldFZhbHVlQXRUaW1lPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIGk9dC5UcmFuc3BvcnRUaW1lKGkpLHQuU2lnbmFsLnByb3RvdHlwZS5zZXRWYWx1ZUF0VGltZS5jYWxsKHRoaXMsZSxpKSx0aGlzfSx0LlRyYW5zcG9ydFRpbWVsaW5lU2lnbmFsLnByb3RvdHlwZS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZT1mdW5jdGlvbihlLGkpe3JldHVybiBpPXQuVHJhbnNwb3J0VGltZShpKSx0LlNpZ25hbC5wcm90b3R5cGUubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUuY2FsbCh0aGlzLGUsaSksdGhpc30sdC5UcmFuc3BvcnRUaW1lbGluZVNpZ25hbC5wcm90b3R5cGUuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZT1mdW5jdGlvbihlLGkpe3JldHVybiBpPXQuVHJhbnNwb3J0VGltZShpKSx0LlNpZ25hbC5wcm90b3R5cGUuZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZS5jYWxsKHRoaXMsZSxpKSx0aGlzfSx0LlRyYW5zcG9ydFRpbWVsaW5lU2lnbmFsLnByb3RvdHlwZS5zZXRUYXJnZXRBdFRpbWU9ZnVuY3Rpb24oZSxpLG4pe3JldHVybiBpPXQuVHJhbnNwb3J0VGltZShpKSx0LlNpZ25hbC5wcm90b3R5cGUuc2V0VGFyZ2V0QXRUaW1lLmNhbGwodGhpcyxlLGksbiksdGhpc30sdC5UcmFuc3BvcnRUaW1lbGluZVNpZ25hbC5wcm90b3R5cGUuY2FuY2VsU2NoZWR1bGVkVmFsdWVzPWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuVHJhbnNwb3J0VGltZShlKSx0LlNpZ25hbC5wcm90b3R5cGUuY2FuY2VsU2NoZWR1bGVkVmFsdWVzLmNhbGwodGhpcyxlKSx0aGlzfSx0LlRyYW5zcG9ydFRpbWVsaW5lU2lnbmFsLnByb3RvdHlwZS5zZXRWYWx1ZUN1cnZlQXRUaW1lPWZ1bmN0aW9uKGUsaSxuLG8pe3JldHVybiBpPXQuVHJhbnNwb3J0VGltZShpKSxuPXQuVHJhbnNwb3J0VGltZShuKSx0LlNpZ25hbC5wcm90b3R5cGUuc2V0VmFsdWVDdXJ2ZUF0VGltZS5jYWxsKHRoaXMsZSxpLG4sbyksdGhpc30sdC5UcmFuc3BvcnRUaW1lbGluZVNpZ25hbC5wcm90b3R5cGUuY2FuY2VsQW5kSG9sZEF0VGltZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5TaWduYWwucHJvdG90eXBlLmNhbmNlbEFuZEhvbGRBdFRpbWUuY2FsbCh0aGlzLHQuVHJhbnNwb3J0VGltZShlKSl9LHQuVHJhbnNwb3J0VGltZWxpbmVTaWduYWwucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0LlRyYW5zcG9ydC5jbGVhcih0aGlzLl9zeW5jZWQpLHQuVHJhbnNwb3J0Lm9mZihcInN0YXJ0IHN0b3AgcGF1c2VcIix0aGlzLl9zeW5jZWRDYWxsYmFjayksdGhpcy5fZXZlbnRzLmNhbmNlbCgwKSx0LlNpZ25hbC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX291dHB1dFNpZy5kaXNwb3NlKCksdGhpcy5fb3V0cHV0U2lnPW51bGx9LHQuVHJhbnNwb3J0VGltZWxpbmVTaWduYWx9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjkpLGkoNSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk5vcm1hbGl6ZT1mdW5jdGlvbihlLGkpe3QuU2lnbmFsQmFzZS5jYWxsKHRoaXMpLHRoaXMuX2lucHV0TWluPXQuZGVmYXVsdEFyZyhlLDApLHRoaXMuX2lucHV0TWF4PXQuZGVmYXVsdEFyZyhpLDEpLHRoaXMuX3N1Yj10aGlzLmlucHV0PW5ldyB0LkFkZCgwKSx0aGlzLl9kaXY9dGhpcy5vdXRwdXQ9bmV3IHQuTXVsdGlwbHkoMSksdGhpcy5fc3ViLmNvbm5lY3QodGhpcy5fZGl2KSx0aGlzLl9zZXRSYW5nZSgpfSx0LmV4dGVuZCh0Lk5vcm1hbGl6ZSx0LlNpZ25hbEJhc2UpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk5vcm1hbGl6ZS5wcm90b3R5cGUsXCJtaW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWlufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXRNaW49dCx0aGlzLl9zZXRSYW5nZSgpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk5vcm1hbGl6ZS5wcm90b3R5cGUsXCJtYXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWF4fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXRNYXg9dCx0aGlzLl9zZXRSYW5nZSgpfX0pLHQuTm9ybWFsaXplLnByb3RvdHlwZS5fc2V0UmFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9zdWIudmFsdWU9LXRoaXMuX2lucHV0TWluLHRoaXMuX2Rpdi52YWx1ZT0xLyh0aGlzLl9pbnB1dE1heC10aGlzLl9pbnB1dE1pbil9LHQuTm9ybWFsaXplLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU2lnbmFsQmFzZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3N1Yi5kaXNwb3NlKCksdGhpcy5fc3ViPW51bGwsdGhpcy5fZGl2LmRpc3Bvc2UoKSx0aGlzLl9kaXY9bnVsbCx0aGlzfSx0Lk5vcm1hbGl6ZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg3KSxpKDEpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5HYWluVG9BdWRpbz1mdW5jdGlvbigpe3QuU2lnbmFsQmFzZS5jYWxsKHRoaXMpLHRoaXMuX25vcm09dGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcgdC5XYXZlU2hhcGVyKGZ1bmN0aW9uKHQpe3JldHVybiAyKk1hdGguYWJzKHQpLTF9KX0sdC5leHRlbmQodC5HYWluVG9BdWRpbyx0LlNpZ25hbEJhc2UpLHQuR2FpblRvQXVkaW8ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5TaWduYWxCYXNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbm9ybS5kaXNwb3NlKCksdGhpcy5fbm9ybT1udWxsLHRoaXN9LHQuR2FpblRvQXVkaW99LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXt0LnN1cHBvcnRlZCYmKE9zY2lsbGF0b3JOb2RlLnByb3RvdHlwZS5zZXRQZXJpb2RpY1dhdmV8fChPc2NpbGxhdG9yTm9kZS5wcm90b3R5cGUuc2V0UGVyaW9kaWNXYXZlPU9zY2lsbGF0b3JOb2RlLnByb3RvdHlwZS5zZXRXYXZlVGFibGUpLEF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlUGVyaW9kaWNXYXZlfHwoQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVQZXJpb2RpY1dhdmU9QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVXYXZlVGFibGUpKX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyMSksaSg3OSksaSgzMSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNhbXBsZXI9ZnVuY3Rpb24oZSl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpLnNoaWZ0KCk7dmFyIG49dC5kZWZhdWx0cyhpLFtcIm9ubG9hZFwiLFwiYmFzZVVybFwiXSx0LlNhbXBsZXIpO3QuSW5zdHJ1bWVudC5jYWxsKHRoaXMsbik7dmFyIG89e307Zm9yKHZhciBzIGluIGUpaWYodC5pc05vdGUocykpe29bdC5GcmVxdWVuY3kocykudG9NaWRpKCldPWVbc119ZWxzZXtpZihpc05hTihwYXJzZUZsb2F0KHMpKSl0aHJvdyBuZXcgRXJyb3IoXCJUb25lLlNhbXBsZXI6IHVybCBrZXlzIG11c3QgYmUgdGhlIG5vdGUncyBwaXRjaFwiKTtvW3NdPWVbc119dGhpcy5fYnVmZmVycz1uZXcgdC5CdWZmZXJzKG8sbi5vbmxvYWQsbi5iYXNlVXJsKSx0aGlzLl9hY3RpdmVTb3VyY2VzPXt9LHRoaXMuYXR0YWNrPW4uYXR0YWNrLHRoaXMucmVsZWFzZT1uLnJlbGVhc2UsdGhpcy5jdXJ2ZT1uLmN1cnZlfSx0LmV4dGVuZCh0LlNhbXBsZXIsdC5JbnN0cnVtZW50KSx0LlNhbXBsZXIuZGVmYXVsdHM9e2F0dGFjazowLHJlbGVhc2U6LjEsb25sb2FkOnQubm9PcCxiYXNlVXJsOlwiXCIsY3VydmU6XCJleHBvbmVudGlhbFwifSx0LlNhbXBsZXIucHJvdG90eXBlLl9maW5kQ2xvc2VzdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPDk2Oyl7aWYodGhpcy5fYnVmZmVycy5oYXModCtlKSlyZXR1cm4tZTtpZih0aGlzLl9idWZmZXJzLmhhcyh0LWUpKXJldHVybiBlO2UrK31yZXR1cm4gbnVsbH0sdC5TYW1wbGVyLnByb3RvdHlwZS50cmlnZ2VyQXR0YWNrPWZ1bmN0aW9uKGUsaSxuKXt0aGlzLmxvZyhcInRyaWdnZXJBdHRhY2tcIixlLGksbiksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9dC5GcmVxdWVuY3koZVtvXSkudG9NaWRpKCkscj10aGlzLl9maW5kQ2xvc2VzdChzKTtpZihudWxsIT09cil7dmFyIGE9cy1yLGw9dGhpcy5fYnVmZmVycy5nZXQoYSksaD10LmludGVydmFsVG9GcmVxdWVuY3lSYXRpbyhyKSx1PW5ldyB0LkJ1ZmZlclNvdXJjZSh7YnVmZmVyOmwscGxheWJhY2tSYXRlOmgsZmFkZUluOnRoaXMuYXR0YWNrLGZhZGVPdXQ6dGhpcy5yZWxlYXNlLGN1cnZlOnRoaXMuY3VydmV9KS5jb25uZWN0KHRoaXMub3V0cHV0KTt1LnN0YXJ0KGksMCxsLmR1cmF0aW9uL2gsbiksdC5pc0FycmF5KHRoaXMuX2FjdGl2ZVNvdXJjZXNbc10pfHwodGhpcy5fYWN0aXZlU291cmNlc1tzXT1bXSksdGhpcy5fYWN0aXZlU291cmNlc1tzXS5wdXNoKHUpLHUub25lbmRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX2FjdGl2ZVNvdXJjZXMmJnRoaXMuX2FjdGl2ZVNvdXJjZXNbc10pe3ZhciB0PXRoaXMuX2FjdGl2ZVNvdXJjZXNbc10uaW5kZXhPZih1KTstMSE9PXQmJnRoaXMuX2FjdGl2ZVNvdXJjZXNbc10uc3BsaWNlKHQsMSl9fS5iaW5kKHRoaXMpfX1yZXR1cm4gdGhpc30sdC5TYW1wbGVyLnByb3RvdHlwZS50cmlnZ2VyUmVsZWFzZT1mdW5jdGlvbihlLGkpe3RoaXMubG9nKFwidHJpZ2dlclJlbGVhc2VcIixlLGkpLEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPXQuRnJlcXVlbmN5KGVbbl0pLnRvTWlkaSgpO2lmKHRoaXMuX2FjdGl2ZVNvdXJjZXNbb10mJnRoaXMuX2FjdGl2ZVNvdXJjZXNbb10ubGVuZ3RoKXt2YXIgcz10aGlzLl9hY3RpdmVTb3VyY2VzW29dLnNoaWZ0KCk7aT10aGlzLnRvU2Vjb25kcyhpKSxzLnN0b3AoaSl9fXJldHVybiB0aGlzfSx0LlNhbXBsZXIucHJvdG90eXBlLnJlbGVhc2VBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5fYWN0aXZlU291cmNlcylmb3IodmFyIGk9dGhpcy5fYWN0aXZlU291cmNlc1tlXTtpLmxlbmd0aDspe2kuc2hpZnQoKS5zdG9wKHQpfXJldHVybiB0aGlzfSx0LlNhbXBsZXIucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJBdHRhY2tcIiwxKSx0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlclJlbGVhc2VcIiwxKSx0aGlzfSx0LlNhbXBsZXIucHJvdG90eXBlLnRyaWdnZXJBdHRhY2tSZWxlYXNlPWZ1bmN0aW9uKGUsaSxuLG8pe2lmKG49dGhpcy50b1NlY29uZHMobiksdGhpcy50cmlnZ2VyQXR0YWNrKGUsbixvKSx0LmlzQXJyYXkoaSkmJnQuaXNBcnJheShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIHI9aVtNYXRoLm1pbihzLGkubGVuZ3RoLTEpXTt0aGlzLnRyaWdnZXJSZWxlYXNlKGVbc10sbit0aGlzLnRvU2Vjb25kcyhyKSl9ZWxzZSB0aGlzLnRyaWdnZXJSZWxlYXNlKGUsbit0aGlzLnRvU2Vjb25kcyhpKSk7cmV0dXJuIHRoaXN9LHQuU2FtcGxlci5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsaSxuKXtpZih0LmlzTm90ZShlKSl7dmFyIG89dC5GcmVxdWVuY3koZSkudG9NaWRpKCk7dGhpcy5fYnVmZmVycy5hZGQobyxpLG4pfWVsc2V7aWYoaXNOYU4ocGFyc2VGbG9hdChlKSkpdGhyb3cgbmV3IEVycm9yKFwiVG9uZS5TYW1wbGVyOiBub3RlIG11c3QgYmUgdGhlIG5vdGUncyBwaXRjaC4gSW5zdGVhZCBnb3QgXCIrZSk7dGhpcy5fYnVmZmVycy5hZGQoZSxpLG4pfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuU2FtcGxlci5wcm90b3R5cGUsXCJsb2FkZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnMubG9hZGVkfX0pLHQuU2FtcGxlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0Lkluc3RydW1lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9idWZmZXJzLmRpc3Bvc2UoKSx0aGlzLl9idWZmZXJzPW51bGwsdGhpcy5fYWN0aXZlU291cmNlcyl0aGlzLl9hY3RpdmVTb3VyY2VzW2VdLmZvckVhY2goZnVuY3Rpb24odCl7dC5kaXNwb3NlKCl9KTtyZXR1cm4gdGhpcy5fYWN0aXZlU291cmNlcz1udWxsLHRoaXN9LHQuU2FtcGxlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgzOCksaSg2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUG9seVN5bnRoPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wicG9seXBob255XCIsXCJ2b2ljZVwiXSx0LlBvbHlTeW50aCk7dC5JbnN0cnVtZW50LmNhbGwodGhpcyxlKSwoZT10LmRlZmF1bHRBcmcoZSx0Lkluc3RydW1lbnQuZGVmYXVsdHMpKS5wb2x5cGhvbnk9TWF0aC5taW4odC5Qb2x5U3ludGguTUFYX1BPTFlQSE9OWSxlLnBvbHlwaG9ueSksdGhpcy52b2ljZXM9bmV3IEFycmF5KGUucG9seXBob255KSx0aGlzLmFzc2VydChlLnBvbHlwaG9ueT4wLFwicG9seXBob255IG11c3QgYmUgZ3JlYXRlciB0aGFuIDBcIiksdGhpcy5kZXR1bmU9bmV3IHQuU2lnbmFsKGUuZGV0dW5lLHQuVHlwZS5DZW50cyksdGhpcy5fcmVhZE9ubHkoXCJkZXR1bmVcIik7Zm9yKHZhciBpPTA7aTxlLnBvbHlwaG9ueTtpKyspe3ZhciBuPW5ldyBlLnZvaWNlKGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10pO2lmKCEobiBpbnN0YW5jZW9mIHQuTW9ub3Bob25pYykpdGhyb3cgbmV3IEVycm9yKFwiU3ludGggY29uc3RydWN0b3IgbXVzdCBiZSBpbnN0YW5jZSBvZiBUb25lLk1vbm9waG9uaWNcIik7dGhpcy52b2ljZXNbaV09bixuLmluZGV4PWksbi5jb25uZWN0KHRoaXMub3V0cHV0KSxuLmhhc093blByb3BlcnR5KFwiZGV0dW5lXCIpJiZ0aGlzLmRldHVuZS5jb25uZWN0KG4uZGV0dW5lKX19LHQuZXh0ZW5kKHQuUG9seVN5bnRoLHQuSW5zdHJ1bWVudCksdC5Qb2x5U3ludGguZGVmYXVsdHM9e3BvbHlwaG9ueTo0LHZvbHVtZTowLGRldHVuZTowLHZvaWNlOnQuU3ludGh9LHQuUG9seVN5bnRoLnByb3RvdHlwZS5fZ2V0Q2xvc2VzdFZvaWNlPWZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcy52b2ljZXMuZmluZChmdW5jdGlvbihuKXtpZihNYXRoLmFicyhuLmZyZXF1ZW5jeS5nZXRWYWx1ZUF0VGltZShlKS10LkZyZXF1ZW5jeShpKSk8MWUtNCYmbi5nZXRMZXZlbEF0VGltZShlKT4xZS01KXJldHVybiBufSk7cmV0dXJuIG58fHRoaXMudm9pY2VzLnNsaWNlKCkuc29ydChmdW5jdGlvbih0LGkpe3ZhciBuPXQuZ2V0TGV2ZWxBdFRpbWUoZSt0aGlzLmJsb2NrVGltZSksbz1pLmdldExldmVsQXRUaW1lKGUrdGhpcy5ibG9ja1RpbWUpO3JldHVybiBuPDFlLTUmJihuPTApLG88MWUtNSYmKG89MCksbi1vfS5iaW5kKHRoaXMpKVswXX0sdC5Qb2x5U3ludGgucHJvdG90eXBlLnRyaWdnZXJBdHRhY2s9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLGU9dGhpcy50b1NlY29uZHMoZSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX2dldENsb3Nlc3RWb2ljZShlLHQpO24udHJpZ2dlckF0dGFjayh0LGUsaSksdGhpcy5sb2coXCJ0cmlnZ2VyQXR0YWNrXCIsbi5pbmRleCx0KX0uYmluZCh0aGlzKSksdGhpc30sdC5Qb2x5U3ludGgucHJvdG90eXBlLnRyaWdnZXJSZWxlYXNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksZT10aGlzLnRvU2Vjb25kcyhlKSx0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZ2V0Q2xvc2VzdFZvaWNlKGUsdCk7dGhpcy5sb2coXCJ0cmlnZ2VyUmVsZWFzZVwiLGkuaW5kZXgsdCksaS50cmlnZ2VyUmVsZWFzZShlKX0uYmluZCh0aGlzKSksdGhpc30sdC5Qb2x5U3ludGgucHJvdG90eXBlLnRyaWdnZXJBdHRhY2tSZWxlYXNlPWZ1bmN0aW9uKGUsaSxuLG8pe2lmKG49dGhpcy50b1NlY29uZHMobiksdGhpcy50cmlnZ2VyQXR0YWNrKGUsbixvKSx0LmlzQXJyYXkoaSkmJnQuaXNBcnJheShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIHI9aVtNYXRoLm1pbihzLGkubGVuZ3RoLTEpXTt0aGlzLnRyaWdnZXJSZWxlYXNlKGVbc10sbit0aGlzLnRvU2Vjb25kcyhyKSl9ZWxzZSB0aGlzLnRyaWdnZXJSZWxlYXNlKGUsbit0aGlzLnRvU2Vjb25kcyhpKSk7cmV0dXJuIHRoaXN9LHQuUG9seVN5bnRoLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyQXR0YWNrXCIsMSksdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJSZWxlYXNlXCIsMSksdGhpc30sdC5Qb2x5U3ludGgucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPTA7bjx0aGlzLnZvaWNlcy5sZW5ndGg7bisrKXRoaXMudm9pY2VzW25dLnNldCh0LGUsaSk7cmV0dXJuIHRoaXN9LHQuUG9seVN5bnRoLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudm9pY2VzWzBdLmdldCh0KX0sdC5Qb2x5U3ludGgucHJvdG90eXBlLnJlbGVhc2VBbGw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy52b2ljZXMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnRyaWdnZXJSZWxlYXNlKHQpfSksdGhpc30sdC5Qb2x5U3ludGgucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5JbnN0cnVtZW50LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy52b2ljZXMuZm9yRWFjaChmdW5jdGlvbih0KXt0LmRpc3Bvc2UoKX0pLHRoaXMuX3dyaXRhYmxlKFwiZGV0dW5lXCIpLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzLmRldHVuZT1udWxsLHRoaXMudm9pY2VzPW51bGwsdGhpc30sdC5Qb2x5U3ludGguTUFYX1BPTFlQSE9OWT0yMCx0LlBvbHlTeW50aH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgyMSksaSgzOSksaSg1MyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlBsdWNrU3ludGg9ZnVuY3Rpb24oZSl7ZT10LmRlZmF1bHRBcmcoZSx0LlBsdWNrU3ludGguZGVmYXVsdHMpLHQuSW5zdHJ1bWVudC5jYWxsKHRoaXMsZSksdGhpcy5fbm9pc2U9bmV3IHQuTm9pc2UoXCJwaW5rXCIpLHRoaXMuYXR0YWNrTm9pc2U9ZS5hdHRhY2tOb2lzZSx0aGlzLl9sZmNmPW5ldyB0Lkxvd3Bhc3NDb21iRmlsdGVyKHtyZXNvbmFuY2U6ZS5yZXNvbmFuY2UsZGFtcGVuaW5nOmUuZGFtcGVuaW5nfSksdGhpcy5yZXNvbmFuY2U9dGhpcy5fbGZjZi5yZXNvbmFuY2UsdGhpcy5kYW1wZW5pbmc9dGhpcy5fbGZjZi5kYW1wZW5pbmcsdGhpcy5fbm9pc2UuY29ubmVjdCh0aGlzLl9sZmNmKSx0aGlzLl9sZmNmLmNvbm5lY3QodGhpcy5vdXRwdXQpLHRoaXMuX3JlYWRPbmx5KFtcInJlc29uYW5jZVwiLFwiZGFtcGVuaW5nXCJdKX0sdC5leHRlbmQodC5QbHVja1N5bnRoLHQuSW5zdHJ1bWVudCksdC5QbHVja1N5bnRoLmRlZmF1bHRzPXthdHRhY2tOb2lzZToxLGRhbXBlbmluZzo0ZTMscmVzb25hbmNlOi43fSx0LlBsdWNrU3ludGgucHJvdG90eXBlLnRyaWdnZXJBdHRhY2s9ZnVuY3Rpb24odCxlKXt0PXRoaXMudG9GcmVxdWVuY3kodCksZT10aGlzLnRvU2Vjb25kcyhlKTt2YXIgaT0xL3Q7cmV0dXJuIHRoaXMuX2xmY2YuZGVsYXlUaW1lLnNldFZhbHVlQXRUaW1lKGksZSksdGhpcy5fbm9pc2Uuc3RhcnQoZSksdGhpcy5fbm9pc2Uuc3RvcChlK2kqdGhpcy5hdHRhY2tOb2lzZSksdGhpc30sdC5QbHVja1N5bnRoLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuSW5zdHJ1bWVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX25vaXNlLmRpc3Bvc2UoKSx0aGlzLl9sZmNmLmRpc3Bvc2UoKSx0aGlzLl9ub2lzZT1udWxsLHRoaXMuX2xmY2Y9bnVsbCx0aGlzLl93cml0YWJsZShbXCJyZXNvbmFuY2VcIixcImRhbXBlbmluZ1wiXSksdGhpcy5kYW1wZW5pbmc9bnVsbCx0aGlzLnJlc29uYW5jZT1udWxsLHRoaXN9LHQuUGx1Y2tTeW50aH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgzMCksaSg0MSksaSgzOSksaSgxKSxpKDkpLGkoMjEpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Ob2lzZVN5bnRoPWZ1bmN0aW9uKGUpe2U9dC5kZWZhdWx0QXJnKGUsdC5Ob2lzZVN5bnRoLmRlZmF1bHRzKSx0Lkluc3RydW1lbnQuY2FsbCh0aGlzLGUpLHRoaXMubm9pc2U9bmV3IHQuTm9pc2UoZS5ub2lzZSksdGhpcy5lbnZlbG9wZT1uZXcgdC5BbXBsaXR1ZGVFbnZlbG9wZShlLmVudmVsb3BlKSx0aGlzLm5vaXNlLmNoYWluKHRoaXMuZW52ZWxvcGUsdGhpcy5vdXRwdXQpLHRoaXMuX3JlYWRPbmx5KFtcIm5vaXNlXCIsXCJlbnZlbG9wZVwiXSl9LHQuZXh0ZW5kKHQuTm9pc2VTeW50aCx0Lkluc3RydW1lbnQpLHQuTm9pc2VTeW50aC5kZWZhdWx0cz17bm9pc2U6e3R5cGU6XCJ3aGl0ZVwifSxlbnZlbG9wZTp7YXR0YWNrOi4wMDUsZGVjYXk6LjEsc3VzdGFpbjowfX0sdC5Ob2lzZVN5bnRoLnByb3RvdHlwZS50cmlnZ2VyQXR0YWNrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5lbnZlbG9wZS50cmlnZ2VyQXR0YWNrKHQsZSksdGhpcy5ub2lzZS5zdGFydCh0KSwwPT09dGhpcy5lbnZlbG9wZS5zdXN0YWluJiZ0aGlzLm5vaXNlLnN0b3AodCt0aGlzLmVudmVsb3BlLmF0dGFjayt0aGlzLmVudmVsb3BlLmRlY2F5KSx0aGlzfSx0Lk5vaXNlU3ludGgucHJvdG90eXBlLnRyaWdnZXJSZWxlYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVudmVsb3BlLnRyaWdnZXJSZWxlYXNlKHQpLHRoaXMubm9pc2Uuc3RvcCh0K3RoaXMuZW52ZWxvcGUucmVsZWFzZSksdGhpc30sdC5Ob2lzZVN5bnRoLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyQXR0YWNrXCIsMCksdGhpcy5fc3luY01ldGhvZChcInRyaWdnZXJSZWxlYXNlXCIsMCksdGhpc30sdC5Ob2lzZVN5bnRoLnByb3RvdHlwZS50cmlnZ2VyQXR0YWNrUmVsZWFzZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGU9dGhpcy50b1NlY29uZHMoZSksdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLnRyaWdnZXJBdHRhY2soZSxpKSx0aGlzLnRyaWdnZXJSZWxlYXNlKGUrdCksdGhpc30sdC5Ob2lzZVN5bnRoLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuSW5zdHJ1bWVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcIm5vaXNlXCIsXCJlbnZlbG9wZVwiXSksdGhpcy5ub2lzZS5kaXNwb3NlKCksdGhpcy5ub2lzZT1udWxsLHRoaXMuZW52ZWxvcGUuZGlzcG9zZSgpLHRoaXMuZW52ZWxvcGU9bnVsbCx0aGlzfSx0Lk5vaXNlU3ludGh9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjEpLGkoNDgpLGkoOSksaSg0MSksaSgzMCksaSgzKSxpKDI2KSxpKDUpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXt2YXIgZT1bMSwxLjQ4MywxLjkzMiwyLjU0NiwyLjYzLDMuODk3XTtyZXR1cm4gdC5NZXRhbFN5bnRoPWZ1bmN0aW9uKGkpe2k9dC5kZWZhdWx0QXJnKGksdC5NZXRhbFN5bnRoLmRlZmF1bHRzKSx0Lkluc3RydW1lbnQuY2FsbCh0aGlzLGkpLHRoaXMuZnJlcXVlbmN5PW5ldyB0LlNpZ25hbChpLmZyZXF1ZW5jeSx0LlR5cGUuRnJlcXVlbmN5KSx0aGlzLl9vc2NpbGxhdG9ycz1bXSx0aGlzLl9mcmVxTXVsdGlwbGllcnM9W10sdGhpcy5fYW1wbGl0dWU9bmV3IHQuR2FpbigwKS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9oaWdocGFzcz1uZXcgdC5GaWx0ZXIoe3R5cGU6XCJoaWdocGFzc1wiLFE6LTMuMDEwMjk5OTU2NjM5ODEyNX0pLmNvbm5lY3QodGhpcy5fYW1wbGl0dWUpLHRoaXMuX29jdGF2ZXM9aS5vY3RhdmVzLHRoaXMuX2ZpbHRlckZyZXFTY2FsZXI9bmV3IHQuU2NhbGUoaS5yZXNvbmFuY2UsN2UzKSx0aGlzLmVudmVsb3BlPW5ldyB0LkVudmVsb3BlKHthdHRhY2s6aS5lbnZlbG9wZS5hdHRhY2ssYXR0YWNrQ3VydmU6XCJsaW5lYXJcIixkZWNheTppLmVudmVsb3BlLmRlY2F5LHN1c3RhaW46MCxyZWxlYXNlOmkuZW52ZWxvcGUucmVsZWFzZX0pLmNoYWluKHRoaXMuX2ZpbHRlckZyZXFTY2FsZXIsdGhpcy5faGlnaHBhc3MuZnJlcXVlbmN5KSx0aGlzLmVudmVsb3BlLmNvbm5lY3QodGhpcy5fYW1wbGl0dWUuZ2Fpbik7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPW5ldyB0LkZNT3NjaWxsYXRvcih7dHlwZTpcInNxdWFyZVwiLG1vZHVsYXRpb25UeXBlOlwic3F1YXJlXCIsaGFybW9uaWNpdHk6aS5oYXJtb25pY2l0eSxtb2R1bGF0aW9uSW5kZXg6aS5tb2R1bGF0aW9uSW5kZXh9KTtvLmNvbm5lY3QodGhpcy5faGlnaHBhc3MpLHRoaXMuX29zY2lsbGF0b3JzW25dPW87dmFyIHM9bmV3IHQuTXVsdGlwbHkoZVtuXSk7dGhpcy5fZnJlcU11bHRpcGxpZXJzW25dPXMsdGhpcy5mcmVxdWVuY3kuY2hhaW4ocyxvLmZyZXF1ZW5jeSl9dGhpcy5vY3RhdmVzPWkub2N0YXZlc30sdC5leHRlbmQodC5NZXRhbFN5bnRoLHQuSW5zdHJ1bWVudCksdC5NZXRhbFN5bnRoLmRlZmF1bHRzPXtmcmVxdWVuY3k6MjAwLGVudmVsb3BlOnthdHRhY2s6LjAwMSxkZWNheToxLjQscmVsZWFzZTouMn0saGFybW9uaWNpdHk6NS4xLG1vZHVsYXRpb25JbmRleDozMixyZXNvbmFuY2U6NGUzLG9jdGF2ZXM6MS41fSx0Lk1ldGFsU3ludGgucHJvdG90eXBlLnRyaWdnZXJBdHRhY2s9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT10aGlzLnRvU2Vjb25kcyhlKSxpPXQuZGVmYXVsdEFyZyhpLDEpLHRoaXMuZW52ZWxvcGUudHJpZ2dlckF0dGFjayhlLGkpLHRoaXMuX29zY2lsbGF0b3JzLmZvckVhY2goZnVuY3Rpb24odCl7dC5zdGFydChlKX0pLDA9PT10aGlzLmVudmVsb3BlLnN1c3RhaW4mJnRoaXMuX29zY2lsbGF0b3JzLmZvckVhY2goZnVuY3Rpb24odCl7dC5zdG9wKGUrdGhpcy5lbnZlbG9wZS5hdHRhY2srdGhpcy5lbnZlbG9wZS5kZWNheSl9LmJpbmQodGhpcykpLHRoaXN9LHQuTWV0YWxTeW50aC5wcm90b3R5cGUudHJpZ2dlclJlbGVhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy5lbnZlbG9wZS50cmlnZ2VyUmVsZWFzZSh0KSx0aGlzLl9vc2NpbGxhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RvcCh0K3RoaXMuZW52ZWxvcGUucmVsZWFzZSl9LmJpbmQodGhpcykpLHRoaXN9LHQuTWV0YWxTeW50aC5wcm90b3R5cGUuc3luYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jTWV0aG9kKFwidHJpZ2dlckF0dGFja1wiLDApLHRoaXMuX3N5bmNNZXRob2QoXCJ0cmlnZ2VyUmVsZWFzZVwiLDApLHRoaXN9LHQuTWV0YWxTeW50aC5wcm90b3R5cGUudHJpZ2dlckF0dGFja1JlbGVhc2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlPXRoaXMudG9TZWNvbmRzKGUpLHQ9dGhpcy50b1NlY29uZHModCksdGhpcy50cmlnZ2VyQXR0YWNrKGUsaSksdGhpcy50cmlnZ2VyUmVsZWFzZShlK3QpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk1ldGFsU3ludGgucHJvdG90eXBlLFwibW9kdWxhdGlvbkluZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vc2NpbGxhdG9yc1swXS5tb2R1bGF0aW9uSW5kZXgudmFsdWV9LHNldDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aDtlKyspdGhpcy5fb3NjaWxsYXRvcnNbZV0ubW9kdWxhdGlvbkluZGV4LnZhbHVlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTWV0YWxTeW50aC5wcm90b3R5cGUsXCJoYXJtb25pY2l0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3NjaWxsYXRvcnNbMF0uaGFybW9uaWNpdHkudmFsdWV9LHNldDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX29zY2lsbGF0b3JzLmxlbmd0aDtlKyspdGhpcy5fb3NjaWxsYXRvcnNbZV0uaGFybW9uaWNpdHkudmFsdWU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5NZXRhbFN5bnRoLnByb3RvdHlwZSxcInJlc29uYW5jZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsdGVyRnJlcVNjYWxlci5taW59LHNldDpmdW5jdGlvbih0KXt0aGlzLl9maWx0ZXJGcmVxU2NhbGVyLm1pbj10LHRoaXMub2N0YXZlcz10aGlzLl9vY3RhdmVzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lk1ldGFsU3ludGgucHJvdG90eXBlLFwib2N0YXZlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2N0YXZlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29jdGF2ZXM9dCx0aGlzLl9maWx0ZXJGcmVxU2NhbGVyLm1heD10aGlzLl9maWx0ZXJGcmVxU2NhbGVyLm1pbipNYXRoLnBvdygyLHQpfX0pLHQuTWV0YWxTeW50aC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QuSW5zdHJ1bWVudC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO2Zvcih2YXIgZT0wO2U8dGhpcy5fb3NjaWxsYXRvcnMubGVuZ3RoO2UrKyl0aGlzLl9vc2NpbGxhdG9yc1tlXS5kaXNwb3NlKCksdGhpcy5fZnJlcU11bHRpcGxpZXJzW2VdLmRpc3Bvc2UoKTt0aGlzLl9vc2NpbGxhdG9ycz1udWxsLHRoaXMuX2ZyZXFNdWx0aXBsaWVycz1udWxsLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuX2ZpbHRlckZyZXFTY2FsZXIuZGlzcG9zZSgpLHRoaXMuX2ZpbHRlckZyZXFTY2FsZXI9bnVsbCx0aGlzLl9hbXBsaXR1ZS5kaXNwb3NlKCksdGhpcy5fYW1wbGl0dWU9bnVsbCx0aGlzLmVudmVsb3BlLmRpc3Bvc2UoKSx0aGlzLmVudmVsb3BlPW51bGwsdGhpcy5faGlnaHBhc3MuZGlzcG9zZSgpLHRoaXMuX2hpZ2hwYXNzPW51bGx9LHQuTWV0YWxTeW50aH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgzNyksaSgyMSksaSgzMCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk1lbWJyYW5lU3ludGg9ZnVuY3Rpb24oZSl7ZT10LmRlZmF1bHRBcmcoZSx0Lk1lbWJyYW5lU3ludGguZGVmYXVsdHMpLHQuSW5zdHJ1bWVudC5jYWxsKHRoaXMsZSksdGhpcy5vc2NpbGxhdG9yPW5ldyB0Lk9tbmlPc2NpbGxhdG9yKGUub3NjaWxsYXRvciksdGhpcy5lbnZlbG9wZT1uZXcgdC5BbXBsaXR1ZGVFbnZlbG9wZShlLmVudmVsb3BlKSx0aGlzLm9jdGF2ZXM9ZS5vY3RhdmVzLHRoaXMucGl0Y2hEZWNheT1lLnBpdGNoRGVjYXksdGhpcy5vc2NpbGxhdG9yLmNoYWluKHRoaXMuZW52ZWxvcGUsdGhpcy5vdXRwdXQpLHRoaXMuX3JlYWRPbmx5KFtcIm9zY2lsbGF0b3JcIixcImVudmVsb3BlXCJdKX0sdC5leHRlbmQodC5NZW1icmFuZVN5bnRoLHQuSW5zdHJ1bWVudCksdC5NZW1icmFuZVN5bnRoLmRlZmF1bHRzPXtwaXRjaERlY2F5Oi4wNSxvY3RhdmVzOjEwLG9zY2lsbGF0b3I6e3R5cGU6XCJzaW5lXCJ9LGVudmVsb3BlOnthdHRhY2s6LjAwMSxkZWNheTouNCxzdXN0YWluOi4wMSxyZWxlYXNlOjEuNCxhdHRhY2tDdXJ2ZTpcImV4cG9uZW50aWFsXCJ9fSx0Lk1lbWJyYW5lU3ludGgucHJvdG90eXBlLnRyaWdnZXJBdHRhY2s9ZnVuY3Rpb24odCxlLGkpe2U9dGhpcy50b1NlY29uZHMoZSk7dmFyIG49KHQ9dGhpcy50b0ZyZXF1ZW5jeSh0KSkqdGhpcy5vY3RhdmVzO3JldHVybiB0aGlzLm9zY2lsbGF0b3IuZnJlcXVlbmN5LnNldFZhbHVlQXRUaW1lKG4sZSksdGhpcy5vc2NpbGxhdG9yLmZyZXF1ZW5jeS5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKHQsZSt0aGlzLnRvU2Vjb25kcyh0aGlzLnBpdGNoRGVjYXkpKSx0aGlzLmVudmVsb3BlLnRyaWdnZXJBdHRhY2soZSxpKSx0aGlzLm9zY2lsbGF0b3Iuc3RhcnQoZSksMD09PXRoaXMuZW52ZWxvcGUuc3VzdGFpbiYmdGhpcy5vc2NpbGxhdG9yLnN0b3AoZSt0aGlzLmVudmVsb3BlLmF0dGFjayt0aGlzLmVudmVsb3BlLmRlY2F5KSx0aGlzfSx0Lk1lbWJyYW5lU3ludGgucHJvdG90eXBlLnRyaWdnZXJSZWxlYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuZW52ZWxvcGUudHJpZ2dlclJlbGVhc2UodCksdGhpcy5vc2NpbGxhdG9yLnN0b3AodCt0aGlzLmVudmVsb3BlLnJlbGVhc2UpLHRoaXN9LHQuTWVtYnJhbmVTeW50aC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0Lkluc3RydW1lbnQucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJvc2NpbGxhdG9yXCIsXCJlbnZlbG9wZVwiXSksdGhpcy5vc2NpbGxhdG9yLmRpc3Bvc2UoKSx0aGlzLm9zY2lsbGF0b3I9bnVsbCx0aGlzLmVudmVsb3BlLmRpc3Bvc2UoKSx0aGlzLmVudmVsb3BlPW51bGwsdGhpc30sdC5NZW1icmFuZVN5bnRofS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDM4KSxpKDEpLGkoNSksaSgyNSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZNU3ludGg9ZnVuY3Rpb24oZSl7ZT10LmRlZmF1bHRBcmcoZSx0LkZNU3ludGguZGVmYXVsdHMpLHQuTW9ub3Bob25pYy5jYWxsKHRoaXMsZSksdGhpcy5fY2Fycmllcj1uZXcgdC5TeW50aChlLmNhcnJpZXIpLHRoaXMuX2NhcnJpZXIudm9sdW1lLnZhbHVlPS0xMCx0aGlzLm9zY2lsbGF0b3I9dGhpcy5fY2Fycmllci5vc2NpbGxhdG9yLHRoaXMuZW52ZWxvcGU9dGhpcy5fY2Fycmllci5lbnZlbG9wZS5zZXQoZS5lbnZlbG9wZSksdGhpcy5fbW9kdWxhdG9yPW5ldyB0LlN5bnRoKGUubW9kdWxhdG9yKSx0aGlzLl9tb2R1bGF0b3Iudm9sdW1lLnZhbHVlPS0xMCx0aGlzLm1vZHVsYXRpb249dGhpcy5fbW9kdWxhdG9yLm9zY2lsbGF0b3Iuc2V0KGUubW9kdWxhdGlvbiksdGhpcy5tb2R1bGF0aW9uRW52ZWxvcGU9dGhpcy5fbW9kdWxhdG9yLmVudmVsb3BlLnNldChlLm1vZHVsYXRpb25FbnZlbG9wZSksdGhpcy5mcmVxdWVuY3k9bmV3IHQuU2lnbmFsKDQ0MCx0LlR5cGUuRnJlcXVlbmN5KSx0aGlzLmRldHVuZT1uZXcgdC5TaWduYWwoZS5kZXR1bmUsdC5UeXBlLkNlbnRzKSx0aGlzLmhhcm1vbmljaXR5PW5ldyB0Lk11bHRpcGx5KGUuaGFybW9uaWNpdHkpLHRoaXMuaGFybW9uaWNpdHkudW5pdHM9dC5UeXBlLlBvc2l0aXZlLHRoaXMubW9kdWxhdGlvbkluZGV4PW5ldyB0Lk11bHRpcGx5KGUubW9kdWxhdGlvbkluZGV4KSx0aGlzLm1vZHVsYXRpb25JbmRleC51bml0cz10LlR5cGUuUG9zaXRpdmUsdGhpcy5fbW9kdWxhdGlvbk5vZGU9bmV3IHQuR2FpbigwKSx0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5KSx0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLmhhcm1vbmljaXR5LHRoaXMuX21vZHVsYXRvci5mcmVxdWVuY3kpLHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMubW9kdWxhdGlvbkluZGV4LHRoaXMuX21vZHVsYXRpb25Ob2RlKSx0aGlzLmRldHVuZS5mYW4odGhpcy5fY2Fycmllci5kZXR1bmUsdGhpcy5fbW9kdWxhdG9yLmRldHVuZSksdGhpcy5fbW9kdWxhdG9yLmNvbm5lY3QodGhpcy5fbW9kdWxhdGlvbk5vZGUuZ2FpbiksdGhpcy5fbW9kdWxhdGlvbk5vZGUuY29ubmVjdCh0aGlzLl9jYXJyaWVyLmZyZXF1ZW5jeSksdGhpcy5fY2Fycmllci5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9yZWFkT25seShbXCJmcmVxdWVuY3lcIixcImhhcm1vbmljaXR5XCIsXCJtb2R1bGF0aW9uSW5kZXhcIixcIm9zY2lsbGF0b3JcIixcImVudmVsb3BlXCIsXCJtb2R1bGF0aW9uXCIsXCJtb2R1bGF0aW9uRW52ZWxvcGVcIixcImRldHVuZVwiXSl9LHQuZXh0ZW5kKHQuRk1TeW50aCx0Lk1vbm9waG9uaWMpLHQuRk1TeW50aC5kZWZhdWx0cz17aGFybW9uaWNpdHk6Myxtb2R1bGF0aW9uSW5kZXg6MTAsZGV0dW5lOjAsb3NjaWxsYXRvcjp7dHlwZTpcInNpbmVcIn0sZW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6LjAxLHN1c3RhaW46MSxyZWxlYXNlOi41fSxtb2R1bGF0aW9uOnt0eXBlOlwic3F1YXJlXCJ9LG1vZHVsYXRpb25FbnZlbG9wZTp7YXR0YWNrOi41LGRlY2F5OjAsc3VzdGFpbjoxLHJlbGVhc2U6LjV9fSx0LkZNU3ludGgucHJvdG90eXBlLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10aGlzLnRvU2Vjb25kcyh0KSx0aGlzLl9jYXJyaWVyLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2sodCxlKSx0aGlzLl9tb2R1bGF0b3IuX3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0KSx0aGlzfSx0LkZNU3ludGgucHJvdG90eXBlLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX2NhcnJpZXIuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpcy5fbW9kdWxhdG9yLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlKHQpLHRoaXN9LHQuRk1TeW50aC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0Lk1vbm9waG9uaWMucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJmcmVxdWVuY3lcIixcImhhcm1vbmljaXR5XCIsXCJtb2R1bGF0aW9uSW5kZXhcIixcIm9zY2lsbGF0b3JcIixcImVudmVsb3BlXCIsXCJtb2R1bGF0aW9uXCIsXCJtb2R1bGF0aW9uRW52ZWxvcGVcIixcImRldHVuZVwiXSksdGhpcy5fY2Fycmllci5kaXNwb3NlKCksdGhpcy5fY2Fycmllcj1udWxsLHRoaXMuX21vZHVsYXRvci5kaXNwb3NlKCksdGhpcy5fbW9kdWxhdG9yPW51bGwsdGhpcy5mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuZnJlcXVlbmN5PW51bGwsdGhpcy5kZXR1bmUuZGlzcG9zZSgpLHRoaXMuZGV0dW5lPW51bGwsdGhpcy5tb2R1bGF0aW9uSW5kZXguZGlzcG9zZSgpLHRoaXMubW9kdWxhdGlvbkluZGV4PW51bGwsdGhpcy5oYXJtb25pY2l0eS5kaXNwb3NlKCksdGhpcy5oYXJtb25pY2l0eT1udWxsLHRoaXMuX21vZHVsYXRpb25Ob2RlLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0aW9uTm9kZT1udWxsLHRoaXMub3NjaWxsYXRvcj1udWxsLHRoaXMuZW52ZWxvcGU9bnVsbCx0aGlzLm1vZHVsYXRpb25FbnZlbG9wZT1udWxsLHRoaXMubW9kdWxhdGlvbj1udWxsLHRoaXN9LHQuRk1TeW50aH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg2OCksaSgxMiksaSgxKSxpKDUpLGkoMjUpLGkoMTQpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5EdW9TeW50aD1mdW5jdGlvbihlKXtlPXQuZGVmYXVsdEFyZyhlLHQuRHVvU3ludGguZGVmYXVsdHMpLHQuTW9ub3Bob25pYy5jYWxsKHRoaXMsZSksdGhpcy52b2ljZTA9bmV3IHQuTW9ub1N5bnRoKGUudm9pY2UwKSx0aGlzLnZvaWNlMC52b2x1bWUudmFsdWU9LTEwLHRoaXMudm9pY2UxPW5ldyB0Lk1vbm9TeW50aChlLnZvaWNlMSksdGhpcy52b2ljZTEudm9sdW1lLnZhbHVlPS0xMCx0aGlzLl92aWJyYXRvPW5ldyB0LkxGTyhlLnZpYnJhdG9SYXRlLC01MCw1MCksdGhpcy5fdmlicmF0by5zdGFydCgpLHRoaXMudmlicmF0b1JhdGU9dGhpcy5fdmlicmF0by5mcmVxdWVuY3ksdGhpcy5fdmlicmF0b0dhaW49bmV3IHQuR2FpbihlLnZpYnJhdG9BbW91bnQsdC5UeXBlLlBvc2l0aXZlKSx0aGlzLnZpYnJhdG9BbW91bnQ9dGhpcy5fdmlicmF0b0dhaW4uZ2Fpbix0aGlzLmZyZXF1ZW5jeT1uZXcgdC5TaWduYWwoNDQwLHQuVHlwZS5GcmVxdWVuY3kpLHRoaXMuaGFybW9uaWNpdHk9bmV3IHQuTXVsdGlwbHkoZS5oYXJtb25pY2l0eSksdGhpcy5oYXJtb25pY2l0eS51bml0cz10LlR5cGUuUG9zaXRpdmUsdGhpcy5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLnZvaWNlMC5mcmVxdWVuY3kpLHRoaXMuZnJlcXVlbmN5LmNoYWluKHRoaXMuaGFybW9uaWNpdHksdGhpcy52b2ljZTEuZnJlcXVlbmN5KSx0aGlzLl92aWJyYXRvLmNvbm5lY3QodGhpcy5fdmlicmF0b0dhaW4pLHRoaXMuX3ZpYnJhdG9HYWluLmZhbih0aGlzLnZvaWNlMC5kZXR1bmUsdGhpcy52b2ljZTEuZGV0dW5lKSx0aGlzLnZvaWNlMC5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLnZvaWNlMS5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLl9yZWFkT25seShbXCJ2b2ljZTBcIixcInZvaWNlMVwiLFwiZnJlcXVlbmN5XCIsXCJ2aWJyYXRvQW1vdW50XCIsXCJ2aWJyYXRvUmF0ZVwiXSl9LHQuZXh0ZW5kKHQuRHVvU3ludGgsdC5Nb25vcGhvbmljKSx0LkR1b1N5bnRoLmRlZmF1bHRzPXt2aWJyYXRvQW1vdW50Oi41LHZpYnJhdG9SYXRlOjUsaGFybW9uaWNpdHk6MS41LHZvaWNlMDp7dm9sdW1lOi0xMCxwb3J0YW1lbnRvOjAsb3NjaWxsYXRvcjp7dHlwZTpcInNpbmVcIn0sZmlsdGVyRW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX0sZW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX19LHZvaWNlMTp7dm9sdW1lOi0xMCxwb3J0YW1lbnRvOjAsb3NjaWxsYXRvcjp7dHlwZTpcInNpbmVcIn0sZmlsdGVyRW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX0sZW52ZWxvcGU6e2F0dGFjazouMDEsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX19fSx0LkR1b1N5bnRoLnByb3RvdHlwZS5fdHJpZ2dlckVudmVsb3BlQXR0YWNrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dGhpcy50b1NlY29uZHModCksdGhpcy52b2ljZTAuX3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0LGUpLHRoaXMudm9pY2UxLl90cmlnZ2VyRW52ZWxvcGVBdHRhY2sodCxlKSx0aGlzfSx0LkR1b1N5bnRoLnByb3RvdHlwZS5fdHJpZ2dlckVudmVsb3BlUmVsZWFzZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52b2ljZTAuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpcy52b2ljZTEuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpc30sdC5EdW9TeW50aC5wcm90b3R5cGUuZ2V0TGV2ZWxBdFRpbWU9ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMudm9pY2UwLmdldExldmVsQXRUaW1lKHQpK3RoaXMudm9pY2UxLmdldExldmVsQXRUaW1lKHQpKS8yfSx0LkR1b1N5bnRoLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTW9ub3Bob25pYy5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcInZvaWNlMFwiLFwidm9pY2UxXCIsXCJmcmVxdWVuY3lcIixcInZpYnJhdG9BbW91bnRcIixcInZpYnJhdG9SYXRlXCJdKSx0aGlzLnZvaWNlMC5kaXNwb3NlKCksdGhpcy52b2ljZTA9bnVsbCx0aGlzLnZvaWNlMS5kaXNwb3NlKCksdGhpcy52b2ljZTE9bnVsbCx0aGlzLmZyZXF1ZW5jeS5kaXNwb3NlKCksdGhpcy5mcmVxdWVuY3k9bnVsbCx0aGlzLl92aWJyYXRvR2Fpbi5kaXNwb3NlKCksdGhpcy5fdmlicmF0b0dhaW49bnVsbCx0aGlzLl92aWJyYXRvPW51bGwsdGhpcy5oYXJtb25pY2l0eS5kaXNwb3NlKCksdGhpcy5oYXJtb25pY2l0eT1udWxsLHRoaXMudmlicmF0b0Ftb3VudC5kaXNwb3NlKCksdGhpcy52aWJyYXRvQW1vdW50PW51bGwsdGhpcy52aWJyYXRvUmF0ZT1udWxsLHRoaXN9LHQuRHVvU3ludGh9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMzgpLGkoMSksaSg1KSxpKDI1KSxpKDIyKSxpKDMpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5BTVN5bnRoPWZ1bmN0aW9uKGUpe2U9dC5kZWZhdWx0QXJnKGUsdC5BTVN5bnRoLmRlZmF1bHRzKSx0Lk1vbm9waG9uaWMuY2FsbCh0aGlzLGUpLHRoaXMuX2NhcnJpZXI9bmV3IHQuU3ludGgsdGhpcy5fY2Fycmllci52b2x1bWUudmFsdWU9LTEwLHRoaXMub3NjaWxsYXRvcj10aGlzLl9jYXJyaWVyLm9zY2lsbGF0b3Iuc2V0KGUub3NjaWxsYXRvciksdGhpcy5lbnZlbG9wZT10aGlzLl9jYXJyaWVyLmVudmVsb3BlLnNldChlLmVudmVsb3BlKSx0aGlzLl9tb2R1bGF0b3I9bmV3IHQuU3ludGgsdGhpcy5fbW9kdWxhdG9yLnZvbHVtZS52YWx1ZT0tMTAsdGhpcy5tb2R1bGF0aW9uPXRoaXMuX21vZHVsYXRvci5vc2NpbGxhdG9yLnNldChlLm1vZHVsYXRpb24pLHRoaXMubW9kdWxhdGlvbkVudmVsb3BlPXRoaXMuX21vZHVsYXRvci5lbnZlbG9wZS5zZXQoZS5tb2R1bGF0aW9uRW52ZWxvcGUpLHRoaXMuZnJlcXVlbmN5PW5ldyB0LlNpZ25hbCg0NDAsdC5UeXBlLkZyZXF1ZW5jeSksdGhpcy5kZXR1bmU9bmV3IHQuU2lnbmFsKGUuZGV0dW5lLHQuVHlwZS5DZW50cyksdGhpcy5oYXJtb25pY2l0eT1uZXcgdC5NdWx0aXBseShlLmhhcm1vbmljaXR5KSx0aGlzLmhhcm1vbmljaXR5LnVuaXRzPXQuVHlwZS5Qb3NpdGl2ZSx0aGlzLl9tb2R1bGF0aW9uU2NhbGU9bmV3IHQuQXVkaW9Ub0dhaW4sdGhpcy5fbW9kdWxhdGlvbk5vZGU9bmV3IHQuR2Fpbix0aGlzLmZyZXF1ZW5jeS5jb25uZWN0KHRoaXMuX2NhcnJpZXIuZnJlcXVlbmN5KSx0aGlzLmZyZXF1ZW5jeS5jaGFpbih0aGlzLmhhcm1vbmljaXR5LHRoaXMuX21vZHVsYXRvci5mcmVxdWVuY3kpLHRoaXMuZGV0dW5lLmZhbih0aGlzLl9jYXJyaWVyLmRldHVuZSx0aGlzLl9tb2R1bGF0b3IuZGV0dW5lKSx0aGlzLl9tb2R1bGF0b3IuY2hhaW4odGhpcy5fbW9kdWxhdGlvblNjYWxlLHRoaXMuX21vZHVsYXRpb25Ob2RlLmdhaW4pLHRoaXMuX2NhcnJpZXIuY2hhaW4odGhpcy5fbW9kdWxhdGlvbk5vZGUsdGhpcy5vdXRwdXQpLHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiLFwiaGFybW9uaWNpdHlcIixcIm9zY2lsbGF0b3JcIixcImVudmVsb3BlXCIsXCJtb2R1bGF0aW9uXCIsXCJtb2R1bGF0aW9uRW52ZWxvcGVcIixcImRldHVuZVwiXSl9LHQuZXh0ZW5kKHQuQU1TeW50aCx0Lk1vbm9waG9uaWMpLHQuQU1TeW50aC5kZWZhdWx0cz17aGFybW9uaWNpdHk6MyxkZXR1bmU6MCxvc2NpbGxhdG9yOnt0eXBlOlwic2luZVwifSxlbnZlbG9wZTp7YXR0YWNrOi4wMSxkZWNheTouMDEsc3VzdGFpbjoxLHJlbGVhc2U6LjV9LG1vZHVsYXRpb246e3R5cGU6XCJzcXVhcmVcIn0sbW9kdWxhdGlvbkVudmVsb3BlOnthdHRhY2s6LjUsZGVjYXk6MCxzdXN0YWluOjEscmVsZWFzZTouNX19LHQuQU1TeW50aC5wcm90b3R5cGUuX3RyaWdnZXJFbnZlbG9wZUF0dGFjaz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXRoaXMudG9TZWNvbmRzKHQpLHRoaXMuX2NhcnJpZXIuX3RyaWdnZXJFbnZlbG9wZUF0dGFjayh0LGUpLHRoaXMuX21vZHVsYXRvci5fdHJpZ2dlckVudmVsb3BlQXR0YWNrKHQpLHRoaXN9LHQuQU1TeW50aC5wcm90b3R5cGUuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhcnJpZXIuX3RyaWdnZXJFbnZlbG9wZVJlbGVhc2UodCksdGhpcy5fbW9kdWxhdG9yLl90cmlnZ2VyRW52ZWxvcGVSZWxlYXNlKHQpLHRoaXN9LHQuQU1TeW50aC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0Lk1vbm9waG9uaWMucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJmcmVxdWVuY3lcIixcImhhcm1vbmljaXR5XCIsXCJvc2NpbGxhdG9yXCIsXCJlbnZlbG9wZVwiLFwibW9kdWxhdGlvblwiLFwibW9kdWxhdGlvbkVudmVsb3BlXCIsXCJkZXR1bmVcIl0pLHRoaXMuX2NhcnJpZXIuZGlzcG9zZSgpLHRoaXMuX2NhcnJpZXI9bnVsbCx0aGlzLl9tb2R1bGF0b3IuZGlzcG9zZSgpLHRoaXMuX21vZHVsYXRvcj1udWxsLHRoaXMuZnJlcXVlbmN5LmRpc3Bvc2UoKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGV0dW5lLmRpc3Bvc2UoKSx0aGlzLmRldHVuZT1udWxsLHRoaXMuaGFybW9uaWNpdHkuZGlzcG9zZSgpLHRoaXMuaGFybW9uaWNpdHk9bnVsbCx0aGlzLl9tb2R1bGF0aW9uU2NhbGUuZGlzcG9zZSgpLHRoaXMuX21vZHVsYXRpb25TY2FsZT1udWxsLHRoaXMuX21vZHVsYXRpb25Ob2RlLmRpc3Bvc2UoKSx0aGlzLl9tb2R1bGF0aW9uTm9kZT1udWxsLHRoaXMub3NjaWxsYXRvcj1udWxsLHRoaXMuZW52ZWxvcGU9bnVsbCx0aGlzLm1vZHVsYXRpb25FbnZlbG9wZT1udWxsLHRoaXMubW9kdWxhdGlvbj1udWxsLHRoaXN9LHQuQU1TeW50aH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg3MiksaSgxNildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlNlcXVlbmNlPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcImV2ZW50c1wiLFwic3ViZGl2aXNpb25cIl0sdC5TZXF1ZW5jZSksaT1lLmV2ZW50cztpZihkZWxldGUgZS5ldmVudHMsdC5QYXJ0LmNhbGwodGhpcyxlKSx0aGlzLl9zdWJkaXZpc2lvbj10aGlzLnRvVGlja3MoZS5zdWJkaXZpc2lvbiksdC5pc1VuZGVmKGUubG9vcEVuZCkmJnQuaXNEZWZpbmVkKGkpJiYodGhpcy5fbG9vcEVuZD1pLmxlbmd0aCp0aGlzLl9zdWJkaXZpc2lvbiksdGhpcy5fbG9vcD0hMCx0LmlzRGVmaW5lZChpKSlmb3IodmFyIG49MDtuPGkubGVuZ3RoO24rKyl0aGlzLmFkZChuLGlbbl0pfSx0LmV4dGVuZCh0LlNlcXVlbmNlLHQuUGFydCksdC5TZXF1ZW5jZS5kZWZhdWx0cz17c3ViZGl2aXNpb246XCI0blwifSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5TZXF1ZW5jZS5wcm90b3R5cGUsXCJzdWJkaXZpc2lvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5UaWNrcyh0aGlzLl9zdWJkaXZpc2lvbikudG9TZWNvbmRzKCl9fSksdC5TZXF1ZW5jZS5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5pc0FycmF5KGkpJiZ0aGlzLnJlbW92ZShlKSx0LlBhcnQucHJvdG90eXBlLmF0LmNhbGwodGhpcyx0aGlzLl9pbmRleFRpbWUoZSksaSl9LHQuU2VxdWVuY2UucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLGkpe2lmKG51bGw9PT1pKXJldHVybiB0aGlzO2lmKHQuaXNBcnJheShpKSl7dmFyIG49TWF0aC5yb3VuZCh0aGlzLl9zdWJkaXZpc2lvbi9pLmxlbmd0aCk7aT1uZXcgdC5TZXF1ZW5jZSh0aGlzLl90aWNrLmJpbmQodGhpcyksaSx0LlRpY2tzKG4pKX1yZXR1cm4gdC5QYXJ0LnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLHRoaXMuX2luZGV4VGltZShlKSxpKSx0aGlzfSx0LlNlcXVlbmNlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5QYXJ0LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLHRoaXMuX2luZGV4VGltZShlKSxpKSx0aGlzfSx0LlNlcXVlbmNlLnByb3RvdHlwZS5faW5kZXhUaW1lPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdC5UcmFuc3BvcnRUaW1lP2U6dC5UaWNrcyhlKnRoaXMuX3N1YmRpdmlzaW9uK3RoaXMuc3RhcnRPZmZzZXQpLnRvU2Vjb25kcygpfSx0LlNlcXVlbmNlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuUGFydC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXN9LHQuU2VxdWVuY2V9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNzMpLGkoODApXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtyZXR1cm4gdC5QYXR0ZXJuPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiY2FsbGJhY2tcIixcInZhbHVlc1wiLFwicGF0dGVyblwiXSx0LlBhdHRlcm4pO3QuTG9vcC5jYWxsKHRoaXMsZSksdGhpcy5fcGF0dGVybj1uZXcgdC5DdHJsUGF0dGVybih7dmFsdWVzOmUudmFsdWVzLHR5cGU6ZS5wYXR0ZXJuLGluZGV4OmUuaW5kZXh9KX0sdC5leHRlbmQodC5QYXR0ZXJuLHQuTG9vcCksdC5QYXR0ZXJuLmRlZmF1bHRzPXtwYXR0ZXJuOnQuQ3RybFBhdHRlcm4uVHlwZS5VcCxjYWxsYmFjazp0Lm5vT3AsdmFsdWVzOltdfSx0LlBhdHRlcm4ucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKHQpe3RoaXMuY2FsbGJhY2sodCx0aGlzLl9wYXR0ZXJuLnZhbHVlKSx0aGlzLl9wYXR0ZXJuLm5leHQoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGF0dGVybi5wcm90b3R5cGUsXCJpbmRleFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF0dGVybi5pbmRleH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BhdHRlcm4uaW5kZXg9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QYXR0ZXJuLnByb3RvdHlwZSxcInZhbHVlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF0dGVybi52YWx1ZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYXR0ZXJuLnZhbHVlcz10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBhdHRlcm4ucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdHRlcm4udmFsdWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGF0dGVybi5wcm90b3R5cGUsXCJwYXR0ZXJuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXR0ZXJuLnR5cGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYXR0ZXJuLnR5cGU9dH19KSx0LlBhdHRlcm4ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0Lkxvb3AucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9wYXR0ZXJuLmRpc3Bvc2UoKSx0aGlzLl9wYXR0ZXJuPW51bGx9LHQuUGF0dGVybn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4KSxpKDE4KSxpKDEyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVmlicmF0bz1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwiZGVwdGhcIl0sdC5WaWJyYXRvKTt0LkVmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5fZGVsYXlOb2RlPW5ldyB0LkRlbGF5KDAsZS5tYXhEZWxheSksdGhpcy5fbGZvPW5ldyB0LkxGTyh7dHlwZTplLnR5cGUsbWluOjAsbWF4OmUubWF4RGVsYXksZnJlcXVlbmN5OmUuZnJlcXVlbmN5LHBoYXNlOi05MH0pLnN0YXJ0KCkuY29ubmVjdCh0aGlzLl9kZWxheU5vZGUuZGVsYXlUaW1lKSx0aGlzLmZyZXF1ZW5jeT10aGlzLl9sZm8uZnJlcXVlbmN5LHRoaXMuZGVwdGg9dGhpcy5fbGZvLmFtcGxpdHVkZSx0aGlzLmRlcHRoLnZhbHVlPWUuZGVwdGgsdGhpcy5fcmVhZE9ubHkoW1wiZnJlcXVlbmN5XCIsXCJkZXB0aFwiXSksdGhpcy5lZmZlY3RTZW5kLmNoYWluKHRoaXMuX2RlbGF5Tm9kZSx0aGlzLmVmZmVjdFJldHVybil9LHQuZXh0ZW5kKHQuVmlicmF0byx0LkVmZmVjdCksdC5WaWJyYXRvLmRlZmF1bHRzPXttYXhEZWxheTouMDA1LGZyZXF1ZW5jeTo1LGRlcHRoOi4xLHR5cGU6XCJzaW5lXCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlZpYnJhdG8ucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGZvLnR5cGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZm8udHlwZT10fX0pLHQuVmlicmF0by5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QuRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fZGVsYXlOb2RlLmRpc3Bvc2UoKSx0aGlzLl9kZWxheU5vZGU9bnVsbCx0aGlzLl9sZm8uZGlzcG9zZSgpLHRoaXMuX2xmbz1udWxsLHRoaXMuX3dyaXRhYmxlKFtcImZyZXF1ZW5jeVwiLFwiZGVwdGhcIl0pLHRoaXMuZnJlcXVlbmN5PW51bGwsdGhpcy5kZXB0aD1udWxsfSx0LlZpYnJhdG99LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMTIpLGkoMTUpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5UcmVtb2xvPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZnJlcXVlbmN5XCIsXCJkZXB0aFwiXSx0LlRyZW1vbG8pO3QuU3RlcmVvRWZmZWN0LmNhbGwodGhpcyxlKSx0aGlzLl9sZm9MPW5ldyB0LkxGTyh7cGhhc2U6ZS5zcHJlYWQsbWluOjEsbWF4OjB9KSx0aGlzLl9sZm9SPW5ldyB0LkxGTyh7cGhhc2U6ZS5zcHJlYWQsbWluOjEsbWF4OjB9KSx0aGlzLl9hbXBsaXR1ZGVMPW5ldyB0LkdhaW4sdGhpcy5fYW1wbGl0dWRlUj1uZXcgdC5HYWluLHRoaXMuZnJlcXVlbmN5PW5ldyB0LlNpZ25hbChlLmZyZXF1ZW5jeSx0LlR5cGUuRnJlcXVlbmN5KSx0aGlzLmRlcHRoPW5ldyB0LlNpZ25hbChlLmRlcHRoLHQuVHlwZS5Ob3JtYWxSYW5nZSksdGhpcy5fcmVhZE9ubHkoW1wiZnJlcXVlbmN5XCIsXCJkZXB0aFwiXSksdGhpcy5lZmZlY3RTZW5kTC5jaGFpbih0aGlzLl9hbXBsaXR1ZGVMLHRoaXMuZWZmZWN0UmV0dXJuTCksdGhpcy5lZmZlY3RTZW5kUi5jaGFpbih0aGlzLl9hbXBsaXR1ZGVSLHRoaXMuZWZmZWN0UmV0dXJuUiksdGhpcy5fbGZvTC5jb25uZWN0KHRoaXMuX2FtcGxpdHVkZUwuZ2FpbiksdGhpcy5fbGZvUi5jb25uZWN0KHRoaXMuX2FtcGxpdHVkZVIuZ2FpbiksdGhpcy5mcmVxdWVuY3kuZmFuKHRoaXMuX2xmb0wuZnJlcXVlbmN5LHRoaXMuX2xmb1IuZnJlcXVlbmN5KSx0aGlzLmRlcHRoLmZhbih0aGlzLl9sZm9SLmFtcGxpdHVkZSx0aGlzLl9sZm9MLmFtcGxpdHVkZSksdGhpcy50eXBlPWUudHlwZSx0aGlzLnNwcmVhZD1lLnNwcmVhZH0sdC5leHRlbmQodC5UcmVtb2xvLHQuU3RlcmVvRWZmZWN0KSx0LlRyZW1vbG8uZGVmYXVsdHM9e2ZyZXF1ZW5jeToxMCx0eXBlOlwic2luZVwiLGRlcHRoOi41LHNwcmVhZDoxODB9LHQuVHJlbW9sby5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xmb0wuc3RhcnQodCksdGhpcy5fbGZvUi5zdGFydCh0KSx0aGlzfSx0LlRyZW1vbG8ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xmb0wuc3RvcCh0KSx0aGlzLl9sZm9SLnN0b3AodCksdGhpc30sdC5UcmVtb2xvLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9sZm9MLnN5bmMoZSksdGhpcy5fbGZvUi5zeW5jKGUpLHQuVHJhbnNwb3J0LnN5bmNTaWduYWwodGhpcy5mcmVxdWVuY3kpLHRoaXN9LHQuVHJlbW9sby5wcm90b3R5cGUudW5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmb0wudW5zeW5jKCksdGhpcy5fbGZvUi51bnN5bmMoKSx0LlRyYW5zcG9ydC51bnN5bmNTaWduYWwodGhpcy5mcmVxdWVuY3kpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlRyZW1vbG8ucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGZvTC50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbGZvTC50eXBlPXQsdGhpcy5fbGZvUi50eXBlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuVHJlbW9sby5wcm90b3R5cGUsXCJzcHJlYWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmb1IucGhhc2UtdGhpcy5fbGZvTC5waGFzZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xmb0wucGhhc2U9OTAtdC8yLHRoaXMuX2xmb1IucGhhc2U9dC8yKzkwfX0pLHQuVHJlbW9sby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlN0ZXJlb0VmZmVjdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcImZyZXF1ZW5jeVwiLFwiZGVwdGhcIl0pLHRoaXMuX2xmb0wuZGlzcG9zZSgpLHRoaXMuX2xmb0w9bnVsbCx0aGlzLl9sZm9SLmRpc3Bvc2UoKSx0aGlzLl9sZm9SPW51bGwsdGhpcy5fYW1wbGl0dWRlTC5kaXNwb3NlKCksdGhpcy5fYW1wbGl0dWRlTD1udWxsLHRoaXMuX2FtcGxpdHVkZVIuZGlzcG9zZSgpLHRoaXMuX2FtcGxpdHVkZVI9bnVsbCx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGVwdGg9bnVsbCx0aGlzfSx0LlRyZW1vbG99LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNzUpLGkoMSksaSg1KSxpKDEzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU3RlcmVvV2lkZW5lcj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcIndpZHRoXCJdLHQuU3RlcmVvV2lkZW5lcik7dC5NaWRTaWRlRWZmZWN0LmNhbGwodGhpcyxlKSx0aGlzLndpZHRoPW5ldyB0LlNpZ25hbChlLndpZHRoLHQuVHlwZS5Ob3JtYWxSYW5nZSksdGhpcy5fcmVhZE9ubHkoW1wid2lkdGhcIl0pLHRoaXMuX3R3b1RpbWVzV2lkdGhNaWQ9bmV3IHQuTXVsdGlwbHkoMiksdGhpcy5fdHdvVGltZXNXaWR0aFNpZGU9bmV3IHQuTXVsdGlwbHkoMiksdGhpcy5fbWlkTXVsdD1uZXcgdC5NdWx0aXBseSx0aGlzLl90d29UaW1lc1dpZHRoTWlkLmNvbm5lY3QodGhpcy5fbWlkTXVsdCwwLDEpLHRoaXMubWlkU2VuZC5jaGFpbih0aGlzLl9taWRNdWx0LHRoaXMubWlkUmV0dXJuKSx0aGlzLl9vbmVNaW51c1dpZHRoPW5ldyB0LlN1YnRyYWN0LHRoaXMuX29uZU1pbnVzV2lkdGguY29ubmVjdCh0aGlzLl90d29UaW1lc1dpZHRoTWlkKSx0aGlzLmNvbnRleHQuZ2V0Q29uc3RhbnQoMSkuY29ubmVjdCh0aGlzLl9vbmVNaW51c1dpZHRoLDAsMCksdGhpcy53aWR0aC5jb25uZWN0KHRoaXMuX29uZU1pbnVzV2lkdGgsMCwxKSx0aGlzLl9zaWRlTXVsdD1uZXcgdC5NdWx0aXBseSx0aGlzLndpZHRoLmNvbm5lY3QodGhpcy5fdHdvVGltZXNXaWR0aFNpZGUpLHRoaXMuX3R3b1RpbWVzV2lkdGhTaWRlLmNvbm5lY3QodGhpcy5fc2lkZU11bHQsMCwxKSx0aGlzLnNpZGVTZW5kLmNoYWluKHRoaXMuX3NpZGVNdWx0LHRoaXMuc2lkZVJldHVybil9LHQuZXh0ZW5kKHQuU3RlcmVvV2lkZW5lcix0Lk1pZFNpZGVFZmZlY3QpLHQuU3RlcmVvV2lkZW5lci5kZWZhdWx0cz17d2lkdGg6LjV9LHQuU3RlcmVvV2lkZW5lci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0Lk1pZFNpZGVFZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl93cml0YWJsZShbXCJ3aWR0aFwiXSksdGhpcy53aWR0aC5kaXNwb3NlKCksdGhpcy53aWR0aD1udWxsLHRoaXMuX21pZE11bHQuZGlzcG9zZSgpLHRoaXMuX21pZE11bHQ9bnVsbCx0aGlzLl9zaWRlTXVsdC5kaXNwb3NlKCksdGhpcy5fc2lkZU11bHQ9bnVsbCx0aGlzLl90d29UaW1lc1dpZHRoTWlkLmRpc3Bvc2UoKSx0aGlzLl90d29UaW1lc1dpZHRoTWlkPW51bGwsdGhpcy5fdHdvVGltZXNXaWR0aFNpZGUuZGlzcG9zZSgpLHRoaXMuX3R3b1RpbWVzV2lkdGhTaWRlPW51bGwsdGhpcy5fb25lTWludXNXaWR0aC5kaXNwb3NlKCksdGhpcy5fb25lTWludXNXaWR0aD1udWxsLHRoaXN9LHQuU3RlcmVvV2lkZW5lcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxNSksaSgzMiksaSgzKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU3RlcmVvRmVlZGJhY2tFZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmZWVkYmFja1wiXSx0LkZlZWRiYWNrRWZmZWN0KTt0LlN0ZXJlb0VmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5mZWVkYmFjaz1uZXcgdC5TaWduYWwoZS5mZWVkYmFjayx0LlR5cGUuTm9ybWFsUmFuZ2UpLHRoaXMuX2ZlZWRiYWNrTD1uZXcgdC5HYWluLHRoaXMuX2ZlZWRiYWNrUj1uZXcgdC5HYWluLHRoaXMuZWZmZWN0UmV0dXJuTC5jaGFpbih0aGlzLl9mZWVkYmFja0wsdGhpcy5lZmZlY3RTZW5kTCksdGhpcy5lZmZlY3RSZXR1cm5SLmNoYWluKHRoaXMuX2ZlZWRiYWNrUix0aGlzLmVmZmVjdFNlbmRSKSx0aGlzLmZlZWRiYWNrLmZhbih0aGlzLl9mZWVkYmFja0wuZ2Fpbix0aGlzLl9mZWVkYmFja1IuZ2FpbiksdGhpcy5fcmVhZE9ubHkoW1wiZmVlZGJhY2tcIl0pfSx0LmV4dGVuZCh0LlN0ZXJlb0ZlZWRiYWNrRWZmZWN0LHQuU3RlcmVvRWZmZWN0KSx0LlN0ZXJlb0ZlZWRiYWNrRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU3RlcmVvRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fd3JpdGFibGUoW1wiZmVlZGJhY2tcIl0pLHRoaXMuZmVlZGJhY2suZGlzcG9zZSgpLHRoaXMuZmVlZGJhY2s9bnVsbCx0aGlzLl9mZWVkYmFja0wuZGlzcG9zZSgpLHRoaXMuX2ZlZWRiYWNrTD1udWxsLHRoaXMuX2ZlZWRiYWNrUi5kaXNwb3NlKCksdGhpcy5fZmVlZGJhY2tSPW51bGwsdGhpc30sdC5TdGVyZW9GZWVkYmFja0VmZmVjdH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg3OCksaSg5KSxpKDEwKSxpKDM5KSxpKDMpLGkoNzYpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5SZXZlcmI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJkZWNheVwiXSx0LlJldmVyYik7dC5FZmZlY3QuY2FsbCh0aGlzLGUpLHRoaXMuX2NvbnZvbHZlcj10aGlzLmNvbnRleHQuY3JlYXRlQ29udm9sdmVyKCksdGhpcy5kZWNheT1lLmRlY2F5LHRoaXMucHJlRGVsYXk9ZS5wcmVEZWxheSx0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fY29udm9sdmVyKX0sdC5leHRlbmQodC5SZXZlcmIsdC5FZmZlY3QpLHQuUmV2ZXJiLmRlZmF1bHRzPXtkZWNheToxLjUscHJlRGVsYXk6LjAxfSx0LlJldmVyYi5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5PZmZsaW5lKGZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQuTm9pc2UsaT1uZXcgdC5Ob2lzZSxuPW5ldyB0Lk1lcmdlO2UuY29ubmVjdChuLmxlZnQpLGkuY29ubmVjdChuLnJpZ2h0KTt2YXIgbz0obmV3IHQuR2FpbikudG9NYXN0ZXIoKTtuLmNvbm5lY3QobyksZS5zdGFydCgwKSxpLnN0YXJ0KDApLG8uZ2Fpbi5zZXRWYWx1ZUF0VGltZSgwLDApLG8uZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgxLHRoaXMucHJlRGVsYXkpLG8uZ2Fpbi5leHBvbmVudGlhbEFwcHJvYWNoVmFsdWVBdFRpbWUoMCx0aGlzLnByZURlbGF5LHRoaXMuZGVjYXktdGhpcy5wcmVEZWxheSl9LmJpbmQodGhpcyksdGhpcy5kZWNheSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29udm9sdmVyLmJ1ZmZlcj10LmdldCgpLHRoaXN9LmJpbmQodGhpcykpfSx0LlJldmVyYi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkVmZmVjdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2NvbnZvbHZlci5kaXNjb25uZWN0KCksdGhpcy5fY29udm9sdmVyPW51bGwsdGhpc30sdC5SZXZlcmJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMTIpLGkoMjMpLGkoMSksaSgzMiksaSgxOCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlBpdGNoU2hpZnQ9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJwaXRjaFwiXSx0LlBpdGNoU2hpZnQpO3QuRmVlZGJhY2tFZmZlY3QuY2FsbCh0aGlzLGUpLHRoaXMuX2ZyZXF1ZW5jeT1uZXcgdC5TaWduYWwoMCksdGhpcy5fZGVsYXlBPW5ldyB0LkRlbGF5KDAsMSksdGhpcy5fbGZvQT1uZXcgdC5MRk8oe21pbjowLG1heDouMSx0eXBlOlwic2F3dG9vdGhcIn0pLmNvbm5lY3QodGhpcy5fZGVsYXlBLmRlbGF5VGltZSksdGhpcy5fZGVsYXlCPW5ldyB0LkRlbGF5KDAsMSksdGhpcy5fbGZvQj1uZXcgdC5MRk8oe21pbjowLG1heDouMSx0eXBlOlwic2F3dG9vdGhcIixwaGFzZToxODB9KS5jb25uZWN0KHRoaXMuX2RlbGF5Qi5kZWxheVRpbWUpLHRoaXMuX2Nyb3NzRmFkZT1uZXcgdC5Dcm9zc0ZhZGUsdGhpcy5fY3Jvc3NGYWRlTEZPPW5ldyB0LkxGTyh7bWluOjAsbWF4OjEsdHlwZTpcInRyaWFuZ2xlXCIscGhhc2U6OTB9KS5jb25uZWN0KHRoaXMuX2Nyb3NzRmFkZS5mYWRlKSx0aGlzLl9mZWVkYmFja0RlbGF5PW5ldyB0LkRlbGF5KGUuZGVsYXlUaW1lKSx0aGlzLmRlbGF5VGltZT10aGlzLl9mZWVkYmFja0RlbGF5LmRlbGF5VGltZSx0aGlzLl9yZWFkT25seShcImRlbGF5VGltZVwiKSx0aGlzLl9waXRjaD1lLnBpdGNoLHRoaXMuX3dpbmRvd1NpemU9ZS53aW5kb3dTaXplLHRoaXMuX2RlbGF5QS5jb25uZWN0KHRoaXMuX2Nyb3NzRmFkZS5hKSx0aGlzLl9kZWxheUIuY29ubmVjdCh0aGlzLl9jcm9zc0ZhZGUuYiksdGhpcy5fZnJlcXVlbmN5LmZhbih0aGlzLl9sZm9BLmZyZXF1ZW5jeSx0aGlzLl9sZm9CLmZyZXF1ZW5jeSx0aGlzLl9jcm9zc0ZhZGVMRk8uZnJlcXVlbmN5KSx0aGlzLmVmZmVjdFNlbmQuZmFuKHRoaXMuX2RlbGF5QSx0aGlzLl9kZWxheUIpLHRoaXMuX2Nyb3NzRmFkZS5jaGFpbih0aGlzLl9mZWVkYmFja0RlbGF5LHRoaXMuZWZmZWN0UmV0dXJuKTt2YXIgaT10aGlzLm5vdygpO3RoaXMuX2xmb0Euc3RhcnQoaSksdGhpcy5fbGZvQi5zdGFydChpKSx0aGlzLl9jcm9zc0ZhZGVMRk8uc3RhcnQoaSksdGhpcy53aW5kb3dTaXplPXRoaXMuX3dpbmRvd1NpemV9LHQuZXh0ZW5kKHQuUGl0Y2hTaGlmdCx0LkZlZWRiYWNrRWZmZWN0KSx0LlBpdGNoU2hpZnQuZGVmYXVsdHM9e3BpdGNoOjAsd2luZG93U2l6ZTouMSxkZWxheVRpbWU6MCxmZWVkYmFjazowfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QaXRjaFNoaWZ0LnByb3RvdHlwZSxcInBpdGNoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waXRjaH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BpdGNoPWU7dmFyIGk9MDtlPDA/KHRoaXMuX2xmb0EubWluPTAsdGhpcy5fbGZvQS5tYXg9dGhpcy5fd2luZG93U2l6ZSx0aGlzLl9sZm9CLm1pbj0wLHRoaXMuX2xmb0IubWF4PXRoaXMuX3dpbmRvd1NpemUsaT10LmludGVydmFsVG9GcmVxdWVuY3lSYXRpbyhlLTEpKzEpOih0aGlzLl9sZm9BLm1pbj10aGlzLl93aW5kb3dTaXplLHRoaXMuX2xmb0EubWF4PTAsdGhpcy5fbGZvQi5taW49dGhpcy5fd2luZG93U2l6ZSx0aGlzLl9sZm9CLm1heD0wLGk9dC5pbnRlcnZhbFRvRnJlcXVlbmN5UmF0aW8oZSktMSksdGhpcy5fZnJlcXVlbmN5LnZhbHVlPWkqKDEuMi90aGlzLl93aW5kb3dTaXplKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QaXRjaFNoaWZ0LnByb3RvdHlwZSxcIndpbmRvd1NpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpbmRvd1NpemV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93aW5kb3dTaXplPXRoaXMudG9TZWNvbmRzKHQpLHRoaXMucGl0Y2g9dGhpcy5fcGl0Y2h9fSksdC5QaXRjaFNoaWZ0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRmVlZGJhY2tFZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9mcmVxdWVuY3kuZGlzcG9zZSgpLHRoaXMuX2ZyZXF1ZW5jeT1udWxsLHRoaXMuX2RlbGF5QS5kaXNjb25uZWN0KCksdGhpcy5fZGVsYXlBPW51bGwsdGhpcy5fZGVsYXlCLmRpc2Nvbm5lY3QoKSx0aGlzLl9kZWxheUI9bnVsbCx0aGlzLl9sZm9BLmRpc3Bvc2UoKSx0aGlzLl9sZm9BPW51bGwsdGhpcy5fbGZvQi5kaXNwb3NlKCksdGhpcy5fbGZvQj1udWxsLHRoaXMuX2Nyb3NzRmFkZS5kaXNwb3NlKCksdGhpcy5fY3Jvc3NGYWRlPW51bGwsdGhpcy5fY3Jvc3NGYWRlTEZPLmRpc3Bvc2UoKSx0aGlzLl9jcm9zc0ZhZGVMRk89bnVsbCx0aGlzLl93cml0YWJsZShcImRlbGF5VGltZVwiKSx0aGlzLl9mZWVkYmFja0RlbGF5LmRpc3Bvc2UoKSx0aGlzLl9mZWVkYmFja0RlbGF5PW51bGwsdGhpcy5kZWxheVRpbWU9bnVsbCx0aGlzfSx0LlBpdGNoU2hpZnR9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNzQpLGkoMSksaSgxOCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlBpbmdQb25nRGVsYXk9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcImZlZWRiYWNrXCJdLHQuUGluZ1BvbmdEZWxheSk7dC5TdGVyZW9YRmVlZGJhY2tFZmZlY3QuY2FsbCh0aGlzLGUpLHRoaXMuX2xlZnREZWxheT1uZXcgdC5EZWxheSgwLGUubWF4RGVsYXlUaW1lKSx0aGlzLl9yaWdodERlbGF5PW5ldyB0LkRlbGF5KDAsZS5tYXhEZWxheVRpbWUpLHRoaXMuX3JpZ2h0UHJlRGVsYXk9bmV3IHQuRGVsYXkoMCxlLm1heERlbGF5VGltZSksdGhpcy5kZWxheVRpbWU9bmV3IHQuU2lnbmFsKGUuZGVsYXlUaW1lLHQuVHlwZS5UaW1lKSx0aGlzLmVmZmVjdFNlbmRMLmNoYWluKHRoaXMuX2xlZnREZWxheSx0aGlzLmVmZmVjdFJldHVybkwpLHRoaXMuZWZmZWN0U2VuZFIuY2hhaW4odGhpcy5fcmlnaHRQcmVEZWxheSx0aGlzLl9yaWdodERlbGF5LHRoaXMuZWZmZWN0UmV0dXJuUiksdGhpcy5kZWxheVRpbWUuZmFuKHRoaXMuX2xlZnREZWxheS5kZWxheVRpbWUsdGhpcy5fcmlnaHREZWxheS5kZWxheVRpbWUsdGhpcy5fcmlnaHRQcmVEZWxheS5kZWxheVRpbWUpLHRoaXMuX2ZlZWRiYWNrTFIuZGlzY29ubmVjdCgpLHRoaXMuX2ZlZWRiYWNrTFIuY29ubmVjdCh0aGlzLl9yaWdodERlbGF5KSx0aGlzLl9yZWFkT25seShbXCJkZWxheVRpbWVcIl0pfSx0LmV4dGVuZCh0LlBpbmdQb25nRGVsYXksdC5TdGVyZW9YRmVlZGJhY2tFZmZlY3QpLHQuUGluZ1BvbmdEZWxheS5kZWZhdWx0cz17ZGVsYXlUaW1lOi4yNSxtYXhEZWxheVRpbWU6MX0sdC5QaW5nUG9uZ0RlbGF5LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuU3RlcmVvWEZlZWRiYWNrRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbGVmdERlbGF5LmRpc3Bvc2UoKSx0aGlzLl9sZWZ0RGVsYXk9bnVsbCx0aGlzLl9yaWdodERlbGF5LmRpc3Bvc2UoKSx0aGlzLl9yaWdodERlbGF5PW51bGwsdGhpcy5fcmlnaHRQcmVEZWxheS5kaXNwb3NlKCksdGhpcy5fcmlnaHRQcmVEZWxheT1udWxsLHRoaXMuX3dyaXRhYmxlKFtcImRlbGF5VGltZVwiXSksdGhpcy5kZWxheVRpbWUuZGlzcG9zZSgpLHRoaXMuZGVsYXlUaW1lPW51bGwsdGhpc30sdC5QaW5nUG9uZ0RlbGF5fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDEyKSxpKDkpLGkoMTUpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5QaGFzZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcIm9jdGF2ZXNcIixcImJhc2VGcmVxdWVuY3lcIl0sdC5QaGFzZXIpO3QuU3RlcmVvRWZmZWN0LmNhbGwodGhpcyxlKSx0aGlzLl9sZm9MPW5ldyB0LkxGTyhlLmZyZXF1ZW5jeSwwLDEpLHRoaXMuX2xmb1I9bmV3IHQuTEZPKGUuZnJlcXVlbmN5LDAsMSksdGhpcy5fbGZvUi5waGFzZT0xODAsdGhpcy5fYmFzZUZyZXF1ZW5jeT1lLmJhc2VGcmVxdWVuY3ksdGhpcy5fb2N0YXZlcz1lLm9jdGF2ZXMsdGhpcy5RPW5ldyB0LlNpZ25hbChlLlEsdC5UeXBlLlBvc2l0aXZlKSx0aGlzLl9maWx0ZXJzTD10aGlzLl9tYWtlRmlsdGVycyhlLnN0YWdlcyx0aGlzLl9sZm9MLHRoaXMuUSksdGhpcy5fZmlsdGVyc1I9dGhpcy5fbWFrZUZpbHRlcnMoZS5zdGFnZXMsdGhpcy5fbGZvUix0aGlzLlEpLHRoaXMuZnJlcXVlbmN5PXRoaXMuX2xmb0wuZnJlcXVlbmN5LHRoaXMuZnJlcXVlbmN5LnZhbHVlPWUuZnJlcXVlbmN5LHRoaXMuZWZmZWN0U2VuZEwuY29ubmVjdCh0aGlzLl9maWx0ZXJzTFswXSksdGhpcy5lZmZlY3RTZW5kUi5jb25uZWN0KHRoaXMuX2ZpbHRlcnNSWzBdKSx0aGlzLl9maWx0ZXJzTFtlLnN0YWdlcy0xXS5jb25uZWN0KHRoaXMuZWZmZWN0UmV0dXJuTCksdGhpcy5fZmlsdGVyc1JbZS5zdGFnZXMtMV0uY29ubmVjdCh0aGlzLmVmZmVjdFJldHVyblIpLHRoaXMuX2xmb0wuZnJlcXVlbmN5LmNvbm5lY3QodGhpcy5fbGZvUi5mcmVxdWVuY3kpLHRoaXMuYmFzZUZyZXF1ZW5jeT1lLmJhc2VGcmVxdWVuY3ksdGhpcy5vY3RhdmVzPWUub2N0YXZlcyx0aGlzLl9sZm9MLnN0YXJ0KCksdGhpcy5fbGZvUi5zdGFydCgpLHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiLFwiUVwiXSl9LHQuZXh0ZW5kKHQuUGhhc2VyLHQuU3RlcmVvRWZmZWN0KSx0LlBoYXNlci5kZWZhdWx0cz17ZnJlcXVlbmN5Oi41LG9jdGF2ZXM6MyxzdGFnZXM6MTAsUToxMCxiYXNlRnJlcXVlbmN5OjM1MH0sdC5QaGFzZXIucHJvdG90eXBlLl9tYWtlRmlsdGVycz1mdW5jdGlvbihlLGksbil7Zm9yKHZhciBvPW5ldyBBcnJheShlKSxzPTA7czxlO3MrKyl7dmFyIHI9dGhpcy5jb250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO3IudHlwZT1cImFsbHBhc3NcIixuLmNvbm5lY3Qoci5RKSxpLmNvbm5lY3Qoci5mcmVxdWVuY3kpLG9bc109cn1yZXR1cm4gdC5jb25uZWN0U2VyaWVzLmFwcGx5KHQsbyksb30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGhhc2VyLnByb3RvdHlwZSxcIm9jdGF2ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29jdGF2ZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vY3RhdmVzPXQ7dmFyIGU9dGhpcy5fYmFzZUZyZXF1ZW5jeSpNYXRoLnBvdygyLHQpO3RoaXMuX2xmb0wubWF4PWUsdGhpcy5fbGZvUi5tYXg9ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QaGFzZXIucHJvdG90eXBlLFwiYmFzZUZyZXF1ZW5jeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFzZUZyZXF1ZW5jeX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Jhc2VGcmVxdWVuY3k9dCx0aGlzLl9sZm9MLm1pbj10LHRoaXMuX2xmb1IubWluPXQsdGhpcy5vY3RhdmVzPXRoaXMuX29jdGF2ZXN9fSksdC5QaGFzZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0LlN0ZXJlb0VmZmVjdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcImZyZXF1ZW5jeVwiLFwiUVwiXSksdGhpcy5RLmRpc3Bvc2UoKSx0aGlzLlE9bnVsbCx0aGlzLl9sZm9MLmRpc3Bvc2UoKSx0aGlzLl9sZm9MPW51bGwsdGhpcy5fbGZvUi5kaXNwb3NlKCksdGhpcy5fbGZvUj1udWxsO2Zvcih2YXIgZT0wO2U8dGhpcy5fZmlsdGVyc0wubGVuZ3RoO2UrKyl0aGlzLl9maWx0ZXJzTFtlXS5kaXNjb25uZWN0KCksdGhpcy5fZmlsdGVyc0xbZV09bnVsbDt0aGlzLl9maWx0ZXJzTD1udWxsO2Zvcih2YXIgaT0wO2k8dGhpcy5fZmlsdGVyc1IubGVuZ3RoO2krKyl0aGlzLl9maWx0ZXJzUltpXS5kaXNjb25uZWN0KCksdGhpcy5fZmlsdGVyc1JbaV09bnVsbDtyZXR1cm4gdGhpcy5fZmlsdGVyc1I9bnVsbCx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXN9LHQuUGhhc2VyfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDU4KSxpKDE1KSxpKDI2KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9Wy4wNjc0OCwuMDY0MDQsLjA4MjEyLC4wOTAwNF0saT1bLjc3MywuODAyLC43NTMsLjczM10sbj1bMzQ3LDExMywzN107cmV0dXJuIHQuSkNSZXZlcmI9ZnVuY3Rpb24oKXt2YXIgbz10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJyb29tU2l6ZVwiXSx0LkpDUmV2ZXJiKTt0LlN0ZXJlb0VmZmVjdC5jYWxsKHRoaXMsbyksdGhpcy5yb29tU2l6ZT1uZXcgdC5TaWduYWwoby5yb29tU2l6ZSx0LlR5cGUuTm9ybWFsUmFuZ2UpLHRoaXMuX3NjYWxlUm9vbVNpemU9bmV3IHQuU2NhbGUoLS43MzMsLjE5NyksdGhpcy5fYWxscGFzc0ZpbHRlcnM9W10sdGhpcy5fZmVlZGJhY2tDb21iRmlsdGVycz1bXTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIHI9dGhpcy5jb250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO3IudHlwZT1cImFsbHBhc3NcIixyLmZyZXF1ZW5jeS52YWx1ZT1uW3NdLHRoaXMuX2FsbHBhc3NGaWx0ZXJzLnB1c2gocil9Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBsPW5ldyB0LkZlZWRiYWNrQ29tYkZpbHRlcihlW2FdLC4xKTt0aGlzLl9zY2FsZVJvb21TaXplLmNvbm5lY3QobC5yZXNvbmFuY2UpLGwucmVzb25hbmNlLnZhbHVlPWlbYV0sdGhpcy5fYWxscGFzc0ZpbHRlcnNbdGhpcy5fYWxscGFzc0ZpbHRlcnMubGVuZ3RoLTFdLmNvbm5lY3QobCksYTxlLmxlbmd0aC8yP2wuY29ubmVjdCh0aGlzLmVmZmVjdFJldHVybkwpOmwuY29ubmVjdCh0aGlzLmVmZmVjdFJldHVyblIpLHRoaXMuX2ZlZWRiYWNrQ29tYkZpbHRlcnMucHVzaChsKX10aGlzLnJvb21TaXplLmNvbm5lY3QodGhpcy5fc2NhbGVSb29tU2l6ZSksdC5jb25uZWN0U2VyaWVzLmFwcGx5KHQsdGhpcy5fYWxscGFzc0ZpbHRlcnMpLHRoaXMuZWZmZWN0U2VuZEwuY29ubmVjdCh0aGlzLl9hbGxwYXNzRmlsdGVyc1swXSksdGhpcy5lZmZlY3RTZW5kUi5jb25uZWN0KHRoaXMuX2FsbHBhc3NGaWx0ZXJzWzBdKSx0aGlzLl9yZWFkT25seShbXCJyb29tU2l6ZVwiXSl9LHQuZXh0ZW5kKHQuSkNSZXZlcmIsdC5TdGVyZW9FZmZlY3QpLHQuSkNSZXZlcmIuZGVmYXVsdHM9e3Jvb21TaXplOi41fSx0LkpDUmV2ZXJiLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dC5TdGVyZW9FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtmb3IodmFyIGU9MDtlPHRoaXMuX2FsbHBhc3NGaWx0ZXJzLmxlbmd0aDtlKyspdGhpcy5fYWxscGFzc0ZpbHRlcnNbZV0uZGlzY29ubmVjdCgpLHRoaXMuX2FsbHBhc3NGaWx0ZXJzW2VdPW51bGw7dGhpcy5fYWxscGFzc0ZpbHRlcnM9bnVsbDtmb3IodmFyIGk9MDtpPHRoaXMuX2ZlZWRiYWNrQ29tYkZpbHRlcnMubGVuZ3RoO2krKyl0aGlzLl9mZWVkYmFja0NvbWJGaWx0ZXJzW2ldLmRpc3Bvc2UoKSx0aGlzLl9mZWVkYmFja0NvbWJGaWx0ZXJzW2ldPW51bGw7cmV0dXJuIHRoaXMuX2ZlZWRiYWNrQ29tYkZpbHRlcnM9bnVsbCx0aGlzLl93cml0YWJsZShbXCJyb29tU2l6ZVwiXSksdGhpcy5yb29tU2l6ZS5kaXNwb3NlKCksdGhpcy5yb29tU2l6ZT1udWxsLHRoaXMuX3NjYWxlUm9vbVNpemUuZGlzcG9zZSgpLHRoaXMuX3NjYWxlUm9vbVNpemU9bnVsbCx0aGlzfSx0LkpDUmV2ZXJifS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDUzKSxpKDE1KSxpKDEpLGkoMTkpLGkoMTApLGkoNDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1bMTU1Ny80NDEwMCwxNjE3LzQ0MTAwLDE0OTEvNDQxMDAsMTQyMi80NDEwMCwxMjc3LzQ0MTAwLDEzNTYvNDQxMDAsMTE4OC80NDEwMCwxMTE2LzQ0MTAwXSxpPVsyMjUsNTU2LDQ0MSwzNDFdO3JldHVybiB0LkZyZWV2ZXJiPWZ1bmN0aW9uKCl7dmFyIG49dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wicm9vbVNpemVcIixcImRhbXBlbmluZ1wiXSx0LkZyZWV2ZXJiKTt0LlN0ZXJlb0VmZmVjdC5jYWxsKHRoaXMsbiksdGhpcy5yb29tU2l6ZT1uZXcgdC5TaWduYWwobi5yb29tU2l6ZSx0LlR5cGUuTm9ybWFsUmFuZ2UpLHRoaXMuZGFtcGVuaW5nPW5ldyB0LlNpZ25hbChuLmRhbXBlbmluZyx0LlR5cGUuRnJlcXVlbmN5KSx0aGlzLl9jb21iRmlsdGVycz1bXSx0aGlzLl9hbGxwYXNzRmlsdGVyc0w9W10sdGhpcy5fYWxscGFzc0ZpbHRlcnNSPVtdO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz10aGlzLmNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7cy50eXBlPVwiYWxscGFzc1wiLHMuZnJlcXVlbmN5LnZhbHVlPWlbb10sdGhpcy5fYWxscGFzc0ZpbHRlcnNMLnB1c2gocyl9Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBhPXRoaXMuY29udGV4dC5jcmVhdGVCaXF1YWRGaWx0ZXIoKTthLnR5cGU9XCJhbGxwYXNzXCIsYS5mcmVxdWVuY3kudmFsdWU9aVtyXSx0aGlzLl9hbGxwYXNzRmlsdGVyc1IucHVzaChhKX1mb3IodmFyIGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIGg9bmV3IHQuTG93cGFzc0NvbWJGaWx0ZXIoZVtsXSk7bDxlLmxlbmd0aC8yP3RoaXMuZWZmZWN0U2VuZEwuY2hhaW4oaCx0aGlzLl9hbGxwYXNzRmlsdGVyc0xbMF0pOnRoaXMuZWZmZWN0U2VuZFIuY2hhaW4oaCx0aGlzLl9hbGxwYXNzRmlsdGVyc1JbMF0pLHRoaXMucm9vbVNpemUuY29ubmVjdChoLnJlc29uYW5jZSksdGhpcy5kYW1wZW5pbmcuY29ubmVjdChoLmRhbXBlbmluZyksdGhpcy5fY29tYkZpbHRlcnMucHVzaChoKX10LmNvbm5lY3RTZXJpZXMuYXBwbHkodCx0aGlzLl9hbGxwYXNzRmlsdGVyc0wpLHQuY29ubmVjdFNlcmllcy5hcHBseSh0LHRoaXMuX2FsbHBhc3NGaWx0ZXJzUiksdGhpcy5fYWxscGFzc0ZpbHRlcnNMW3RoaXMuX2FsbHBhc3NGaWx0ZXJzTC5sZW5ndGgtMV0uY29ubmVjdCh0aGlzLmVmZmVjdFJldHVybkwpLHRoaXMuX2FsbHBhc3NGaWx0ZXJzUlt0aGlzLl9hbGxwYXNzRmlsdGVyc1IubGVuZ3RoLTFdLmNvbm5lY3QodGhpcy5lZmZlY3RSZXR1cm5SKSx0aGlzLl9yZWFkT25seShbXCJyb29tU2l6ZVwiLFwiZGFtcGVuaW5nXCJdKX0sdC5leHRlbmQodC5GcmVldmVyYix0LlN0ZXJlb0VmZmVjdCksdC5GcmVldmVyYi5kZWZhdWx0cz17cm9vbVNpemU6LjcsZGFtcGVuaW5nOjNlM30sdC5GcmVldmVyYi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QuU3RlcmVvRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9hbGxwYXNzRmlsdGVyc0wubGVuZ3RoO2UrKyl0aGlzLl9hbGxwYXNzRmlsdGVyc0xbZV0uZGlzY29ubmVjdCgpLHRoaXMuX2FsbHBhc3NGaWx0ZXJzTFtlXT1udWxsO3RoaXMuX2FsbHBhc3NGaWx0ZXJzTD1udWxsO2Zvcih2YXIgaT0wO2k8dGhpcy5fYWxscGFzc0ZpbHRlcnNSLmxlbmd0aDtpKyspdGhpcy5fYWxscGFzc0ZpbHRlcnNSW2ldLmRpc2Nvbm5lY3QoKSx0aGlzLl9hbGxwYXNzRmlsdGVyc1JbaV09bnVsbDt0aGlzLl9hbGxwYXNzRmlsdGVyc1I9bnVsbDtmb3IodmFyIG49MDtuPHRoaXMuX2NvbWJGaWx0ZXJzLmxlbmd0aDtuKyspdGhpcy5fY29tYkZpbHRlcnNbbl0uZGlzcG9zZSgpLHRoaXMuX2NvbWJGaWx0ZXJzW25dPW51bGw7cmV0dXJuIHRoaXMuX2NvbWJGaWx0ZXJzPW51bGwsdGhpcy5fd3JpdGFibGUoW1wicm9vbVNpemVcIixcImRhbXBlbmluZ1wiXSksdGhpcy5yb29tU2l6ZS5kaXNwb3NlKCksdGhpcy5yb29tU2l6ZT1udWxsLHRoaXMuZGFtcGVuaW5nLmRpc3Bvc2UoKSx0aGlzLmRhbXBlbmluZz1udWxsLHRoaXN9LHQuRnJlZXZlcmJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMzIpLGkoMSksaSgxOCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZlZWRiYWNrRGVsYXk9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJkZWxheVRpbWVcIixcImZlZWRiYWNrXCJdLHQuRmVlZGJhY2tEZWxheSk7dC5GZWVkYmFja0VmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5fZGVsYXlOb2RlPW5ldyB0LkRlbGF5KGUuZGVsYXlUaW1lLGUubWF4RGVsYXkpLHRoaXMuZGVsYXlUaW1lPXRoaXMuX2RlbGF5Tm9kZS5kZWxheVRpbWUsdGhpcy5jb25uZWN0RWZmZWN0KHRoaXMuX2RlbGF5Tm9kZSksdGhpcy5fcmVhZE9ubHkoW1wiZGVsYXlUaW1lXCJdKX0sdC5leHRlbmQodC5GZWVkYmFja0RlbGF5LHQuRmVlZGJhY2tFZmZlY3QpLHQuRmVlZGJhY2tEZWxheS5kZWZhdWx0cz17ZGVsYXlUaW1lOi4yNSxtYXhEZWxheToxfSx0LkZlZWRiYWNrRGVsYXkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5GZWVkYmFja0VmZmVjdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2RlbGF5Tm9kZS5kaXNwb3NlKCksdGhpcy5fZGVsYXlOb2RlPW51bGwsdGhpcy5fd3JpdGFibGUoW1wiZGVsYXlUaW1lXCJdKSx0aGlzLmRlbGF5VGltZT1udWxsLHRoaXN9LHQuRmVlZGJhY2tEZWxheX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4KSxpKDcpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5EaXN0b3J0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiZGlzdG9ydGlvblwiXSx0LkRpc3RvcnRpb24pO3QuRWZmZWN0LmNhbGwodGhpcyxlKSx0aGlzLl9zaGFwZXI9bmV3IHQuV2F2ZVNoYXBlcig0MDk2KSx0aGlzLl9kaXN0b3J0aW9uPWUuZGlzdG9ydGlvbix0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fc2hhcGVyKSx0aGlzLmRpc3RvcnRpb249ZS5kaXN0b3J0aW9uLHRoaXMub3ZlcnNhbXBsZT1lLm92ZXJzYW1wbGV9LHQuZXh0ZW5kKHQuRGlzdG9ydGlvbix0LkVmZmVjdCksdC5EaXN0b3J0aW9uLmRlZmF1bHRzPXtkaXN0b3J0aW9uOi40LG92ZXJzYW1wbGU6XCJub25lXCJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkRpc3RvcnRpb24ucHJvdG90eXBlLFwiZGlzdG9ydGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzdG9ydGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3RvcnRpb249dDt2YXIgZT0xMDAqdCxpPU1hdGguUEkvMTgwO3RoaXMuX3NoYXBlci5zZXRNYXAoZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHQpPC4wMDE/MDooMytlKSp0KjIwKmkvKE1hdGguUEkrZSpNYXRoLmFicyh0KSl9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5EaXN0b3J0aW9uLnByb3RvdHlwZSxcIm92ZXJzYW1wbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYXBlci5vdmVyc2FtcGxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhcGVyLm92ZXJzYW1wbGU9dH19KSx0LkRpc3RvcnRpb24ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9zaGFwZXIuZGlzcG9zZSgpLHRoaXMuX3NoYXBlcj1udWxsLHRoaXN9LHQuRGlzdG9ydGlvbn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxMiksaSgxNSksaSgxOCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNob3J1cz1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiLFwiZGVsYXlUaW1lXCIsXCJkZXB0aFwiXSx0LkNob3J1cyk7dC5TdGVyZW9FZmZlY3QuY2FsbCh0aGlzLGUpLHRoaXMuX2RlcHRoPWUuZGVwdGgsdGhpcy5fZGVsYXlUaW1lPWUuZGVsYXlUaW1lLzFlMyx0aGlzLl9sZm9MPW5ldyB0LkxGTyh7ZnJlcXVlbmN5OmUuZnJlcXVlbmN5LG1pbjowLG1heDoxfSksdGhpcy5fbGZvUj1uZXcgdC5MRk8oe2ZyZXF1ZW5jeTplLmZyZXF1ZW5jeSxtaW46MCxtYXg6MSxwaGFzZToxODB9KSx0aGlzLl9kZWxheU5vZGVMPW5ldyB0LkRlbGF5LHRoaXMuX2RlbGF5Tm9kZVI9bmV3IHQuRGVsYXksdGhpcy5mcmVxdWVuY3k9dGhpcy5fbGZvTC5mcmVxdWVuY3ksdGhpcy5lZmZlY3RTZW5kTC5jaGFpbih0aGlzLl9kZWxheU5vZGVMLHRoaXMuZWZmZWN0UmV0dXJuTCksdGhpcy5lZmZlY3RTZW5kUi5jaGFpbih0aGlzLl9kZWxheU5vZGVSLHRoaXMuZWZmZWN0UmV0dXJuUiksdGhpcy5lZmZlY3RTZW5kTC5jb25uZWN0KHRoaXMuZWZmZWN0UmV0dXJuTCksdGhpcy5lZmZlY3RTZW5kUi5jb25uZWN0KHRoaXMuZWZmZWN0UmV0dXJuUiksdGhpcy5fbGZvTC5jb25uZWN0KHRoaXMuX2RlbGF5Tm9kZUwuZGVsYXlUaW1lKSx0aGlzLl9sZm9SLmNvbm5lY3QodGhpcy5fZGVsYXlOb2RlUi5kZWxheVRpbWUpLHRoaXMuX2xmb0wuc3RhcnQoKSx0aGlzLl9sZm9SLnN0YXJ0KCksdGhpcy5fbGZvTC5mcmVxdWVuY3kuY29ubmVjdCh0aGlzLl9sZm9SLmZyZXF1ZW5jeSksdGhpcy5kZXB0aD10aGlzLl9kZXB0aCx0aGlzLmZyZXF1ZW5jeS52YWx1ZT1lLmZyZXF1ZW5jeSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX3JlYWRPbmx5KFtcImZyZXF1ZW5jeVwiXSksdGhpcy5zcHJlYWQ9ZS5zcHJlYWR9LHQuZXh0ZW5kKHQuQ2hvcnVzLHQuU3RlcmVvRWZmZWN0KSx0LkNob3J1cy5kZWZhdWx0cz17ZnJlcXVlbmN5OjEuNSxkZWxheVRpbWU6My41LGRlcHRoOi43LHR5cGU6XCJzaW5lXCIsc3ByZWFkOjE4MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ2hvcnVzLnByb3RvdHlwZSxcImRlcHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoPXQ7dmFyIGU9dGhpcy5fZGVsYXlUaW1lKnQ7dGhpcy5fbGZvTC5taW49TWF0aC5tYXgodGhpcy5fZGVsYXlUaW1lLWUsMCksdGhpcy5fbGZvTC5tYXg9dGhpcy5fZGVsYXlUaW1lK2UsdGhpcy5fbGZvUi5taW49TWF0aC5tYXgodGhpcy5fZGVsYXlUaW1lLWUsMCksdGhpcy5fbGZvUi5tYXg9dGhpcy5fZGVsYXlUaW1lK2V9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ2hvcnVzLnByb3RvdHlwZSxcImRlbGF5VGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzKnRoaXMuX2RlbGF5VGltZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlbGF5VGltZT10LzFlMyx0aGlzLmRlcHRoPXRoaXMuX2RlcHRofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNob3J1cy5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZm9MLnR5cGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZm9MLnR5cGU9dCx0aGlzLl9sZm9SLnR5cGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5DaG9ydXMucHJvdG90eXBlLFwic3ByZWFkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZm9SLnBoYXNlLXRoaXMuX2xmb0wucGhhc2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZm9MLnBoYXNlPTkwLXQvMix0aGlzLl9sZm9SLnBoYXNlPXQvMis5MH19KSx0LkNob3J1cy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LlN0ZXJlb0VmZmVjdC5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2xmb0wuZGlzcG9zZSgpLHRoaXMuX2xmb0w9bnVsbCx0aGlzLl9sZm9SLmRpc3Bvc2UoKSx0aGlzLl9sZm9SPW51bGwsdGhpcy5fZGVsYXlOb2RlTC5kaXNwb3NlKCksdGhpcy5fZGVsYXlOb2RlTD1udWxsLHRoaXMuX2RlbGF5Tm9kZVIuZGlzcG9zZSgpLHRoaXMuX2RlbGF5Tm9kZVI9bnVsbCx0aGlzLl93cml0YWJsZShcImZyZXF1ZW5jeVwiKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXN9LHQuQ2hvcnVzfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDgpLGkoNyldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNoZWJ5c2hldj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcIm9yZGVyXCJdLHQuQ2hlYnlzaGV2KTt0LkVmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5fc2hhcGVyPW5ldyB0LldhdmVTaGFwZXIoNDA5NiksdGhpcy5fb3JkZXI9ZS5vcmRlcix0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fc2hhcGVyKSx0aGlzLm9yZGVyPWUub3JkZXIsdGhpcy5vdmVyc2FtcGxlPWUub3ZlcnNhbXBsZX0sdC5leHRlbmQodC5DaGVieXNoZXYsdC5FZmZlY3QpLHQuQ2hlYnlzaGV2LmRlZmF1bHRzPXtvcmRlcjoxLG92ZXJzYW1wbGU6XCJub25lXCJ9LHQuQ2hlYnlzaGV2LnByb3RvdHlwZS5fZ2V0Q29lZmZpY2llbnQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpLmhhc093blByb3BlcnR5KGUpP2lbZV06KGlbZV09MD09PWU/MDoxPT09ZT90OjIqdCp0aGlzLl9nZXRDb2VmZmljaWVudCh0LGUtMSxpKS10aGlzLl9nZXRDb2VmZmljaWVudCh0LGUtMixpKSxpW2VdKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ2hlYnlzaGV2LnByb3RvdHlwZSxcIm9yZGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmRlcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29yZGVyPXQ7Zm9yKHZhciBlPW5ldyBBcnJheSg0MDk2KSxpPWUubGVuZ3RoLG49MDtuPGk7KytuKXt2YXIgbz0yKm4vaS0xO2Vbbl09MD09PW8/MDp0aGlzLl9nZXRDb2VmZmljaWVudChvLHQse30pfXRoaXMuX3NoYXBlci5jdXJ2ZT1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNoZWJ5c2hldi5wcm90b3R5cGUsXCJvdmVyc2FtcGxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFwZXIub3ZlcnNhbXBsZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYXBlci5vdmVyc2FtcGxlPXR9fSksdC5DaGVieXNoZXYucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9zaGFwZXIuZGlzcG9zZSgpLHRoaXMuX3NoYXBlcj1udWxsLHRoaXN9LHQuQ2hlYnlzaGV2fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDgpLGkoMTMpLGkoNzcpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5CaXRDcnVzaGVyPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiYml0c1wiXSx0LkJpdENydXNoZXIpO3QuRWZmZWN0LmNhbGwodGhpcyxlKTt2YXIgaT0xL01hdGgucG93KDIsZS5iaXRzLTEpO3RoaXMuX3N1YnRyYWN0PW5ldyB0LlN1YnRyYWN0LHRoaXMuX21vZHVsbz1uZXcgdC5Nb2R1bG8oaSksdGhpcy5fYml0cz1lLmJpdHMsdGhpcy5lZmZlY3RTZW5kLmZhbih0aGlzLl9zdWJ0cmFjdCx0aGlzLl9tb2R1bG8pLHRoaXMuX21vZHVsby5jb25uZWN0KHRoaXMuX3N1YnRyYWN0LDAsMSksdGhpcy5fc3VidHJhY3QuY29ubmVjdCh0aGlzLmVmZmVjdFJldHVybil9LHQuZXh0ZW5kKHQuQml0Q3J1c2hlcix0LkVmZmVjdCksdC5CaXRDcnVzaGVyLmRlZmF1bHRzPXtiaXRzOjR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkJpdENydXNoZXIucHJvdG90eXBlLFwiYml0c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYml0c30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2JpdHM9dDt2YXIgZT0xL01hdGgucG93KDIsdC0xKTt0aGlzLl9tb2R1bG8udmFsdWU9ZX19KSx0LkJpdENydXNoZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9zdWJ0cmFjdC5kaXNwb3NlKCksdGhpcy5fc3VidHJhY3Q9bnVsbCx0aGlzLl9tb2R1bG8uZGlzcG9zZSgpLHRoaXMuX21vZHVsbz1udWxsLHRoaXN9LHQuQml0Q3J1c2hlcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg1NyksaSg0MiksaSg4KSxpKDkpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5BdXRvV2FoPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wiYmFzZUZyZXF1ZW5jeVwiLFwib2N0YXZlc1wiLFwic2Vuc2l0aXZpdHlcIl0sdC5BdXRvV2FoKTt0LkVmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5mb2xsb3dlcj1uZXcgdC5Gb2xsb3dlcihlLmZvbGxvd2VyKSx0aGlzLl9zd2VlcFJhbmdlPW5ldyB0LlNjYWxlRXhwKDAsMSwuNSksdGhpcy5fYmFzZUZyZXF1ZW5jeT1lLmJhc2VGcmVxdWVuY3ksdGhpcy5fb2N0YXZlcz1lLm9jdGF2ZXMsdGhpcy5faW5wdXRCb29zdD1uZXcgdC5HYWluLHRoaXMuX2JhbmRwYXNzPW5ldyB0LkZpbHRlcih7cm9sbG9mZjotNDgsZnJlcXVlbmN5OjAsUTplLlF9KSx0aGlzLl9wZWFraW5nPW5ldyB0LkZpbHRlcigwLFwicGVha2luZ1wiKSx0aGlzLl9wZWFraW5nLmdhaW4udmFsdWU9ZS5nYWluLHRoaXMuZ2Fpbj10aGlzLl9wZWFraW5nLmdhaW4sdGhpcy5RPXRoaXMuX2JhbmRwYXNzLlEsdGhpcy5lZmZlY3RTZW5kLmNoYWluKHRoaXMuX2lucHV0Qm9vc3QsdGhpcy5mb2xsb3dlcix0aGlzLl9zd2VlcFJhbmdlKSx0aGlzLl9zd2VlcFJhbmdlLmNvbm5lY3QodGhpcy5fYmFuZHBhc3MuZnJlcXVlbmN5KSx0aGlzLl9zd2VlcFJhbmdlLmNvbm5lY3QodGhpcy5fcGVha2luZy5mcmVxdWVuY3kpLHRoaXMuZWZmZWN0U2VuZC5jaGFpbih0aGlzLl9iYW5kcGFzcyx0aGlzLl9wZWFraW5nLHRoaXMuZWZmZWN0UmV0dXJuKSx0aGlzLl9zZXRTd2VlcFJhbmdlKCksdGhpcy5zZW5zaXRpdml0eT1lLnNlbnNpdGl2aXR5LHRoaXMuX3JlYWRPbmx5KFtcImdhaW5cIixcIlFcIl0pfSx0LmV4dGVuZCh0LkF1dG9XYWgsdC5FZmZlY3QpLHQuQXV0b1dhaC5kZWZhdWx0cz17YmFzZUZyZXF1ZW5jeToxMDAsb2N0YXZlczo2LHNlbnNpdGl2aXR5OjAsUToyLGdhaW46Mixmb2xsb3dlcjp7YXR0YWNrOi4zLHJlbGVhc2U6LjV9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdXRvV2FoLnByb3RvdHlwZSxcIm9jdGF2ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29jdGF2ZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vY3RhdmVzPXQsdGhpcy5fc2V0U3dlZXBSYW5nZSgpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkF1dG9XYWgucHJvdG90eXBlLFwiYmFzZUZyZXF1ZW5jeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFzZUZyZXF1ZW5jeX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Jhc2VGcmVxdWVuY3k9dCx0aGlzLl9zZXRTd2VlcFJhbmdlKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQXV0b1dhaC5wcm90b3R5cGUsXCJzZW5zaXRpdml0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nYWluVG9EYigxL3RoaXMuX2lucHV0Qm9vc3QuZ2Fpbi52YWx1ZSl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pbnB1dEJvb3N0LmdhaW4udmFsdWU9MS90LmRiVG9HYWluKGUpfX0pLHQuQXV0b1dhaC5wcm90b3R5cGUuX3NldFN3ZWVwUmFuZ2U9ZnVuY3Rpb24oKXt0aGlzLl9zd2VlcFJhbmdlLm1pbj10aGlzLl9iYXNlRnJlcXVlbmN5LHRoaXMuX3N3ZWVwUmFuZ2UubWF4PU1hdGgubWluKHRoaXMuX2Jhc2VGcmVxdWVuY3kqTWF0aC5wb3coMix0aGlzLl9vY3RhdmVzKSx0aGlzLmNvbnRleHQuc2FtcGxlUmF0ZS8yKX0sdC5BdXRvV2FoLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5mb2xsb3dlci5kaXNwb3NlKCksdGhpcy5mb2xsb3dlcj1udWxsLHRoaXMuX3N3ZWVwUmFuZ2UuZGlzcG9zZSgpLHRoaXMuX3N3ZWVwUmFuZ2U9bnVsbCx0aGlzLl9iYW5kcGFzcy5kaXNwb3NlKCksdGhpcy5fYmFuZHBhc3M9bnVsbCx0aGlzLl9wZWFraW5nLmRpc3Bvc2UoKSx0aGlzLl9wZWFraW5nPW51bGwsdGhpcy5faW5wdXRCb29zdC5kaXNwb3NlKCksdGhpcy5faW5wdXRCb29zdD1udWxsLHRoaXMuX3dyaXRhYmxlKFtcImdhaW5cIixcIlFcIl0pLHRoaXMuZ2Fpbj1udWxsLHRoaXMuUT1udWxsLHRoaXN9LHQuQXV0b1dhaH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg4KSxpKDEyKSxpKDYwKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQXV0b1Bhbm5lcj1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcImZyZXF1ZW5jeVwiXSx0LkF1dG9QYW5uZXIpO3QuRWZmZWN0LmNhbGwodGhpcyxlKSx0aGlzLl9sZm89bmV3IHQuTEZPKHtmcmVxdWVuY3k6ZS5mcmVxdWVuY3ksYW1wbGl0dWRlOmUuZGVwdGgsbWluOi0xLG1heDoxfSksdGhpcy5kZXB0aD10aGlzLl9sZm8uYW1wbGl0dWRlLHRoaXMuX3Bhbm5lcj1uZXcgdC5QYW5uZXIsdGhpcy5mcmVxdWVuY3k9dGhpcy5fbGZvLmZyZXF1ZW5jeSx0aGlzLmNvbm5lY3RFZmZlY3QodGhpcy5fcGFubmVyKSx0aGlzLl9sZm8uY29ubmVjdCh0aGlzLl9wYW5uZXIucGFuKSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX3JlYWRPbmx5KFtcImRlcHRoXCIsXCJmcmVxdWVuY3lcIl0pfSx0LmV4dGVuZCh0LkF1dG9QYW5uZXIsdC5FZmZlY3QpLHQuQXV0b1Bhbm5lci5kZWZhdWx0cz17ZnJlcXVlbmN5OjEsdHlwZTpcInNpbmVcIixkZXB0aDoxfSx0LkF1dG9QYW5uZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sZm8uc3RhcnQodCksdGhpc30sdC5BdXRvUGFubmVyLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sZm8uc3RvcCh0KSx0aGlzfSx0LkF1dG9QYW5uZXIucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xmby5zeW5jKHQpLHRoaXN9LHQuQXV0b1Bhbm5lci5wcm90b3R5cGUudW5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmby51bnN5bmMoKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdXRvUGFubmVyLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmby50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbGZvLnR5cGU9dH19KSx0LkF1dG9QYW5uZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdC5FZmZlY3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9sZm8uZGlzcG9zZSgpLHRoaXMuX2xmbz1udWxsLHRoaXMuX3Bhbm5lci5kaXNwb3NlKCksdGhpcy5fcGFubmVyPW51bGwsdGhpcy5fd3JpdGFibGUoW1wiZGVwdGhcIixcImZyZXF1ZW5jeVwiXSksdGhpcy5mcmVxdWVuY3k9bnVsbCx0aGlzLmRlcHRoPW51bGwsdGhpc30sdC5BdXRvUGFubmVyfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDgpLGkoMTIpLGkoOSldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkF1dG9GaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJmcmVxdWVuY3lcIixcImJhc2VGcmVxdWVuY3lcIixcIm9jdGF2ZXNcIl0sdC5BdXRvRmlsdGVyKTt0LkVmZmVjdC5jYWxsKHRoaXMsZSksdGhpcy5fbGZvPW5ldyB0LkxGTyh7ZnJlcXVlbmN5OmUuZnJlcXVlbmN5LGFtcGxpdHVkZTplLmRlcHRofSksdGhpcy5kZXB0aD10aGlzLl9sZm8uYW1wbGl0dWRlLHRoaXMuZnJlcXVlbmN5PXRoaXMuX2xmby5mcmVxdWVuY3ksdGhpcy5maWx0ZXI9bmV3IHQuRmlsdGVyKGUuZmlsdGVyKSx0aGlzLl9vY3RhdmVzPTAsdGhpcy5jb25uZWN0RWZmZWN0KHRoaXMuZmlsdGVyKSx0aGlzLl9sZm8uY29ubmVjdCh0aGlzLmZpbHRlci5mcmVxdWVuY3kpLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5fcmVhZE9ubHkoW1wiZnJlcXVlbmN5XCIsXCJkZXB0aFwiXSksdGhpcy5vY3RhdmVzPWUub2N0YXZlcyx0aGlzLmJhc2VGcmVxdWVuY3k9ZS5iYXNlRnJlcXVlbmN5fSx0LmV4dGVuZCh0LkF1dG9GaWx0ZXIsdC5FZmZlY3QpLHQuQXV0b0ZpbHRlci5kZWZhdWx0cz17ZnJlcXVlbmN5OjEsdHlwZTpcInNpbmVcIixkZXB0aDoxLGJhc2VGcmVxdWVuY3k6MjAwLG9jdGF2ZXM6Mi42LGZpbHRlcjp7dHlwZTpcImxvd3Bhc3NcIixyb2xsb2ZmOi0xMixROjF9fSx0LkF1dG9GaWx0ZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sZm8uc3RhcnQodCksdGhpc30sdC5BdXRvRmlsdGVyLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sZm8uc3RvcCh0KSx0aGlzfSx0LkF1dG9GaWx0ZXIucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xmby5zeW5jKHQpLHRoaXN9LHQuQXV0b0ZpbHRlci5wcm90b3R5cGUudW5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmby51bnN5bmMoKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdXRvRmlsdGVyLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmby50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbGZvLnR5cGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5BdXRvRmlsdGVyLnByb3RvdHlwZSxcImJhc2VGcmVxdWVuY3lcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xmby5taW59LHNldDpmdW5jdGlvbih0KXt0aGlzLl9sZm8ubWluPXRoaXMudG9GcmVxdWVuY3kodCksdGhpcy5vY3RhdmVzPXRoaXMuX29jdGF2ZXN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQXV0b0ZpbHRlci5wcm90b3R5cGUsXCJvY3RhdmVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vY3RhdmVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb2N0YXZlcz10LHRoaXMuX2xmby5tYXg9dGhpcy5iYXNlRnJlcXVlbmN5Kk1hdGgucG93KDIsdCl9fSksdC5BdXRvRmlsdGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuRWZmZWN0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbGZvLmRpc3Bvc2UoKSx0aGlzLl9sZm89bnVsbCx0aGlzLmZpbHRlci5kaXNwb3NlKCksdGhpcy5maWx0ZXI9bnVsbCx0aGlzLl93cml0YWJsZShbXCJmcmVxdWVuY3lcIixcImRlcHRoXCJdKSx0aGlzLmZyZXF1ZW5jeT1udWxsLHRoaXMuZGVwdGg9bnVsbCx0aGlzfSx0LkF1dG9GaWx0ZXJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjMpLGkoMTApLGkoMTkpLGkoMSksaSgyMiksaSgyOCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QuTGlzdGVuZXI9ZnVuY3Rpb24oKXt0LmNhbGwodGhpcyksdGhpcy5fb3JpZW50YXRpb249WzAsMCwwLDAsMCwwXSx0aGlzLl9wb3NpdGlvbj1bMCwwLDBdLHQuZ2V0Q29udGV4dChmdW5jdGlvbigpe3RoaXMuc2V0KGUuZGVmYXVsdHMpLHRoaXMuY29udGV4dC5saXN0ZW5lcj10aGlzfS5iaW5kKHRoaXMpKX0sdC5leHRlbmQodC5MaXN0ZW5lciksdC5MaXN0ZW5lci5kZWZhdWx0cz17cG9zaXRpb25YOjAscG9zaXRpb25ZOjAscG9zaXRpb25aOjAsZm9yd2FyZFg6MCxmb3J3YXJkWTowLGZvcndhcmRaOjEsdXBYOjAsdXBZOjEsdXBaOjB9LHQuTGlzdGVuZXIucHJvdG90eXBlLmlzTGlzdGVuZXI9ITAsdC5MaXN0ZW5lci5wcm90b3R5cGUuX3JhbXBUaW1lQ29uc3RhbnQ9LjAxLHQuTGlzdGVuZXIucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5wb3NpdGlvblgpe3ZhciBuPXRoaXMubm93KCk7dGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZSh0LG4sdGhpcy5fcmFtcFRpbWVDb25zdGFudCksdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIucG9zaXRpb25ZLnNldFRhcmdldEF0VGltZShlLG4sdGhpcy5fcmFtcFRpbWVDb25zdGFudCksdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIucG9zaXRpb25aLnNldFRhcmdldEF0VGltZShpLG4sdGhpcy5fcmFtcFRpbWVDb25zdGFudCl9ZWxzZSB0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5zZXRQb3NpdGlvbih0LGUsaSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdGhpc30sdC5MaXN0ZW5lci5wcm90b3R5cGUuc2V0T3JpZW50YXRpb249ZnVuY3Rpb24odCxlLGksbixvLHMpe2lmKHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYKXt2YXIgcj10aGlzLm5vdygpO3RoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh0LHIsdGhpcy5fcmFtcFRpbWVDb25zdGFudCksdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIuZm9yd2FyZFkuc2V0VGFyZ2V0QXRUaW1lKGUscix0aGlzLl9yYW1wVGltZUNvbnN0YW50KSx0aGlzLmNvbnRleHQucmF3Q29udGV4dC5saXN0ZW5lci5mb3J3YXJkWi5zZXRUYXJnZXRBdFRpbWUoaSxyLHRoaXMuX3JhbXBUaW1lQ29uc3RhbnQpLHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUobixyLHRoaXMuX3JhbXBUaW1lQ29uc3RhbnQpLHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnVwWS5zZXRUYXJnZXRBdFRpbWUobyxyLHRoaXMuX3JhbXBUaW1lQ29uc3RhbnQpLHRoaXMuY29udGV4dC5yYXdDb250ZXh0Lmxpc3RlbmVyLnVwWi5zZXRUYXJnZXRBdFRpbWUocyxyLHRoaXMuX3JhbXBUaW1lQ29uc3RhbnQpfWVsc2UgdGhpcy5jb250ZXh0LnJhd0NvbnRleHQubGlzdGVuZXIuc2V0T3JpZW50YXRpb24odCxlLGksbixvLHMpO3JldHVybiB0aGlzLl9vcmllbnRhdGlvbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxpc3RlbmVyLnByb3RvdHlwZSxcInBvc2l0aW9uWFwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb25bMF09dCx0aGlzLnNldFBvc2l0aW9uLmFwcGx5KHRoaXMsdGhpcy5fcG9zaXRpb24pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb25bMF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTGlzdGVuZXIucHJvdG90eXBlLFwicG9zaXRpb25ZXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9wb3NpdGlvblsxXT10LHRoaXMuc2V0UG9zaXRpb24uYXBwbHkodGhpcyx0aGlzLl9wb3NpdGlvbil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvblsxXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5MaXN0ZW5lci5wcm90b3R5cGUsXCJwb3NpdGlvblpcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Bvc2l0aW9uWzJdPXQsdGhpcy5zZXRQb3NpdGlvbi5hcHBseSh0aGlzLHRoaXMuX3Bvc2l0aW9uKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uWzJdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxpc3RlbmVyLnByb3RvdHlwZSxcImZvcndhcmRYXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvblswXT10LHRoaXMuc2V0T3JpZW50YXRpb24uYXBwbHkodGhpcyx0aGlzLl9vcmllbnRhdGlvbil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvblswXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5MaXN0ZW5lci5wcm90b3R5cGUsXCJmb3J3YXJkWVwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JpZW50YXRpb25bMV09dCx0aGlzLnNldE9yaWVudGF0aW9uLmFwcGx5KHRoaXMsdGhpcy5fb3JpZW50YXRpb24pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50YXRpb25bMV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTGlzdGVuZXIucHJvdG90eXBlLFwiZm9yd2FyZFpcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29yaWVudGF0aW9uWzJdPXQsdGhpcy5zZXRPcmllbnRhdGlvbi5hcHBseSh0aGlzLHRoaXMuX29yaWVudGF0aW9uKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9uWzJdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0Lkxpc3RlbmVyLnByb3RvdHlwZSxcInVwWFwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JpZW50YXRpb25bM109dCx0aGlzLnNldE9yaWVudGF0aW9uLmFwcGx5KHRoaXMsdGhpcy5fb3JpZW50YXRpb24pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50YXRpb25bM119fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuTGlzdGVuZXIucHJvdG90eXBlLFwidXBZXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbls0XT10LHRoaXMuc2V0T3JpZW50YXRpb24uYXBwbHkodGhpcyx0aGlzLl9vcmllbnRhdGlvbil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbls0XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5MaXN0ZW5lci5wcm90b3R5cGUsXCJ1cFpcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29yaWVudGF0aW9uWzVdPXQsdGhpcy5zZXRPcmllbnRhdGlvbi5hcHBseSh0aGlzLHRoaXMuX29yaWVudGF0aW9uKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9uWzVdfX0pLHQuTGlzdGVuZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50YXRpb249bnVsbCx0aGlzLl9wb3NpdGlvbj1udWxsLHRoaXN9O3ZhciBlPXQuTGlzdGVuZXI7cmV0dXJuIHQuTGlzdGVuZXI9bmV3IGUsdC5Db250ZXh0Lm9uKFwiaW5pdFwiLGZ1bmN0aW9uKGkpe2kubGlzdGVuZXImJmkubGlzdGVuZXIuaXNMaXN0ZW5lcj90Lkxpc3RlbmVyPWkubGlzdGVuZXI6dC5MaXN0ZW5lcj1uZXcgZX0pLHQuTGlzdGVuZXJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjQpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5EcmF3PWZ1bmN0aW9uKCl7dC5jYWxsKHRoaXMpLHRoaXMuX2V2ZW50cz1uZXcgdC5UaW1lbGluZSx0aGlzLmV4cGlyYXRpb249LjI1LHRoaXMuYW50aWNpcGF0aW9uPS4wMDgsdGhpcy5fYm91bmREcmF3TG9vcD10aGlzLl9kcmF3TG9vcC5iaW5kKHRoaXMpfSx0LmV4dGVuZCh0LkRyYXcpLHQuRHJhdy5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZXZlbnRzLmFkZCh7Y2FsbGJhY2s6dCx0aW1lOnRoaXMudG9TZWNvbmRzKGUpfSksMT09PXRoaXMuX2V2ZW50cy5sZW5ndGgmJnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ib3VuZERyYXdMb29wKSx0aGlzfSx0LkRyYXcucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXZlbnRzLmNhbmNlbCh0aGlzLnRvU2Vjb25kcyh0KSksdGhpc30sdC5EcmF3LnByb3RvdHlwZS5fZHJhd0xvb3A9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dC5jb250ZXh0LmN1cnJlbnRUaW1lO3RoaXMuX2V2ZW50cy5sZW5ndGgmJnRoaXMuX2V2ZW50cy5wZWVrKCkudGltZS10aGlzLmFudGljaXBhdGlvbjw9ZTspe3ZhciBpPXRoaXMuX2V2ZW50cy5zaGlmdCgpO2UtaS50aW1lPD10aGlzLmV4cGlyYXRpb24mJmkuY2FsbGJhY2soKX10aGlzLl9ldmVudHMubGVuZ3RoPjAmJnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9ib3VuZERyYXdMb29wKX0sdC5EcmF3PW5ldyB0LkRyYXcsdC5EcmF3fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDMpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT17fTtyZXR1cm4gdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihpLG4pe2UuaGFzT3duUHJvcGVydHkoaSl8fChlW2ldPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCkpLG49dC5kZWZhdWx0QXJnKG4sMCk7dmFyIG89bmV3IHQuR2FpbihuLHQuVHlwZS5EZWNpYmVscyk7cmV0dXJuIHRoaXMuY29ubmVjdChvKSxvLmNvbm5lY3QoZVtpXSksb30sdC5wcm90b3R5cGUucmVjZWl2ZT1mdW5jdGlvbih0LGkpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpfHwoZVt0XT10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpKSxlW3RdLmNvbm5lY3QodGhpcywwLGkpLHRoaXN9LHQuQ29udGV4dC5vbihcImluaXRcIixmdW5jdGlvbih0KXt0LmJ1c2VzP2U9dC5idXNlczooZT17fSx0LmJ1c2VzPWUpfSksdH0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg0KV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ3RybFJhbmRvbT1mdW5jdGlvbigpe3ZhciBlPXQuZGVmYXVsdHMoYXJndW1lbnRzLFtcIm1pblwiLFwibWF4XCJdLHQuQ3RybFJhbmRvbSk7dC5jYWxsKHRoaXMpLHRoaXMubWluPWUubWluLHRoaXMubWF4PWUubWF4LHRoaXMuaW50ZWdlcj1lLmludGVnZXJ9LHQuZXh0ZW5kKHQuQ3RybFJhbmRvbSksdC5DdHJsUmFuZG9tLmRlZmF1bHRzPXttaW46MCxtYXg6MSxpbnRlZ2VyOiExfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5DdHJsUmFuZG9tLnByb3RvdHlwZSxcInZhbHVlXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMudG9TZWNvbmRzKHRoaXMubWluKSxlPXRoaXMudG9TZWNvbmRzKHRoaXMubWF4KSxpPU1hdGgucmFuZG9tKCksbj1pKnQrKDEtaSkqZTtyZXR1cm4gdGhpcy5pbnRlZ2VyJiYobj1NYXRoLmZsb29yKG4pKSxufX0pLHQuQ3RybFJhbmRvbX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCldLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkN0cmxNYXJrb3Y9ZnVuY3Rpb24oZSxpKXt0LmNhbGwodGhpcyksdGhpcy52YWx1ZXM9dC5kZWZhdWx0QXJnKGUse30pLHRoaXMudmFsdWU9dC5kZWZhdWx0QXJnKGksT2JqZWN0LmtleXModGhpcy52YWx1ZXMpWzBdKX0sdC5leHRlbmQodC5DdHJsTWFya292KSx0LkN0cmxNYXJrb3YucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnZhbHVlKSl7dmFyIGU9dGhpcy52YWx1ZXNbdGhpcy52YWx1ZV07aWYodC5pc0FycmF5KGUpKWZvcih2YXIgaT10aGlzLl9nZXRQcm9iRGlzdHJpYnV0aW9uKGUpLG49TWF0aC5yYW5kb20oKSxvPTAscz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgcj1pW3NdO2lmKG4+byYmbjxvK3Ipe3ZhciBhPWVbc107dC5pc09iamVjdChhKT90aGlzLnZhbHVlPWEudmFsdWU6dGhpcy52YWx1ZT1hfW8rPXJ9ZWxzZSB0aGlzLnZhbHVlPWV9cmV0dXJuIHRoaXMudmFsdWV9LHQuQ3RybE1hcmtvdi5wcm90b3R5cGUuX2dldFByb2JEaXN0cmlidXRpb249ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtdLG49MCxvPSExLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIHI9ZVtzXTt0LmlzT2JqZWN0KHIpPyhvPSEwLGlbc109ci5wcm9iYWJpbGl0eSk6aVtzXT0xL2UubGVuZ3RoLG4rPWlbc119aWYobylmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpW2FdPWlbYV0vbjtyZXR1cm4gaX0sdC5DdHJsTWFya292LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZXM9bnVsbH0sdC5DdHJsTWFya292fS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDQpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5DdHJsSW50ZXJwb2xhdGU9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ2YWx1ZXNcIixcImluZGV4XCJdLHQuQ3RybEludGVycG9sYXRlKTt0LmNhbGwodGhpcyksdGhpcy52YWx1ZXM9ZS52YWx1ZXMsdGhpcy5pbmRleD1lLmluZGV4fSx0LmV4dGVuZCh0LkN0cmxJbnRlcnBvbGF0ZSksdC5DdHJsSW50ZXJwb2xhdGUuZGVmYXVsdHM9e2luZGV4OjAsdmFsdWVzOltdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5DdHJsSW50ZXJwb2xhdGUucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pbmRleDt0PU1hdGgubWluKHQsdGhpcy52YWx1ZXMubGVuZ3RoLTEpO3ZhciBlPU1hdGguZmxvb3IodCksaT10aGlzLnZhbHVlc1tlXSxuPXRoaXMudmFsdWVzW01hdGguY2VpbCh0KV07cmV0dXJuIHRoaXMuX2ludGVycG9sYXRlKHQtZSxpLG4pfX0pLHQuQ3RybEludGVycG9sYXRlLnByb3RvdHlwZS5faW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSxpLG4pe2lmKHQuaXNBcnJheShpKSl7Zm9yKHZhciBvPVtdLHM9MDtzPGkubGVuZ3RoO3MrKylvW3NdPXRoaXMuX2ludGVycG9sYXRlKGUsaVtzXSxuW3NdKTtyZXR1cm4gb31pZih0LmlzT2JqZWN0KGkpKXt2YXIgcj17fTtmb3IodmFyIGEgaW4gaSlyW2FdPXRoaXMuX2ludGVycG9sYXRlKGUsaVthXSxuW2FdKTtyZXR1cm4gcn1yZXR1cm4oMS1lKSooaT10aGlzLl90b051bWJlcihpKSkrZSoobj10aGlzLl90b051bWJlcihuKSl9LHQuQ3RybEludGVycG9sYXRlLnByb3RvdHlwZS5fdG9OdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNOdW1iZXIoZSk/ZTp0aGlzLnRvU2Vjb25kcyhlKX0sdC5DdHJsSW50ZXJwb2xhdGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnZhbHVlcz1udWxsfSx0LkN0cmxJbnRlcnBvbGF0ZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg0NCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuV2F2ZWZvcm09ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJzaXplXCJdLHQuV2F2ZWZvcm0pO2UudHlwZT10LkFuYWx5c2VyLlR5cGUuV2F2ZWZvcm0sdC5BdWRpb05vZGUuY2FsbCh0aGlzKSx0aGlzLl9hbmFseXNlcj10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LkFuYWx5c2VyKGUpfSx0LmV4dGVuZCh0LldhdmVmb3JtLHQuQXVkaW9Ob2RlKSx0LldhdmVmb3JtLmRlZmF1bHRzPXtzaXplOjEwMjR9LHQuV2F2ZWZvcm0ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2VyLmdldFZhbHVlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LldhdmVmb3JtLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2VyLnNpemV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9hbmFseXNlci5zaXplPXR9fSksdC5XYXZlZm9ybS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3QuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fYW5hbHlzZXIuZGlzcG9zZSgpLHRoaXMuX2FuYWx5c2VyPW51bGx9LHQuV2F2ZWZvcm19LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoMjMpLGkoMTApLGkoMTkpLGkoMSksaSgyMiksaSgyOCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUGFubmVyM0Q9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJwb3NpdGlvblhcIixcInBvc2l0aW9uWVwiLFwicG9zaXRpb25aXCJdLHQuUGFubmVyM0QpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5fcGFubmVyPXRoaXMuaW5wdXQ9dGhpcy5vdXRwdXQ9dGhpcy5jb250ZXh0LmNyZWF0ZVBhbm5lcigpLHRoaXMuX3Bhbm5lci5wYW5uaW5nTW9kZWw9ZS5wYW5uaW5nTW9kZWwsdGhpcy5fcGFubmVyLm1heERpc3RhbmNlPWUubWF4RGlzdGFuY2UsdGhpcy5fcGFubmVyLmRpc3RhbmNlTW9kZWw9ZS5kaXN0YW5jZU1vZGVsLHRoaXMuX3Bhbm5lci5jb25lT3V0ZXJHYWluPWUuY29uZU91dGVyR2Fpbix0aGlzLl9wYW5uZXIuY29uZU91dGVyQW5nbGU9ZS5jb25lT3V0ZXJBbmdsZSx0aGlzLl9wYW5uZXIuY29uZUlubmVyQW5nbGU9ZS5jb25lSW5uZXJBbmdsZSx0aGlzLl9wYW5uZXIucmVmRGlzdGFuY2U9ZS5yZWZEaXN0YW5jZSx0aGlzLl9wYW5uZXIucm9sbG9mZkZhY3Rvcj1lLnJvbGxvZmZGYWN0b3IsdGhpcy5fb3JpZW50YXRpb249W2Uub3JpZW50YXRpb25YLGUub3JpZW50YXRpb25ZLGUub3JpZW50YXRpb25aXSx0aGlzLl9wb3NpdGlvbj1bZS5wb3NpdGlvblgsZS5wb3NpdGlvblksZS5wb3NpdGlvblpdLHRoaXMub3JpZW50YXRpb25YPWUub3JpZW50YXRpb25YLHRoaXMub3JpZW50YXRpb25ZPWUub3JpZW50YXRpb25ZLHRoaXMub3JpZW50YXRpb25aPWUub3JpZW50YXRpb25aLHRoaXMucG9zaXRpb25YPWUucG9zaXRpb25YLHRoaXMucG9zaXRpb25ZPWUucG9zaXRpb25ZLHRoaXMucG9zaXRpb25aPWUucG9zaXRpb25afSx0LmV4dGVuZCh0LlBhbm5lcjNELHQuQXVkaW9Ob2RlKSx0LlBhbm5lcjNELmRlZmF1bHRzPXtwb3NpdGlvblg6MCxwb3NpdGlvblk6MCxwb3NpdGlvblo6MCxvcmllbnRhdGlvblg6MCxvcmllbnRhdGlvblk6MCxvcmllbnRhdGlvblo6MCxwYW5uaW5nTW9kZWw6XCJlcXVhbHBvd2VyXCIsbWF4RGlzdGFuY2U6MWU0LGRpc3RhbmNlTW9kZWw6XCJpbnZlcnNlXCIsY29uZU91dGVyR2FpbjowLGNvbmVPdXRlckFuZ2xlOjM2MCxjb25lSW5uZXJBbmdsZTozNjAscmVmRGlzdGFuY2U6MSxyb2xsb2ZmRmFjdG9yOjF9LHQuUGFubmVyM0QucHJvdG90eXBlLl9yYW1wVGltZUNvbnN0YW50PS4wMSx0LlBhbm5lcjNELnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0LGUsaSl7aWYodGhpcy5fcGFubmVyLnBvc2l0aW9uWCl7dmFyIG49dGhpcy5ub3coKTt0aGlzLl9wYW5uZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZSh0LG4sdGhpcy5fcmFtcFRpbWVDb25zdGFudCksdGhpcy5fcGFubmVyLnBvc2l0aW9uWS5zZXRUYXJnZXRBdFRpbWUoZSxuLHRoaXMuX3JhbXBUaW1lQ29uc3RhbnQpLHRoaXMuX3Bhbm5lci5wb3NpdGlvblouc2V0VGFyZ2V0QXRUaW1lKGksbix0aGlzLl9yYW1wVGltZUNvbnN0YW50KX1lbHNlIHRoaXMuX3Bhbm5lci5zZXRQb3NpdGlvbih0LGUsaSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdGhpc30sdC5QYW5uZXIzRC5wcm90b3R5cGUuc2V0T3JpZW50YXRpb249ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuX3Bhbm5lci5vcmllbnRhdGlvblgpe3ZhciBuPXRoaXMubm93KCk7dGhpcy5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRUYXJnZXRBdFRpbWUodCxuLHRoaXMuX3JhbXBUaW1lQ29uc3RhbnQpLHRoaXMuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VGFyZ2V0QXRUaW1lKGUsbix0aGlzLl9yYW1wVGltZUNvbnN0YW50KSx0aGlzLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFRhcmdldEF0VGltZShpLG4sdGhpcy5fcmFtcFRpbWVDb25zdGFudCl9ZWxzZSB0aGlzLl9wYW5uZXIuc2V0T3JpZW50YXRpb24odCxlLGkpO3JldHVybiB0aGlzLl9vcmllbnRhdGlvbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBhbm5lcjNELnByb3RvdHlwZSxcInBvc2l0aW9uWFwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb25bMF09dCx0aGlzLnNldFBvc2l0aW9uLmFwcGx5KHRoaXMsdGhpcy5fcG9zaXRpb24pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb25bMF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFubmVyM0QucHJvdG90eXBlLFwicG9zaXRpb25ZXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9wb3NpdGlvblsxXT10LHRoaXMuc2V0UG9zaXRpb24uYXBwbHkodGhpcyx0aGlzLl9wb3NpdGlvbil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvblsxXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QYW5uZXIzRC5wcm90b3R5cGUsXCJwb3NpdGlvblpcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Bvc2l0aW9uWzJdPXQsdGhpcy5zZXRQb3NpdGlvbi5hcHBseSh0aGlzLHRoaXMuX3Bvc2l0aW9uKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uWzJdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlBhbm5lcjNELnByb3RvdHlwZSxcIm9yaWVudGF0aW9uWFwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JpZW50YXRpb25bMF09dCx0aGlzLnNldE9yaWVudGF0aW9uLmFwcGx5KHRoaXMsdGhpcy5fb3JpZW50YXRpb24pfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZW50YXRpb25bMF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFubmVyM0QucHJvdG90eXBlLFwib3JpZW50YXRpb25ZXCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvblsxXT10LHRoaXMuc2V0T3JpZW50YXRpb24uYXBwbHkodGhpcyx0aGlzLl9vcmllbnRhdGlvbil9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvblsxXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5QYW5uZXIzRC5wcm90b3R5cGUsXCJvcmllbnRhdGlvblpcIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29yaWVudGF0aW9uWzJdPXQsdGhpcy5zZXRPcmllbnRhdGlvbi5hcHBseSh0aGlzLHRoaXMuX29yaWVudGF0aW9uKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9uWzJdfX0pLHQuUGFubmVyM0QuX2FsaWFzUHJvcGVydHk9ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUGFubmVyM0QucHJvdG90eXBlLGUse3NldDpmdW5jdGlvbih0KXt0aGlzLl9wYW5uZXJbZV09dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bhbm5lcltlXX19KX0sdC5QYW5uZXIzRC5fYWxpYXNQcm9wZXJ0eShcInBhbm5pbmdNb2RlbFwiKSx0LlBhbm5lcjNELl9hbGlhc1Byb3BlcnR5KFwicmVmRGlzdGFuY2VcIiksdC5QYW5uZXIzRC5fYWxpYXNQcm9wZXJ0eShcInJvbGxvZmZGYWN0b3JcIiksdC5QYW5uZXIzRC5fYWxpYXNQcm9wZXJ0eShcImRpc3RhbmNlTW9kZWxcIiksdC5QYW5uZXIzRC5fYWxpYXNQcm9wZXJ0eShcImNvbmVJbm5lckFuZ2xlXCIpLHQuUGFubmVyM0QuX2FsaWFzUHJvcGVydHkoXCJjb25lT3V0ZXJBbmdsZVwiKSx0LlBhbm5lcjNELl9hbGlhc1Byb3BlcnR5KFwiY29uZU91dGVyR2FpblwiKSx0LlBhbm5lcjNELl9hbGlhc1Byb3BlcnR5KFwibWF4RGlzdGFuY2VcIiksdC5QYW5uZXIzRC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3Bhbm5lci5kaXNjb25uZWN0KCksdGhpcy5fcGFubmVyPW51bGwsdGhpcy5fb3JpZW50YXRpb249bnVsbCx0aGlzLl9wb3NpdGlvbj1udWxsLHRoaXN9LHQuUGFubmVyM0R9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNTkpLGkoNDMpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk11bHRpYmFuZENvbXByZXNzb3I9ZnVuY3Rpb24oZSl7dC5BdWRpb05vZGUuY2FsbCh0aGlzKSxlPXQuZGVmYXVsdEFyZyhhcmd1bWVudHMsdC5NdWx0aWJhbmRDb21wcmVzc29yLmRlZmF1bHRzKSx0aGlzLl9zcGxpdHRlcj10aGlzLmlucHV0PW5ldyB0Lk11bHRpYmFuZFNwbGl0KHtsb3dGcmVxdWVuY3k6ZS5sb3dGcmVxdWVuY3ksaGlnaEZyZXF1ZW5jeTplLmhpZ2hGcmVxdWVuY3l9KSx0aGlzLmxvd0ZyZXF1ZW5jeT10aGlzLl9zcGxpdHRlci5sb3dGcmVxdWVuY3ksdGhpcy5oaWdoRnJlcXVlbmN5PXRoaXMuX3NwbGl0dGVyLmhpZ2hGcmVxdWVuY3ksdGhpcy5vdXRwdXQ9bmV3IHQuR2Fpbix0aGlzLmxvdz1uZXcgdC5Db21wcmVzc29yKGUubG93KSx0aGlzLm1pZD1uZXcgdC5Db21wcmVzc29yKGUubWlkKSx0aGlzLmhpZ2g9bmV3IHQuQ29tcHJlc3NvcihlLmhpZ2gpLHRoaXMuX3NwbGl0dGVyLmxvdy5jaGFpbih0aGlzLmxvdyx0aGlzLm91dHB1dCksdGhpcy5fc3BsaXR0ZXIubWlkLmNoYWluKHRoaXMubWlkLHRoaXMub3V0cHV0KSx0aGlzLl9zcGxpdHRlci5oaWdoLmNoYWluKHRoaXMuaGlnaCx0aGlzLm91dHB1dCksdGhpcy5fcmVhZE9ubHkoW1wiaGlnaFwiLFwibWlkXCIsXCJsb3dcIixcImhpZ2hGcmVxdWVuY3lcIixcImxvd0ZyZXF1ZW5jeVwiXSl9LHQuZXh0ZW5kKHQuTXVsdGliYW5kQ29tcHJlc3Nvcix0LkF1ZGlvTm9kZSksdC5NdWx0aWJhbmRDb21wcmVzc29yLmRlZmF1bHRzPXtsb3c6dC5Db21wcmVzc29yLmRlZmF1bHRzLG1pZDp0LkNvbXByZXNzb3IuZGVmYXVsdHMsaGlnaDp0LkNvbXByZXNzb3IuZGVmYXVsdHMsbG93RnJlcXVlbmN5OjI1MCxoaWdoRnJlcXVlbmN5OjJlM30sdC5NdWx0aWJhbmRDb21wcmVzc29yLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fc3BsaXR0ZXIuZGlzcG9zZSgpLHRoaXMuX3dyaXRhYmxlKFtcImhpZ2hcIixcIm1pZFwiLFwibG93XCIsXCJoaWdoRnJlcXVlbmN5XCIsXCJsb3dGcmVxdWVuY3lcIl0pLHRoaXMubG93LmRpc3Bvc2UoKSx0aGlzLm1pZC5kaXNwb3NlKCksdGhpcy5oaWdoLmRpc3Bvc2UoKSx0aGlzLl9zcGxpdHRlcj1udWxsLHRoaXMubG93PW51bGwsdGhpcy5taWQ9bnVsbCx0aGlzLmhpZ2g9bnVsbCx0aGlzLmxvd0ZyZXF1ZW5jeT1udWxsLHRoaXMuaGlnaEZyZXF1ZW5jeT1udWxsLHRoaXN9LHQuTXVsdGliYW5kQ29tcHJlc3Nvcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSgxMCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTW9ubz1mdW5jdGlvbigpe3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5jcmVhdGVJbnNPdXRzKDEsMCksdGhpcy5fbWVyZ2U9dGhpcy5vdXRwdXQ9bmV3IHQuTWVyZ2UsdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMuX21lcmdlLDAsMCksdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMuX21lcmdlLDAsMSl9LHQuZXh0ZW5kKHQuTW9ubyx0LkF1ZGlvTm9kZSksdC5Nb25vLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fbWVyZ2UuZGlzcG9zZSgpLHRoaXMuX21lcmdlPW51bGwsdGhpc30sdC5Nb25vfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDUyKSxpKDUxKSxpKDQzKSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5NaWRTaWRlQ29tcHJlc3Nvcj1mdW5jdGlvbihlKXt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLGU9dC5kZWZhdWx0QXJnKGUsdC5NaWRTaWRlQ29tcHJlc3Nvci5kZWZhdWx0cyksdGhpcy5fbWlkU2lkZVNwbGl0PXRoaXMuaW5wdXQ9bmV3IHQuTWlkU2lkZVNwbGl0LHRoaXMuX21pZFNpZGVNZXJnZT10aGlzLm91dHB1dD1uZXcgdC5NaWRTaWRlTWVyZ2UsdGhpcy5taWQ9bmV3IHQuQ29tcHJlc3NvcihlLm1pZCksdGhpcy5zaWRlPW5ldyB0LkNvbXByZXNzb3IoZS5zaWRlKSx0aGlzLl9taWRTaWRlU3BsaXQubWlkLmNoYWluKHRoaXMubWlkLHRoaXMuX21pZFNpZGVNZXJnZS5taWQpLHRoaXMuX21pZFNpZGVTcGxpdC5zaWRlLmNoYWluKHRoaXMuc2lkZSx0aGlzLl9taWRTaWRlTWVyZ2Uuc2lkZSksdGhpcy5fcmVhZE9ubHkoW1wibWlkXCIsXCJzaWRlXCJdKX0sdC5leHRlbmQodC5NaWRTaWRlQ29tcHJlc3Nvcix0LkF1ZGlvTm9kZSksdC5NaWRTaWRlQ29tcHJlc3Nvci5kZWZhdWx0cz17bWlkOntyYXRpbzozLHRocmVzaG9sZDotMjQscmVsZWFzZTouMDMsYXR0YWNrOi4wMixrbmVlOjE2fSxzaWRlOntyYXRpbzo2LHRocmVzaG9sZDotMzAscmVsZWFzZTouMjUsYXR0YWNrOi4wMyxrbmVlOjEwfX0sdC5NaWRTaWRlQ29tcHJlc3Nvci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcIm1pZFwiLFwic2lkZVwiXSksdGhpcy5taWQuZGlzcG9zZSgpLHRoaXMubWlkPW51bGwsdGhpcy5zaWRlLmRpc3Bvc2UoKSx0aGlzLnNpZGU9bnVsbCx0aGlzLl9taWRTaWRlU3BsaXQuZGlzcG9zZSgpLHRoaXMuX21pZFNpZGVTcGxpdD1udWxsLHRoaXMuX21pZFNpZGVNZXJnZS5kaXNwb3NlKCksdGhpcy5fbWlkU2lkZU1lcmdlPW51bGwsdGhpc30sdC5NaWRTaWRlQ29tcHJlc3Nvcn0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg0NCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTWV0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJzbW9vdGhpbmdcIl0sdC5NZXRlcik7dC5BdWRpb05vZGUuY2FsbCh0aGlzKSx0aGlzLnNtb290aGluZz1lLnNtb290aGluZyx0aGlzLl9ybXM9MCx0aGlzLmlucHV0PXRoaXMub3V0cHV0PXRoaXMuX2FuYWx5c2VyPW5ldyB0LkFuYWx5c2VyKFwid2F2ZWZvcm1cIiwyNTYpfSx0LmV4dGVuZCh0Lk1ldGVyLHQuQXVkaW9Ob2RlKSx0Lk1ldGVyLmRlZmF1bHRzPXtzbW9vdGhpbmc6Ljh9LHQuTWV0ZXIucHJvdG90eXBlLmdldExldmVsPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2FuYWx5c2VyLmdldFZhbHVlKCksaT0wLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtpKz1vKm99dmFyIHM9TWF0aC5zcXJ0KGkvZS5sZW5ndGgpO3JldHVybiB0aGlzLl9ybXM9TWF0aC5tYXgocyx0aGlzLl9ybXMqdGhpcy5zbW9vdGhpbmcpLHQuZ2FpblRvRGIodGhpcy5fcm1zKX0sdC5NZXRlci5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW5hbHlzZXIuZ2V0VmFsdWUoKVswXX0sdC5NZXRlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2FuYWx5c2VyLmRpc3Bvc2UoKSx0aGlzLl9hbmFseXNlcj1udWxsLHRoaXN9LHQuTWV0ZXJ9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNDMpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkxpbWl0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ0aHJlc2hvbGRcIl0sdC5MaW1pdGVyKTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuX2NvbXByZXNzb3I9dGhpcy5pbnB1dD10aGlzLm91dHB1dD1uZXcgdC5Db21wcmVzc29yKHthdHRhY2s6LjAwMSxkZWNheTouMDAxLHRocmVzaG9sZDplLnRocmVzaG9sZH0pLHRoaXMudGhyZXNob2xkPXRoaXMuX2NvbXByZXNzb3IudGhyZXNob2xkLHRoaXMuX3JlYWRPbmx5KFwidGhyZXNob2xkXCIpfSx0LmV4dGVuZCh0LkxpbWl0ZXIsdC5BdWRpb05vZGUpLHQuTGltaXRlci5kZWZhdWx0cz17dGhyZXNob2xkOi0xMn0sdC5MaW1pdGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuQXVkaW9Ob2RlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyksdGhpcy5fY29tcHJlc3Nvci5kaXNwb3NlKCksdGhpcy5fY29tcHJlc3Nvcj1udWxsLHRoaXMuX3dyaXRhYmxlKFwidGhyZXNob2xkXCIpLHRoaXMudGhyZXNob2xkPW51bGwsdGhpc30sdC5MaW1pdGVyfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlLGkpe3ZhciBuLG87bj1baSgwKSxpKDU3KSxpKDg4KSxpKDIpXSx2b2lkIDA9PT0obz1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5HYXRlPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1widGhyZXNob2xkXCIsXCJzbW9vdGhpbmdcIl0sdC5HYXRlKTt0LkF1ZGlvTm9kZS5jYWxsKHRoaXMpLHRoaXMuY3JlYXRlSW5zT3V0cygxLDEpLHRoaXMuX2ZvbGxvd2VyPW5ldyB0LkZvbGxvd2VyKGUuc21vb3RoaW5nKSx0aGlzLl9ndD1uZXcgdC5HcmVhdGVyVGhhbih0LmRiVG9HYWluKGUudGhyZXNob2xkKSksdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMub3V0cHV0KSx0aGlzLmlucHV0LmNoYWluKHRoaXMuX2ZvbGxvd2VyLHRoaXMuX2d0LHRoaXMub3V0cHV0LmdhaW4pfSx0LmV4dGVuZCh0LkdhdGUsdC5BdWRpb05vZGUpLHQuR2F0ZS5kZWZhdWx0cz17c21vb3RoaW5nOi4xLHRocmVzaG9sZDotNDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkdhdGUucHJvdG90eXBlLFwidGhyZXNob2xkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmdhaW5Ub0RiKHRoaXMuX2d0LnZhbHVlKX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2d0LnZhbHVlPXQuZGJUb0dhaW4oZSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuR2F0ZS5wcm90b3R5cGUsXCJzbW9vdGhpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbGxvd2VyLnNtb290aGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbGxvd2VyLnNtb290aGluZz10fX0pLHQuR2F0ZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX2ZvbGxvd2VyLmRpc3Bvc2UoKSx0aGlzLl9ndC5kaXNwb3NlKCksdGhpcy5fZm9sbG93ZXI9bnVsbCx0aGlzLl9ndD1udWxsLHRoaXN9LHQuR2F0ZX0uYXBwbHkoZSxuKSl8fCh0LmV4cG9ydHM9byl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO249W2koMCksaSg0NCksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuRkZUPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wic2l6ZVwiXSx0LkZGVCk7ZS50eXBlPXQuQW5hbHlzZXIuVHlwZS5GRlQsdC5BdWRpb05vZGUuY2FsbCh0aGlzKSx0aGlzLl9hbmFseXNlcj10aGlzLmlucHV0PXRoaXMub3V0cHV0PW5ldyB0LkFuYWx5c2VyKGUpfSx0LmV4dGVuZCh0LkZGVCx0LkF1ZGlvTm9kZSksdC5GRlQuZGVmYXVsdHM9e3NpemU6MTAyNH0sdC5GRlQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuYWx5c2VyLmdldFZhbHVlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkZGVC5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmFseXNlci5zaXplfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5hbHlzZXIuc2l6ZT10fX0pLHQuRkZULnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dC5BdWRpb05vZGUucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9hbmFseXNlci5kaXNwb3NlKCksdGhpcy5fYW5hbHlzZXI9bnVsbH0sdC5GRlR9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoNTkpLGkoMyksaSgyKV0sdm9pZCAwPT09KG89ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRVEzPWZ1bmN0aW9uKCl7dmFyIGU9dC5kZWZhdWx0cyhhcmd1bWVudHMsW1wibG93XCIsXCJtaWRcIixcImhpZ2hcIl0sdC5FUTMpO3QuQXVkaW9Ob2RlLmNhbGwodGhpcyksdGhpcy5vdXRwdXQ9bmV3IHQuR2Fpbix0aGlzLl9tdWx0aWJhbmRTcGxpdD10aGlzLmlucHV0PW5ldyB0Lk11bHRpYmFuZFNwbGl0KHtsb3dGcmVxdWVuY3k6ZS5sb3dGcmVxdWVuY3ksaGlnaEZyZXF1ZW5jeTplLmhpZ2hGcmVxdWVuY3l9KSx0aGlzLl9sb3dHYWluPW5ldyB0LkdhaW4oZS5sb3csdC5UeXBlLkRlY2liZWxzKSx0aGlzLl9taWRHYWluPW5ldyB0LkdhaW4oZS5taWQsdC5UeXBlLkRlY2liZWxzKSx0aGlzLl9oaWdoR2Fpbj1uZXcgdC5HYWluKGUuaGlnaCx0LlR5cGUuRGVjaWJlbHMpLHRoaXMubG93PXRoaXMuX2xvd0dhaW4uZ2Fpbix0aGlzLm1pZD10aGlzLl9taWRHYWluLmdhaW4sdGhpcy5oaWdoPXRoaXMuX2hpZ2hHYWluLmdhaW4sdGhpcy5RPXRoaXMuX211bHRpYmFuZFNwbGl0LlEsdGhpcy5sb3dGcmVxdWVuY3k9dGhpcy5fbXVsdGliYW5kU3BsaXQubG93RnJlcXVlbmN5LHRoaXMuaGlnaEZyZXF1ZW5jeT10aGlzLl9tdWx0aWJhbmRTcGxpdC5oaWdoRnJlcXVlbmN5LHRoaXMuX211bHRpYmFuZFNwbGl0Lmxvdy5jaGFpbih0aGlzLl9sb3dHYWluLHRoaXMub3V0cHV0KSx0aGlzLl9tdWx0aWJhbmRTcGxpdC5taWQuY2hhaW4odGhpcy5fbWlkR2Fpbix0aGlzLm91dHB1dCksdGhpcy5fbXVsdGliYW5kU3BsaXQuaGlnaC5jaGFpbih0aGlzLl9oaWdoR2Fpbix0aGlzLm91dHB1dCksdGhpcy5fcmVhZE9ubHkoW1wibG93XCIsXCJtaWRcIixcImhpZ2hcIixcImxvd0ZyZXF1ZW5jeVwiLFwiaGlnaEZyZXF1ZW5jeVwiXSl9LHQuZXh0ZW5kKHQuRVEzLHQuQXVkaW9Ob2RlKSx0LkVRMy5kZWZhdWx0cz17bG93OjAsbWlkOjAsaGlnaDowLGxvd0ZyZXF1ZW5jeTo0MDAsaGlnaEZyZXF1ZW5jeToyNTAwfSx0LkVRMy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcImxvd1wiLFwibWlkXCIsXCJoaWdoXCIsXCJsb3dGcmVxdWVuY3lcIixcImhpZ2hGcmVxdWVuY3lcIl0pLHRoaXMuX211bHRpYmFuZFNwbGl0LmRpc3Bvc2UoKSx0aGlzLl9tdWx0aWJhbmRTcGxpdD1udWxsLHRoaXMubG93RnJlcXVlbmN5PW51bGwsdGhpcy5oaWdoRnJlcXVlbmN5PW51bGwsdGhpcy5fbG93R2Fpbi5kaXNwb3NlKCksdGhpcy5fbG93R2Fpbj1udWxsLHRoaXMuX21pZEdhaW4uZGlzcG9zZSgpLHRoaXMuX21pZEdhaW49bnVsbCx0aGlzLl9oaWdoR2Fpbi5kaXNwb3NlKCksdGhpcy5faGlnaEdhaW49bnVsbCx0aGlzLmxvdz1udWxsLHRoaXMubWlkPW51bGwsdGhpcy5oaWdoPW51bGwsdGhpcy5RPW51bGwsdGhpc30sdC5FUTN9LmFwcGx5KGUsbikpfHwodC5leHBvcnRzPW8pfSxmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztuPVtpKDApLGkoOTUpLGkoOTEpLGkoMildLHZvaWQgMD09PShvPWZ1bmN0aW9uKHQpe3JldHVybiB0LkNoYW5uZWw9ZnVuY3Rpb24oKXt2YXIgZT10LmRlZmF1bHRzKGFyZ3VtZW50cyxbXCJ2b2x1bWVcIixcInBhblwiXSx0LlBhblZvbCk7dC5BdWRpb05vZGUuY2FsbCh0aGlzLGUpLHRoaXMuX3NvbG89dGhpcy5pbnB1dD1uZXcgdC5Tb2xvKGUuc29sbyksdGhpcy5fcGFuVm9sPXRoaXMub3V0cHV0PW5ldyB0LlBhblZvbCh7cGFuOmUucGFuLHZvbHVtZTplLnZvbHVtZSxtdXRlOmUubXV0ZX0pLHRoaXMucGFuPXRoaXMuX3BhblZvbC5wYW4sdGhpcy52b2x1bWU9dGhpcy5fcGFuVm9sLnZvbHVtZSx0aGlzLl9zb2xvLmNvbm5lY3QodGhpcy5fcGFuVm9sKSx0aGlzLl9yZWFkT25seShbXCJwYW5cIixcInZvbHVtZVwiXSl9LHQuZXh0ZW5kKHQuQ2hhbm5lbCx0LkF1ZGlvTm9kZSksdC5DaGFubmVsLmRlZmF1bHRzPXtwYW46MCx2b2x1bWU6MCxtdXRlOiExLHNvbG86ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNoYW5uZWwucHJvdG90eXBlLFwic29sb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc29sby5zb2xvfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc29sby5zb2xvPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuQ2hhbm5lbC5wcm90b3R5cGUsXCJtdXRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc29sby5tdXRlZHx8dGhpcy5tdXRlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LkNoYW5uZWwucHJvdG90eXBlLFwibXV0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuVm9sLm11dGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYW5Wb2wubXV0ZT10fX0pLHQuQ2hhbm5lbC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3JldHVybiB0LkF1ZGlvTm9kZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpLHRoaXMuX3dyaXRhYmxlKFtcInBhblwiLFwidm9sdW1lXCJdKSx0aGlzLl9wYW5Wb2wuZGlzcG9zZSgpLHRoaXMuX3BhblZvbD1udWxsLHRoaXMucGFuPW51bGwsdGhpcy52b2x1bWU9bnVsbCx0aGlzLl9zb2xvLmRpc3Bvc2UoKSx0aGlzLl9zb2xvPW51bGwsdGhpc30sdC5DaGFubmVsfS5hcHBseShlLG4pKXx8KHQuZXhwb3J0cz1vKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIxMy40LjlcIn0sZnVuY3Rpb24odCxlKXt2YXIgaTtpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e2k9aXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKGk9d2luZG93KX10LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLGkpe2koMzApLGkoNDQpLGkoMTUyKSxpKDQzKSxpKDIzKSxpKDQ3KSxpKDE1MSksaSg1OCksaSgxNTApLGkoOSksaSg1NyksaSg0MSksaSgxNDkpLGkoMTIpLGkoMTQ4KSxpKDUzKSxpKDEwKSxpKDE0NyksaSgxNDYpLGkoNTEpLGkoNTIpLGkoMTQ1KSxpKDE0NCksaSg1OSksaSg2MCksaSgxNDMpLGkoOTUpLGkoODkpLGkoOTEpLGkoMTkpLGkoMjcpLGkoMTQyKSxpKDE0MSksaSgxNDApLGkoODApLGkoMTM5KSxpKDIpLGkoMTEpLGkoNzkpLGkoMTM4KSxpKDg2KSxpKDIwKSxpKDE4KSxpKDEzNyksaSgzNSksaSgzKSxpKDg0KSxpKDEzNiksaSg0MCksaSg3OCksaSg2MiksaSgxNCksaSgyNCksaSgzMyksaSgxNiksaSg1NSksaSg4MyksaSgxMzUpLGkoMTM0KSxpKDEzMyksaSgxMzIpLGkoMTMxKSxpKDEzMCksaSg3NiksaSgxMjkpLGkoOCksaSgxMjgpLGkoMzIpLGkoMTI3KSxpKDEyNiksaSg3NSksaSgxMjUpLGkoMTI0KSxpKDEyMyksaSgxMjIpLGkoMTUpLGkoMTIxKSxpKDEyMCksaSg3NCksaSgxMTkpLGkoMTE4KSxpKDUwKSxpKDczKSxpKDcyKSxpKDExNyksaSgxMTYpLGkoMTE1KSxpKDExNCksaSgxMTMpLGkoMjEpLGkoMTEyKSxpKDExMSksaSgyNSksaSg2OCksaSgxMTApLGkoMTA5KSxpKDEwOCksaSgxMDcpLGkoMzgpLGkoOTYpLGkoODEpLGkoMzQpLGkoNjMpLGkoOTcpLGkoNjYpLGkoMTA2KSxpKDkyKSxpKDk4KSxpKDkwKSxpKDI5KSxpKDIyKSxpKDkzKSxpKDEwNSksaSg4OCksaSg4NyksaSg3NyksaSg1KSxpKDk0KSxpKDEwNCksaSg2MSksaSgyNiksaSg0MiksaSgxKSxpKDM2KSxpKDEzKSxpKDg1KSxpKDEwMyksaSg3KSxpKDI4KSxpKDcwKSxpKDMxKSxpKDY5KSxpKDQ4KSxpKDEwMiksaSgzOSksaSgzNyksaSgxNyksaSg4MiksaSg2NyksaSgxMDEpLGkoNDkpLGkoNzEpLGkoNiksaSg1NiksaSgxMDApLGkoNDYpLGkoOTkpLGkoNTQpLGkoNjUpLGkoNjQpLGkoNDUpLGkoNCksdC5leHBvcnRzPWkoMCl9XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRvbmUuanMubWFwIiwiaW1wb3J0ICogYXMgdG9uZSBmcm9tIFwidG9uZVwiO1xyXG5pbXBvcnQgeyBhc3NlcnROZXZlciwgbm90ZXMgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG5pbXBvcnQgeyBpbnN0cnVtZW50RGF0YSB9IGZyb20gXCIuL2RhdGFcIjtcclxuXHJcbmZ1bmN0aW9uIHNldFNhbXBsZXJSZWxlYXNlKHNhbXBsZXI6IHRvbmUuU2FtcGxlciwgaW5zdHJ1bWVudDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBpbnN0cnVtZW50RHVyYXRpb24gPSBpbnN0cnVtZW50RGF0YVtpbnN0cnVtZW50XVtcImR1cmF0aW9uXCJdO1xyXG5cclxuICAgIHN3aXRjaCAoaW5zdHJ1bWVudER1cmF0aW9uKSB7XHJcbiAgICAgICAgY2FzZSBcImluc3RhbnRcIjpcclxuICAgICAgICAgICAgc2FtcGxlci5yZWxlYXNlID0gMC4wNTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIm1pbmlcIjpcclxuICAgICAgICAgICAgc2FtcGxlci5yZWxlYXNlID0gMC4xMjU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJzaG9ydFwiOlxyXG4gICAgICAgICAgICBzYW1wbGVyLnJlbGVhc2UgPSAwLjI1O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibWlkXCI6XHJcbiAgICAgICAgICAgIHNhbXBsZXIucmVsZWFzZSA9IDAuNDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImxvbmdcIjpcclxuICAgICAgICAgICAgc2FtcGxlci5yZWxlYXNlID0gMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImV4dGVuZGVkXCI6XHJcbiAgICAgICAgICAgIHNhbXBsZXIucmVsZWFzZSA9IDEuNTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIm1lZ2FcIjpcclxuICAgICAgICAgICAgc2FtcGxlci5yZWxlYXNlID0gNTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImNvbnN0YW50XCI6XHJcbiAgICAgICAgICAgIHNhbXBsZXIucmVsZWFzZSA9IDMwO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiaW5maW5pdGVcIjpcclxuICAgICAgICAgICAgc2FtcGxlci5yZWxlYXNlID0gMC4xO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBhc3NlcnROZXZlcihpbnN0cnVtZW50RHVyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRTYW1wbGVyQ3VydmUoc2FtcGxlcjogdG9uZS5TYW1wbGVyKSB7XHJcbiAgICAoc2FtcGxlciBhcyBhbnkpLmN1cnZlID0gXCJsaW5lYXJcIjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhbXBsZXIoXHJcbiAgICBpbnN0cnVtZW50OiBzdHJpbmcsXHJcbiAgICBleHRlbnNpb246IHN0cmluZyA9IFwib2dnXCIsXHJcbiAgICBiYXNlVXJsOiBzdHJpbmcgPSBcIi9ib3NjYS1jZW9pbC1qcy9hdWRpby9cIlxyXG4pOiB0b25lLlNhbXBsZXIge1xyXG4gICAgbGV0IHNhbXBsZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcclxuICAgIGZvciAoY29uc3Qgbm90ZSBvZiBub3Rlcykge1xyXG4gICAgICAgIHNhbXBsZXNbbm90ZV0gPSBgJHtpbnN0cnVtZW50fS8ke25vdGUudG9Mb3dlckNhc2UoKX0uJHtleHRlbnNpb259YDtcclxuICAgIH1cclxuICAgIGxldCBzYW1wbGVyID0gbmV3IHRvbmUuU2FtcGxlcihzYW1wbGVzLCB1bmRlZmluZWQsIGJhc2VVcmwpO1xyXG4gICAgc2V0U2FtcGxlckN1cnZlKHNhbXBsZXIpO1xyXG4gICAgc2V0U2FtcGxlclJlbGVhc2Uoc2FtcGxlciwgaW5zdHJ1bWVudCk7XHJcbiAgICByZXR1cm4gc2FtcGxlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVNhbXBsZXIoXHJcbiAgICBzYW1wbGVyOiB0b25lLlNhbXBsZXIsXHJcbiAgICBpbnN0cnVtZW50OiBzdHJpbmcsXHJcbiAgICBleHRlbnNpb246IHN0cmluZyA9IFwib2dnXCIsXHJcbik6IHRvbmUuU2FtcGxlciB7XHJcbiAgICBmb3IgKGNvbnN0IG5vdGUgb2Ygbm90ZXMpIHtcclxuICAgICAgICBzYW1wbGVyLmFkZChub3RlLCBgJHtpbnN0cnVtZW50fS8ke25vdGUudG9Mb3dlckNhc2UoKX0uJHtleHRlbnNpb259YCk7XHJcbiAgICB9XHJcbiAgICBzZXRTYW1wbGVyQ3VydmUoc2FtcGxlcik7XHJcbiAgICBzZXRTYW1wbGVyUmVsZWFzZShzYW1wbGVyLCBpbnN0cnVtZW50KTtcclxuICAgIHJldHVybiBzYW1wbGVyO1xyXG59XHJcbiIsImltcG9ydCB7IEluc3RydW1lbnREYXRhIH0gZnJvbSBcIi4vaW5kZXhcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnN0cnVtZW50RGF0YTogSW5zdHJ1bWVudERhdGEgPSByZXF1aXJlKFwiLi4vaW5zdHJ1bWVudHMueWFtbFwiKTtcclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5ldmVyKHg6IG5ldmVyKTogbmV2ZXIge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4aGF1c3RpdmUgY29uZGl0aW9uIGxlYWRpbmcgdG8gdmFsdWU6ICR7eH1gKTtcclxufVxyXG5cclxuLy8gRHVyYXRpb25zOlxyXG4vLyAtIENvbnN0YW50IG1lYW5zIHRoYXQgdGhlIHNvdW5kIHBsYXlzIGZvciB0aGUgc2FtZSBhbW91bnQgb2YgdGltZVxyXG4vLyAgIHJlZ2FyZGxlc3Mgb2YgdGhlIGxlbmd0aCBvZiB0aGUgbm90ZSBpbiBCb3NjYSBDZW9pbC5cclxuLy8gLSBJbmZpbml0ZSBtZWFucyB0aGF0IHRoZSBzb3VuZCBwbGF5cyBmb3IgaG93ZXZlciBhcmJpdHJhcmlseSBsb25nXHJcbi8vICAgdGhlIEJvc2NhIENlb2lsIG5vdGUgaXMuXHJcbi8vIC0gVGhlIG90aGVycyBhcmUgZmluaXRlIHRpbWVzLCBtZWFuaW5nIHRoYXQgdGhlIHNvdW5kIHdpbGwgcGxheSB1cCB0b1xyXG4vLyAgIGEgbWF4IHRpbWUsIGJ1dCBhZnRlciB0aGF0IHBvaW50LCBpdCB3aWxsIGdvIHNpbGVudCByZWdhcmRsZXNzIG9mIGhvd1xyXG4vLyAgIGxvbmcgdGhlIG5vdGUgaXMgaW4gQm9zY2EgQ2VvaWwuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW5zdHJ1bWVudCB7XHJcbiAgICBpbmRleDogbnVtYmVyO1xyXG4gICAgZHVyYXRpb246IFwiaW5zdGFudFwiIHwgXCJtaW5pXCIgfCBcInNob3J0XCIgfCBcIm1pZFwiIHwgXCJsb25nXCIgfCBcImV4dGVuZGVkXCIgfCBcIm1lZ2FcIiB8IFwiY29uc3RhbnRcIiB8IFwiaW5maW5pdGVcIjtcclxuICAgIHJlbGVhc2U6IG51bWJlcjtcclxuICAgIGNhdGVnb3J5OiBBcnJheTxzdHJpbmc+O1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBJbnN0cnVtZW50RGF0YSA9IHsgW2tleTogc3RyaW5nXTogSW5zdHJ1bWVudCB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IG5vdGVzID0gW1wiQzFcIiwgXCJDMlwiLCBcIkMzXCIsIFwiQzRcIiwgXCJDNVwiLCBcIkM2XCIsIFwiQzdcIiwgXCJDOFwiLCBcIkM5XCJdO1xyXG4iLCJpbXBvcnQgKiBhcyB0b25lIGZyb20gJ3RvbmUnO1xyXG5pbXBvcnQgeyBjaGFuZ2VTYW1wbGVyLCBnZXRTYW1wbGVyIH0gZnJvbSBcIi4vYXVkaW9cIjtcclxuY29uc3QgZGlhbG9nUG9seWZpbGwgPSByZXF1aXJlKFwiZGlhbG9nLXBvbHlmaWxsXCIpO1xyXG5cclxubGV0IHBsYXlpbmcgPSBmYWxzZTtcclxuY29uc3QgbGV0dGVycyA9IFtcIkNcIiwgXCJDI1wiLCBcIkRcIiwgXCJEI1wiLCBcIkVcIiwgXCJGXCIsIFwiRiNcIiwgXCJHXCIsIFwiRyNcIiwgXCJBXCIsIFwiQSNcIiwgXCJCXCJdO1xyXG5jb25zdCBjaG9yZHMgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV07XHJcblxyXG5jb25zdCB2b2x1bWUgPSBuZXcgdG9uZS5Wb2x1bWUoMCk7XHJcbmNvbnN0IGxvd1Bhc3MgPSBuZXcgdG9uZS5Mb3dwYXNzQ29tYkZpbHRlcigwLCAwKTtcclxuXHJcbmNvbnN0IGRlbGF5RWZmZWN0ID0gbmV3IHRvbmUuRmVlZGJhY2tEZWxheSgwLCAwKTtcclxuY29uc3QgY2hvcnVzRWZmZWN0ID0gbmV3IHRvbmUuQ2hvcnVzKCk7XHJcbmNob3J1c0VmZmVjdC53ZXQudmFsdWUgPSAwO1xyXG5jb25zdCByZXZlcmJFZmZlY3QgPSBuZXcgdG9uZS5GcmVldmVyYigwLCAzMDAwKTtcclxucmV2ZXJiRWZmZWN0LndldC52YWx1ZSA9IDA7XHJcbmNvbnN0IGRpc3RvcnRpb25FZmZlY3QgPSBuZXcgdG9uZS5CaXRDcnVzaGVyKDQpO1xyXG5kaXN0b3J0aW9uRWZmZWN0LndldC52YWx1ZSA9IDA7XHJcbmNvbnN0IGxvd0Jvb3N0RWZmZWN0ID0gbmV3IHRvbmUuRmlsdGVyKDAsIFwibG93c2hlbGZcIik7XHJcbmNvbnN0IGNvbXByZXNzb3JFZmZlY3QgPSBuZXcgdG9uZS5Db21wcmVzc29yKDApO1xyXG5jb25zdCBoaWdoUGFzc0VmZmVjdCA9IG5ldyB0b25lLkZpbHRlcigwLCBcImhpZ2hwYXNzXCIpO1xyXG5cclxuaW50ZXJmYWNlIE5vdGUge1xyXG4gICAgbGVuZ3RoOiBudW1iZXI7XHJcbiAgICBzY2hlZHVsZWRFdmVudDogbnVtYmVyIHwgbnVsbDtcclxufVxyXG5cclxubGV0IGluc3RydW1lbnROYW1lID0gXCJtaWRpLnBpYW5vMVwiO1xyXG5sZXQgc2FtcGxlciA9IGdldFNhbXBsZXIoXCJtaWRpLnBpYW5vMVwiKTtcclxubGV0IHBhdHRlcm5zOiB7IFtrZXk6IG51bWJlcl06IHsgW2tleTogc3RyaW5nXTogQXJyYXk8Tm90ZT4gfSB9ID0ge307XHJcbmZvciAoY29uc3QgY2hvcmQgb2YgY2hvcmRzKSB7XHJcbiAgICBwYXR0ZXJuc1tjaG9yZF0gPSB7fTtcclxuICAgIGZvciAoY29uc3QgbGV0dGVyIG9mIGxldHRlcnMpIHtcclxuICAgICAgICBwYXR0ZXJuc1tjaG9yZF1bbGV0dGVyXSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDE2IH0sICgpID0+IHsgcmV0dXJuIHsgbGVuZ3RoOiAwLCBzY2hlZHVsZWRFdmVudDogbnVsbCB9OyB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlQXVkaW8oKSB7XHJcbiAgICBpZiAocGxheWluZykge1xyXG4gICAgICAgIHRvbmUuVHJhbnNwb3J0LnN0b3AoKTtcclxuICAgICAgICB0b25lLlRyYW5zcG9ydC5wb3NpdGlvbiA9IFwiMFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXN1bWVBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICB0b25lLlRyYW5zcG9ydC5sb29wRW5kID0gJzFtJztcclxuICAgICAgICB0b25lLlRyYW5zcG9ydC5sb29wID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRvbmUuVHJhbnNwb3J0LnRvZ2dsZSgwKTtcclxuICAgIHBsYXlpbmcgPSAhcGxheWluZztcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzdW1lQXVkaW9Db250ZXh0KCkge1xyXG4gICAgbGV0IGFjID0gKHRvbmUgYXMgYW55KS5jb250ZXh0O1xyXG4gICAgaWYgKGFjLnN0YXRlICE9PSBcInJ1bm5pbmdcIikge1xyXG4gICAgICAgIGFjLnJlc3VtZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBtZGwtc2VsZWN0ZmllbGQgZG9lc24ndCBwbGF5IG5pY2Ugd2l0aCBjdXN0b20gb25jaGFuZ2UgZXZlbnQgbGlzdGVuZXJzLFxyXG4vLyBzbyB3ZSB1c2UgdGhpcyB0byBoYW5kbGUgaW5zdHJ1bWVudCBjaGFuZ2VzIGluc3RlYWQuXHJcbmZ1bmN0aW9uIHNldEluc3RydW1lbnRMb29wKGluc3RydW1lbnRGaWVsZDogSFRNTFNlbGVjdEVsZW1lbnQpIHtcclxuICAgIHNldEluc3RydW1lbnQoaW5zdHJ1bWVudEZpZWxkKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4geyBzZXRJbnN0cnVtZW50TG9vcChpbnN0cnVtZW50RmllbGQpOyB9LCAyNTApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRJbnN0cnVtZW50KGluc3RydW1lbnRGaWVsZDogSFRNTFNlbGVjdEVsZW1lbnQpIHtcclxuICAgIGlmIChpbnN0cnVtZW50TmFtZSAhPT0gaW5zdHJ1bWVudEZpZWxkLnZhbHVlKSB7XHJcbiAgICAgICAgaW5zdHJ1bWVudE5hbWUgPSBpbnN0cnVtZW50RmllbGQudmFsdWU7XHJcbiAgICAgICAgY2hhbmdlU2FtcGxlcihzYW1wbGVyLCBpbnN0cnVtZW50RmllbGQudmFsdWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRCcG0oKSB7XHJcbiAgICBsZXQgYnBtRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJwbVwiKTtcclxuICAgIGlmIChicG1GaWVsZCAhPT0gbnVsbCAmJiBicG1GaWVsZCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICB0b25lLlRyYW5zcG9ydC5icG0udmFsdWUgPSBwYXJzZUludChicG1GaWVsZC52YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFZvbHVtZSgpIHtcclxuICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2b2x1bWVcIik7XHJcbiAgICBpZiAoZmllbGQgIT09IG51bGwgJiYgZmllbGQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0gcGFyc2VJbnQoZmllbGQudmFsdWUpO1xyXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICB2b2x1bWUubXV0ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdm9sdW1lLnZvbHVtZS52YWx1ZSA9IChuZXdWYWx1ZSAtIDEwMCkgLyA1O1xyXG4gICAgICAgICAgICB2b2x1bWUubXV0ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0U3dpbmcoKSB7XHJcbiAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpbmdcIik7XHJcbiAgICBpZiAoZmllbGQgIT09IG51bGwgJiYgZmllbGQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgdG9uZS5UcmFuc3BvcnQuc3dpbmcgPSBwYXJzZUZsb2F0KGZpZWxkLnZhbHVlKTtcclxuICAgICAgICB0b25lLlRyYW5zcG9ydC5zd2luZ1N1YmRpdmlzaW9uID0gXCIxNm5cIjtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0UmVzb25hbmNlKCkge1xyXG4gICAgY29uc3QgZmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc29uYW5jZVwiKTtcclxuICAgIGlmIChmaWVsZCAhPT0gbnVsbCAmJiBmaWVsZCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBsb3dQYXNzLnJlc29uYW5jZS52YWx1ZSA9IHBhcnNlRmxvYXQoZmllbGQudmFsdWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXREYW1wZW5pbmcoKSB7XHJcbiAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGFtcGVuaW5nXCIpO1xyXG4gICAgaWYgKGZpZWxkICE9PSBudWxsICYmIGZpZWxkIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGxvd1Bhc3MuZGFtcGVuaW5nLnZhbHVlID0gcGFyc2VJbnQoZmllbGQudmFsdWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVQbGF5QnV0dG9uKCkge1xyXG4gICAgbGV0IHBsYXlCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlCdXR0b25cIik7XHJcbiAgICBpZiAocGxheUJ1dHRvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChwbGF5QnV0dG9uLnRleHRDb250ZW50ICE9PSBudWxsICYmIHBsYXlCdXR0b24udGV4dENvbnRlbnQudHJpbSgpLnRvTG93ZXJDYXNlKCkgPT09IFwicGxheVwiKSB7XHJcbiAgICAgICAgICAgIHBsYXlCdXR0b24udGV4dENvbnRlbnQgPSBcIlN0b3BcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5QnV0dG9uLnRleHRDb250ZW50ID0gXCJQbGF5XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRFZmZlY3QoZWZmZWN0OiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHN3aXRjaCAoZWZmZWN0KSB7XHJcbiAgICAgICAgY2FzZSBcImRlbGF5XCI6XHJcbiAgICAgICAgICAgIGRlbGF5RWZmZWN0LmRlbGF5VGltZS52YWx1ZSA9IHZhbHVlID09PSAwID8gMCA6IHRvbmUuVGltZShcIjhuXCIpICogMiAqIHZhbHVlO1xyXG4gICAgICAgICAgICBkZWxheUVmZmVjdC5mZWVkYmFjay52YWx1ZSA9IDAuMTUgKiAyICogdmFsdWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJjaG9ydXNcIjpcclxuICAgICAgICAgICAgY2hvcnVzRWZmZWN0LndldC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwicmV2ZXJiXCI6XHJcbiAgICAgICAgICAgIHJldmVyYkVmZmVjdC5yb29tU2l6ZS52YWx1ZSA9IHZhbHVlICogMC45O1xyXG4gICAgICAgICAgICByZXZlcmJFZmZlY3Qud2V0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJkaXN0b3J0aW9uXCI6XHJcbiAgICAgICAgICAgIGRpc3RvcnRpb25FZmZlY3Qud2V0LnZhbHVlID0gdmFsdWUgPT09IDAgPyAwIDogMTtcclxuICAgICAgICAgICAgZGlzdG9ydGlvbkVmZmVjdC5iaXRzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJsb3dCb29zdFwiOlxyXG4gICAgICAgICAgICBsb3dCb29zdEVmZmVjdC5mcmVxdWVuY3kudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgbG93Qm9vc3RFZmZlY3QuZ2Fpbi52YWx1ZSA9IHZhbHVlID09PSAwID8gMCA6IDIwO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiY29tcHJlc3NvclwiOlxyXG4gICAgICAgICAgICBjb21wcmVzc29yRWZmZWN0LnRocmVzaG9sZC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiaGlnaFBhc3NcIjpcclxuICAgICAgICAgICAgaGlnaFBhc3NFZmZlY3QuZnJlcXVlbmN5LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzY2hlZHVsZU5vdGUoY2hvcmQ6IG51bWJlciwgbGV0dGVyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKSB7XHJcbiAgICB1bnNjaGVkdWxlTm90ZShjaG9yZCwgbGV0dGVyLCBpbmRleCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhgc2NoZWR1bGVOb3RlKGNob3JkPSR7Y2hvcmR9LCBsZXR0ZXI9JHtsZXR0ZXJ9LCBpbmRleD0ke2luZGV4fSwgbGVuZ3RoPSR7bGVuZ3RofSlgKTtcclxuICAgIHBhdHRlcm5zW2Nob3JkXVtsZXR0ZXJdW2luZGV4XVtcImxlbmd0aFwiXSA9IGxlbmd0aDtcclxuXHJcbiAgICBwYXR0ZXJuc1tjaG9yZF1bbGV0dGVyXVtpbmRleF1bXCJzY2hlZHVsZWRFdmVudFwiXSA9IHRvbmUuVHJhbnNwb3J0LnNjaGVkdWxlKFxyXG4gICAgICAgIHRpbWUgPT4ge1xyXG4gICAgICAgICAgICBzYW1wbGVyLnRyaWdnZXJBdHRhY2tSZWxlYXNlKGAke2xldHRlcn0ke2Nob3JkfWAsIHRvbmUuVGltZShcIjE2blwiKSAqIGxlbmd0aCwgdGltZSk7XHJcbiAgICAgICAgICAgIHRvbmUuRHJhdy5zY2hlZHVsZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2xldHRlci5yZXBsYWNlKFwiI1wiLCBcIlxcXFwjXCIpfS0ke2Nob3JkfS0ke2luZGV4fWApO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vdGVFbGVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwbGF5aW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwbGF5aW5nTG9uZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwbGF5aW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicGxheWluZ0xvbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwICogbGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGltZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBgMDowOiR7aW5kZXh9YFxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdW5zY2hlZHVsZU5vdGUoY2hvcmQ6IG51bWJlciwgbGV0dGVyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpIHtcclxuICAgIHBhdHRlcm5zW2Nob3JkXVtsZXR0ZXJdW2luZGV4XVtcImxlbmd0aFwiXSA9IDA7XHJcbiAgICBjb25zdCBzY2hlZHVsZWUgPSBwYXR0ZXJuc1tjaG9yZF1bbGV0dGVyXVtpbmRleF1bXCJzY2hlZHVsZWRFdmVudFwiXTtcclxuICAgIGlmIChzY2hlZHVsZWUgIT09IG51bGwpIHtcclxuICAgICAgICB0b25lLlRyYW5zcG9ydC5jbGVhcihzY2hlZHVsZWUpO1xyXG4gICAgICAgIHBhdHRlcm5zW2Nob3JkXVtsZXR0ZXJdW2luZGV4XVtcInNjaGVkdWxlZEV2ZW50XCJdID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb25DbGlja05vdGVDZWxsKGV2ZW50OiBNb3VzZUV2ZW50LCBjZWxsOiBIVE1MVGFibGVDZWxsRWxlbWVudCwgY2hvcmQ6IG51bWJlciwgbGV0dGVyOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpIHtcclxuICAgIGxldCBsZW5ndGggPSBwYXR0ZXJuc1tjaG9yZF1bbGV0dGVyXVtpbmRleF1bXCJsZW5ndGhcIl07XHJcbiAgICAvLyBjb25zb2xlLmxvZyhgb25DbGlja05vdGVDZWxsKGNob3JkPSR7Y2hvcmR9LCBsZXR0ZXI9JHtsZXR0ZXJ9LCBpbmRleD0ke2luZGV4fSkgfCBsZW5ndGggJHtsZW5ndGh9YCk7XHJcblxyXG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgICBsZW5ndGggPSBNYXRoLm1heChsZW5ndGggLSAxLCAwKTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihsZW5ndGggKyAxLCAxNiksIDIpO1xyXG4gICAgfSBlbHNlIGlmIChsZW5ndGggPiAwKSB7XHJcbiAgICAgICAgbGVuZ3RoID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGVuZ3RoID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBjZWxsLmlubmVySFRNTCA9IGxlbmd0aC50b1N0cmluZygpO1xyXG5cclxuICAgIGlmIChsZW5ndGggPD0gMSkge1xyXG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcIm5vdGVMb25nXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJub3RlTG9uZ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobGVuZ3RoID4gMCAmJiBsZW5ndGggIT09IHBhdHRlcm5zW2Nob3JkXVtsZXR0ZXJdW2luZGV4XVtcImxlbmd0aFwiXSkge1xyXG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICBzY2hlZHVsZU5vdGUoY2hvcmQsIGxldHRlciwgaW5kZXgsIGxlbmd0aCk7XHJcbiAgICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICB1bnNjaGVkdWxlTm90ZShjaG9yZCwgbGV0dGVyLCBpbmRleCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uTG9hZCgpIHtcclxuICAgIHNhbXBsZXIuY2hhaW4oXHJcbiAgICAgICAgdm9sdW1lLFxyXG4gICAgICAgIGxvd1Bhc3MsXHJcbiAgICAgICAgZGVsYXlFZmZlY3QsXHJcbiAgICAgICAgY2hvcnVzRWZmZWN0LFxyXG4gICAgICAgIHJldmVyYkVmZmVjdCxcclxuICAgICAgICBkaXN0b3J0aW9uRWZmZWN0LFxyXG4gICAgICAgIGxvd0Jvb3N0RWZmZWN0LFxyXG4gICAgICAgIGNvbXByZXNzb3JFZmZlY3QsXHJcbiAgICAgICAgaGlnaFBhc3NFZmZlY3QsXHJcbiAgICAgICAgdG9uZS5NYXN0ZXJcclxuICAgICk7XHJcblxyXG4gICAgZG9jdW1lbnQub25rZXlwcmVzcyA9IGV2ZW50ID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzIpIHtcclxuICAgICAgICAgICAgdG9nZ2xlQXVkaW8oKTtcclxuICAgICAgICAgICAgdG9nZ2xlUGxheUJ1dHRvbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheUJ1dHRvblwiKTtcclxuICAgIGlmIChwbGF5QnV0dG9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlQXVkaW8pO1xyXG4gICAgICAgIHBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVBsYXlCdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBoZWxwQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWxwQnV0dG9uXCIpO1xyXG4gICAgbGV0IGhlbHBNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVscE1vZGFsXCIpO1xyXG4gICAgaWYgKGhlbHBCdXR0b24gIT09IG51bGwgJiYgaGVscE1vZGFsICE9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKCEoaGVscE1vZGFsIGFzIGFueSkuc2hvd01vZGFsKSB7XHJcbiAgICAgICAgICAgIGRpYWxvZ1BvbHlmaWxsLmRlZmF1bHQucmVnaXN0ZXJEaWFsb2coaGVscE1vZGFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGVscEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyAoaGVscE1vZGFsIGFzIGFueSkuc2hvd01vZGFsKCk7IH0pO1xyXG4gICAgICAgIGNvbnN0IGhlbHBNb2RhbENsb3NlID0gaGVscE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIik7XHJcbiAgICAgICAgaWYgKGhlbHBNb2RhbENsb3NlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGhlbHBNb2RhbENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAoaGVscE1vZGFsIGFzIGFueSkuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbnN0cnVtZW50RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc3RydW1lbnRzXCIpO1xyXG4gICAgaWYgKGluc3RydW1lbnRGaWVsZCAhPT0gbnVsbCAmJiBpbnN0cnVtZW50RmllbGQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCkge1xyXG4gICAgICAgIHNldEluc3RydW1lbnRMb29wKGluc3RydW1lbnRGaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJwbUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJicG1cIik7XHJcbiAgICBpZiAoYnBtRmllbGQgIT09IG51bGwpIHtcclxuICAgICAgICBicG1GaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHNldEJwbSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGVmZmVjdHNNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZmZlY3RzTWVudVwiKTtcclxuICAgIGlmIChlZmZlY3RzTWVudSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGVmZmVjdHNNZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVmZmVjdHMgPSBbXCJkZWxheVwiLCBcImNob3J1c1wiLCBcInJldmVyYlwiLCBcImRpc3RvcnRpb25cIiwgXCJsb3dCb29zdFwiLCBcImNvbXByZXNzb3JcIiwgXCJoaWdoUGFzc1wiXTtcclxuICAgIGZvciAoY29uc3QgZWZmZWN0IG9mIGVmZmVjdHMpIHtcclxuICAgICAgICBjb25zdCBlZmZlY3RGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2VmZmVjdH1FZmZlY3RgKTtcclxuICAgICAgICBpZiAoZWZmZWN0RmllbGQgIT09IG51bGwgJiYgZWZmZWN0RmllbGQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVmZmVjdEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0RWZmZWN0KGVmZmVjdCwgcGFyc2VGbG9hdChlZmZlY3RGaWVsZC52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBhdHRlcm5UYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGF0dGVyblwiKTtcclxuICAgIGlmIChwYXR0ZXJuVGFibGUgIT09IG51bGwgJiYgcGF0dGVyblRhYmxlIGluc3RhbmNlb2YgSFRNTFRhYmxlRWxlbWVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hvcmQgb2YgY2hvcmRzLnNsaWNlKCkucmV2ZXJzZSgpKSB7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IHRydWU7XHJcblxyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBsZXR0ZXIgb2YgbGV0dGVycy5zbGljZSgpLnJldmVyc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvdyA9IHBhdHRlcm5UYWJsZS5pbnNlcnRSb3coKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNob3JkSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNob3JkSGVhZGVyLnJvd1NwYW4gPSBsZXR0ZXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBjaG9yZEhlYWRlci5pbm5lckhUTUwgPSBjaG9yZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjaG9yZEhlYWRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGxldHRlckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgIGxldHRlckhlYWRlci5pbm5lckhUTUwgPSBsZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobGV0dGVySGVhZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgQXJyYXkoMTYpLmtleXMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZWxsID0gcm93Lmluc2VydENlbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmlkID0gYCR7bGV0dGVyfS0ke2Nob3JkfS0ke2l9YDtcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoYG5vdGUtJHtsZXR0ZXJ9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5vbmNsaWNrID0gZXZlbnQgPT4geyBvbkNsaWNrTm90ZUNlbGwoZXZlbnQsIGNlbGwsIGNob3JkLCBsZXR0ZXIsIGkpOyB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNlbnRyYWxSb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkYtNS0wXCIpO1xyXG4gICAgaWYgKGNlbnRyYWxSb3cgIT09IG51bGwpIHtcclxuICAgICAgICBjZW50cmFsUm93LnNjcm9sbEludG9WaWV3KHsgXCJiZWhhdmlvclwiOiBcInNtb290aFwiLCBcImJsb2NrXCI6IFwiY2VudGVyXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZvbHVtZUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2b2x1bWVcIik7XHJcbiAgICBpZiAodm9sdW1lRmllbGQgIT09IG51bGwpIHtcclxuICAgICAgICB2b2x1bWVGaWVsZC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHNldFZvbHVtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHN3aW5nRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aW5nXCIpO1xyXG4gICAgaWYgKHN3aW5nRmllbGQgIT09IG51bGwpIHtcclxuICAgICAgICBzd2luZ0ZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgc2V0U3dpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCByZXNvbmFuY2VGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzb25hbmNlXCIpO1xyXG4gICAgaWYgKHJlc29uYW5jZUZpZWxkICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmVzb25hbmNlRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBzZXRSZXNvbmFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkYW1wZW5pbmdGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGFtcGVuaW5nXCIpO1xyXG4gICAgaWYgKGRhbXBlbmluZ0ZpZWxkICE9PSBudWxsKSB7XHJcbiAgICAgICAgZGFtcGVuaW5nRmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBzZXREYW1wZW5pbmcpO1xyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gb25Mb2FkO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9